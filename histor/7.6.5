

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR mcourtoi     COURTOIS Mathieu       DATE 03/05/2006 - 18:46:23

--------------------------------------------------------------------------------
RESTITUTION FICHE 009310 DU 2005-12-30 05:59:52
TYPE anomalie concernant Code_Aster (VERSION 8.2)
TITRE
   IMPR_FONCTION / RECU_FONCTION et SENSIBILITE
FONCTIONNALITE
   Le probleme n'est pas lie a la sensibilite.
   Apres un MECA_STATIQUE, RECU_FONCTION sur un noeud donne une fonction a un seul point.
   Le
   fichier xmgrace produit definit xmin=xmax ce que n'aime pas xmgrace.
   
   Je modifie Graph.py pour gerer ce cas particulier, j'obtiens une belle courbe avec un
   point au milieu !
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   etude jointe
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR mabbas       ABBAS M.               DATE 03/05/2006 - 18:46:25

--------------------------------------------------------------------------------
RESTITUTION FICHE 009337 DU 2006-01-09 13:40:54
TYPE anomalie concernant Code_Aster (VERSION 8.2)
TITRE
   DYNA_NON_LINE  <"FLOATING POINT EXCEPTION">
FONCTIONNALITE
   On est pile sur la pointe du cone de frottement.
   Pour decider si un non est glissant ou non, on regarde la valeur du produit force de
   
   glissement par "jeu" du glissement. Quand ce produit est nul, la liaison est bien
   glissante.
   Toutefois, on ne prevoyait pas un cas. L'evaluation du parametre de lagrange du
   glissement
   se fait en calculant le signe du glissement (normalisation de la force du glissement et
   
   donc division par la valeur absolue du glissement).
   Lorsque le glissement est nul ET que la force d'adherence est nulle, le produit est nul
   
   mais on se trouve sur la pointe du cone de frottement. Dans ce cas, la valeur du
   jeu de glissement est nul et donc division par zero.
   On prevoit le cas en disant que si le jeu de glissement est nul mais que la force
   d'adherence est nulle aussi (pointe du cone), alors on considere que le point est
   adherent.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   cas-test fourni
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR acbhhcd      DEVESA G.              DATE 03/05/2006 - 18:46:28

--------------------------------------------------------------------------------
RESTITUTION FICHE 009398 DU 2006-01-25 15:47:36
TYPE anomalie concernant Code_Aster (VERSION 8.2)
TITRE
   DYNA_TRAN_MODAL, cumul MULT_APPUI, chgt volumique et chocs
FONCTIONNALITE
   Le probleme intervient quand on veut melanger des charges multi-appui avec
   des charges non multi-appui (forces imposees ou excitation mono-appui par
   exemple)dans un calcul avec mode statique pour correction du mouvement
   d'entrainement. Dans ce cas, on veut lire toutes les fonctions
   multiplicatrices en deplacement impose du mouvement d'entrainement multi-
   appui pour toutes les excitations et on tombe sur une fonction en deplacement
   impose non existante pour une charge non multi-appui d'ou le message fatal.
   La correction du probleme consiste a sauter les excitations non multi-appui
   dans la correction du mouvement d'entrainement en testant si la fonction de
   deplacement impose n'est pas une chaine de caracteres blancs. Cette
   correction intervient dans la routine MDFCHO pour la prise en compte des
   forces de choc mais aussi dans les routines MDGEP3 et MDGEP4 qui
   interviennent dans les operateurs REST_BASE_PHYS et RECU_FONCTION en presence
   de MULT_APPUI='OUI'. Dans ce cas, le message fatal qui prevenait du melange
   des charges multi-appui avec des charges non multi-appui pour la correction
   du mouvement d'entrainement est remplace par une alarme.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   etude jointe
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR delmas       DELMAS J.              DATE 03/05/2006 - 18:46:30

--------------------------------------------------------------------------------
RESTITUTION FICHE 009554 DU 2006-03-15 09:59:27
TYPE anomalie concernant Code_Aster (VERSION 8.2)
TITRE
   Estimateur d'erreur en residu et modelisation incompressible
FONCTIONNALITE
   L'erreur provient du calcul du deuxieme et troisieme terme de l'erreur. En effet l'appel
   aux valeurs de sigma est inexact, il sous-entend que le nombre de composante en 2D du
   tenseur des contraintes en 4 alors qu'il est de 5. Ainsi on recupere sigma22 au lieu de
   recuperer sigma11, sigma33 au lieu de sigma22, la composante SIP au lieu de sigma12 .On
   donne en exemple un morceau de code ou on calcule un saut de contrainte entre un
   element
   et son voisin. Le bug est present depuis l'introduction du developpement (version
   7.2.10, fiche 6398)
   
   Lignes 643-645, te0377.f :
   SG11(2) = ZR(IAD+IDEC1-4)-ZR(IAVAL1+IDEC2*(IEL-1)+IDEC3-4)
   SG22(2) = ZR(IAD+IDEC1-3)-ZR(IAVAL1+IDEC2*(IEL-1)+IDEC3-3)
   SG12(2) = ZR(IAD+IDEC1-1)-ZR(IAVAL1+IDEC2*(IEL-1)+IDEC3-1)
   
   On remplace par un appel "classique" du genre :
   SIG11(2) = ZR(IAD-1+NBCMP*(JNO-1)+1)
   
   On corrige les tests faux en modifiant la valeur de de reference dans TEST_RESU :
   ssls09c
   sslv130c
   sslv130d
   ssnp123b
   ssnv112c
   ssnv112d
   ssnv124a
   ssnv124c
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 7.2.10
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 7.2.10
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   affichage au niveau du fortran
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR adbhhvf      VOLDOIRE F.            DATE 03/05/2006 - 18:46:32

--------------------------------------------------------------------------------
RESTITUTION FICHE 009562 DU 2006-03-15 16:19:42
TYPE anomalie concernant Code_Aster (VERSION 8.2)
TITRE
   anomalie DYNA_TRAN_MODAL routine mdptem.f
FONCTIONNALITE
   Correction de DYNA_TRAN_MODAL
   routine mdptem.f
   But :
   VERIFICATION ET CALCUL DU PAS DE TEMPS
   
   Cas des structures avec modes rigides, ou les modes rigides sont nuls localement ou il
   y a
   des noeuds de choc.
   Etat actuel : division par ZERO !
   DTI = DEUXPI / SQRT(PULSAT(J)**2 +
   +             KNORM * DPLMOD(I,J,1+IA)**2 /MASGEN(J))
   Division par zero.
   Correction :
   Apres un premier essai de modifs en testant la non-nullite du mode sur le noeud de choc
   concerne, je me suis apercu que cela coutait trop cher : dans l'etude source de
   l'anomalie, cela fait pres de 10 millions d'evaluation et de lignes de messages...
   Donc je decide de se contenter d'un test sur la nullite de la pulsation propre du mode :
   cette routine ne donnera alors pas d'aide a l'utilisateur en terme de meilleur pas de
   temps sur la contribution d'un mode rigide donne.
   De plus, s'il y a beaucoup de modes rigides et de noeuds de choc potentiels, il vaut mieux
   que l'utilisateur cherche lui-meme le pas de temps optimal.
   Le PRE_EDA est lance apres un astout sur l'ensemble des 64 tests de dyna_tran_modal.
   
   Test sur etude VHTR (855 modes rigides, 1 mode vibratoire, 2128 ressorts a choc).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   test personnel + astout
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR mcourtoi     COURTOIS Mathieu       DATE 03/05/2006 - 18:46:35

--------------------------------------------------------------------------------
RESTITUTION FICHE 009604 DU 2006-03-28 08:15:10
TYPE anomalie concernant Code_Aster (VERSION 8.2)
TITRE
   CALC_TABLE : accumulation de titre ?
FONCTIONNALITE
   Le nombre de lignes d'un titre (CALL TITRE) est limite a 50, il y a meme un PARAMETER,
   mais rien n'arrete quand on arrive a 51 et on plante ensuite salement.
   
   A 50, on emet une alarme et on ignore les suivants.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   enchainement de 100 calc_table
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR acbhhcd      DEVESA G.              DATE 03/05/2006 - 18:46:37

--------------------------------------------------------------------------------
RESTITUTION FICHE 009626 DU 2006-03-30 11:38:20
TYPE anomalie concernant Code_Aster (VERSION 7.6)
TITRE
   verrouillage IMPR_MACR_ELEM
FONCTIONNALITE
   On va donc blinder dans la routine IREDM1 pour que les
   groupes de mailles utilises dans IMPR_MACR_ELEM via les
   mots cles: GROUP_MA_INTERF, mais aussi eventuellement
   GROUP_MA_FLU_STR, GROUP_MA_FLU_SOL, GROUP_MA_SOL_SOL, ne
   contiennent que des mailles surfaciques de type TRIA 3
   ou 6 ou QUAD 4 ou 8. Avec arret fatal sinon.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   etude jointe
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR kxbadng      ADOBES A.              DATE 03/05/2006 - 18:46:40

--------------------------------------------------------------------------------
RESTITUTION FICHE 009630 DU 2006-03-31 09:15:50
TYPE evolution concernant Code_Aster (VERSION 2.x)
TMA : CS
TITRE
   CALC_FLUI_STRU
FONCTIONNALITE
   Il s'agit d'un bug d'impression. Le parametre NUME_ORDRE est confondu avec
   le parametre
   NUME_MODE et le deuxieme etait systematiquement imprime comme le maximum
   du nombre de mode
   selectionne.
   Apres verification la correction doit etre reportee en v7. Il s agit en
   effet d une anomalie.
   Cependant, un probleme de coherence existe par ailleurs. En effet, avec la
   syntaxe
   suivante de CALC_FLUI_STRU :
   
   MELFLUI0=CALC_FLUI_STRU(VITE_FLUI=_F(VITE_MIN=1.000000e-01,
   VITE_MAX=8.100000e+00,
   NB_POIN=41,),
   BASE_MODALE=_F(MODE_MECA=MODES,
   
   NUME_ORDRE=(1,3,4,6,7,8,11,12,),
   AMOR_REDUIT=(2.0e-03,2.0e-03,2.0e-03,2.0e-03,2.0e-03,2.0e-03,2.0e-03,2.0e-
   03,),),
   TYPE_FLUI_STRU=TYPEFLUI,             IMPRESSION=_F(PARA_COUPLAGE='OUI',),);
   
   L'affichage donne
   
   MODE : NUMERO D ORDRE:  1/ NUME_MODE:  8/ FREQ: 5.036263D+01
   ....
   
   MODE : NUMERO D ORDRE:  3/ NUME_MODE:  8/ FREQ: 5.569398D+01
   ....
   
   Le numero d ordre qui devrait etre le numero dans la liste selectionne (
   donc ici de 1 a 8
   ) prend en fait le numero du mode de la base selectionne. Et le numero de
   mode est bloque
   au maximum.
   Par soucis de coherence avec la syntaxe et pour eviter un changement de
   syntaxe pour l
   utilisateur, celui-ci devant fournir une liste d entier sous le mot cle
   NUME_ORDRE, on
   decide de conserver la liste de numero d ordre tel quel mais de supprimer
   la liste des
   NUME_MODE de l affichage.
   
   En reprenant l exemple ci dessus, le nouvel affichage donne donc
   
   MODE : NUMERO D ORDRE:  1/ FREQ: 5.036263D+01
   ....
   
   MODE : NUMERO D ORDRE:  3/ FREQ: 5.569398D+01
   ....
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   test fourni avec l anomalie
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR cambier      CAMBIER S.             DATE 03/05/2006 - 18:46:42

--------------------------------------------------------------------------------
RESTITUTION FICHE 009676 DU 2006-04-11 16:06:00
TYPE anomalie concernant Code_Aster (VERSION 8.3)
TITRE
   GENE_FONC_ALEA
FONCTIONNALITE
   L'interspectre de l'utilisateur a un pas de frequence
   non constant, et ce pas est tres petit (3.49.10-3)pour
   certaines frequences. Les valeurs des parametres de
   l'algo de generation choisies par l'operateur
   induisent alors naturellement une duree du signal genere
   tres longue pour respecter la resolution frequentielle
   du spectre (T=1/deltaF). Cela se fait au detriment du
   pas de temps qui n'est alors pas assez petit (par
   rapport a 1/2fmax, fmax etantla frequence max du
   signal).
   Le fortran est corrige pour privilegier le respect du
   theoreme de Shannon et pour emettre une alarme si le
   signal genere n'est alors pas conforme avec la
   resolution de l'intespectre genere.
   C'est ainsi plus conforme avec la doc et avec les usages
   du traitement du signal.
   L'utilisateur pouvait toutefois obtenir le signal
   souhaite en imposant sa duree (mot cle DUREE_TIRAGE)
   conforme avec la resolution frequentielle souhaitee (et
   non celle de l'interspectre donne).
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 7.2.3
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 8.0
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   cas de l'utilisateur
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR galenne      GALENNE E.             DATE 03/05/2006 - 18:46:44

--------------------------------------------------------------------------------
RESTITUTION FICHE 009719 DU 2006-04-28 06:41:07
TYPE express concernant Code_Aster (VERSION 8.4)
TITRE
   MACR_ASPIC_CALC : petits bugs
FONCTIONNALITE
   Corrections de plusieurs petites anomalies dans MACR_ASPIC_MAIL, signalees via la TMA :
   - impression de la valeur locale de G (calculee mais non imprimee jusqu'a present)
   - erreur dans l'impression du champ de temperature
   - probleme avec le mot cle BORNES de l'option CALC_G_MAX (ajoute dans la liste des
   arguments de la macro)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   cas test aspic
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR mabbas       ABBAS M.               DATE 03/05/2006 - 18:46:47

--------------------------------------------------------------------------------
RESTITUTION FICHE 009725 DU 2006-05-02 06:35:54
TYPE anomalie concernant Code_Aster (VERSION 7.6)
TITRE
   CONTACT - Recherche lineaire V7
FONCTIONNALITE
   Blinde dans nminit.
   htna100a casse.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   liste restreinte
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF aspic01a                      cibhhlv L.VIVAN            195      5      4
 CASTEST MODIF fdlv101a                      cibhhlv L.VIVAN            164      3      3
 CASTEST MODIF ssls09c                       cibhhlv L.VIVAN            216      5      7
 CASTEST MODIF sslv130c                      cibhhlv L.VIVAN            342      5      5
 CASTEST MODIF sslv130d                      cibhhlv L.VIVAN            387     21     25
 CASTEST MODIF ssnp123b                      cibhhlv L.VIVAN            219     22     25
 CASTEST MODIF ssnv112c                      cibhhlv L.VIVAN            177     21     26
 CASTEST MODIF ssnv112d                      cibhhlv L.VIVAN            184     21     25
 CASTEST MODIF ssnv124a                      cibhhlv L.VIVAN            255     21     27
 CASTEST MODIF ssnv124c                      cibhhlv L.VIVAN            170     22     25
 FORTRAN AJOUT elements/ere2d1               cibhhlv L.VIVAN            152    152      0
 FORTRAN AJOUT elements/ere2d2               cibhhlv L.VIVAN            199    199      0
 FORTRAN AJOUT elements/ere2d3               cibhhlv L.VIVAN            333    333      0
 FORTRAN AJOUT elements/intenc               cibhhlv L.VIVAN             89     89      0
 FORTRAN AJOUT utilitai/calnor               cibhhlv L.VIVAN            235    235      0
 FORTRAN MODIF algeline/fluimp               cibhhlv L.VIVAN            462      3      4
 FORTRAN MODIF algorith/fro2gd               cibhhlv L.VIVAN            761      6      2
 FORTRAN MODIF algorith/gefact               cibhhlv L.VIVAN            464      9      6
 FORTRAN MODIF algorith/mdfcho               cibhhlv L.VIVAN            535     10      4
 FORTRAN MODIF algorith/mdgep3               cibhhlv L.VIVAN             57      5      4
 FORTRAN MODIF algorith/mdgep4               cibhhlv L.VIVAN             53      5      4
 FORTRAN MODIF algorith/mdptem               cibhhlv L.VIVAN            217      6      5
 FORTRAN MODIF algorith/nminit               cibhhlv L.VIVAN            377     12      3
 FORTRAN MODIF calculel/uthk                 cibhhlv L.VIVAN            330      6      3
 FORTRAN MODIF elements/te0377               cibhhlv L.VIVAN            295    137    538
 FORTRAN MODIF utilitai/iredm1               cibhhlv L.VIVAN            433     21      1
 FORTRAN MODIF utilitai/titre1               cibhhlv L.VIVAN            158      6      2
  PYTHON MODIF Macro/macr_aspic_calc_ops     cibhhlv L.VIVAN            822     11     10
  PYTHON MODIF Utilitai/Graph                cibhhlv L.VIVAN           1197      7      3


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    5        1008      1008             +1008
 MODIF :   24        8470       390     761      -371
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   29        9478      1398     761      +637 
