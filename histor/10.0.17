

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desoza       DE SOZA Thomas         DATE 14/09/2009 - 14:33:38

--------------------------------------------------------------------------------
RESTITUTION FICHE 013866 DU 2009-09-11 15:23:48
TYPE express concernant Code_Aster (VERSION 7.0)
TITRE
   MN10 - CONTACT - Glissixc3xa8re mxc3xa9thode continue et projection hors-zone
FONCTIONNALITE
   Fiche express
   =============
   
   Dans la méthode continue, lorsque l'on est en GLISSIERE='OUI', tout point ayant été
   contactant le reste jusqu'à la fin du calcul.
   Or il peut arriver qu'un point soit exclus du contact faute d'appariement (projection
   hors-zone), dans ce cas son statut de contact est remis à 0. On ne remet par contre pas le
   statut glissière à 0.
   
   Par ailleurs je déplace la mise à zéro du statut de contact de MMMBCA à MAPPAR dans le cas
   de la projection hors-zone. Cela devrait permettre de construire les matrices de contact
   en tenant compte plus rapidement du non-appariement.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   astout mxc3xa9thode continue
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 013814 DU 2009-09-03 08:37:51
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   Quelques imprxc3xa9cisions dans le C : malloc non libxc3xa9rxc3xa9 (free), xc3xa9crasements, ...
FONCTIONNALITE
   Anomalie
   ========
   
   En parcourant un peu le C d'Aster au cours de la fiche 13803, j'ai découvert quelques
   allocations (par malloc) non suivies d'une libération (par free). Il y a en outre un
   écrasement mémoire.
   
   Analyse
   =======
   
   * libérations oubliées dans 
   
   hdfrat (hdfrat.c) : nom
   aster_getcolljev (astermodule.c) : nom, val
   aster_GetResu (astermodule.c) : liscmp, nom, val
   aster_rcvale (astermodule.c) : nomres
   
   remarque : il n'y a absolument rien de grave là dedans. Seulement quelques octets perdus.
   
   * écrasement mémoire dans aster_GetResu (astermodule.c) : le tableau val est dimensionné à
   1. Son pointeur est passé à la routine Fortran TAILSD appelée dans le cas "LIST_RESULTAT".
   Or dans ce cas, on écrit 3 valeurs dans le tableau VAL.
   
   remarque : aster_GetResu ne semble être appelée que pour la vérification des SD.
   
   ---------------------------------
   
   impacts : hdfrat.c, astermodule.c
   à faire en V9
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   liste restreinte
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 013803 DU 2009-09-01 14:07:52
TYPE evolution concernant Code_Aster (VERSION )
TITRE
   MPICM1A - chaxc3xaene de caractxc3xa8res OPTMPI pour choix des opxc3xa9rations
FONCTIONNALITE
   Anomalie
   ========
   
   En compilant une version MPI d'Aster avec les compilateurs Gnu sur Calibre 5 (ou machine
   perso) on tombe sur un ASSERT dans MPICM1A la routine qui réalise les opérations MPI.
   Il se produit car une chaîne de caractères ne vaut pas la valeur attendue.
   
   Analyse
   =======
   
   Il s'avère que le schéma d'appel est le suivant :
   
   ........... F77 ........... C ........... F90 ...........
   ......... amumpp ..-->.. mpicm1 ..-->.. mpicm1a .........
   
   Le problème se situe dans le passage des longueurs des chaînes de caractères : le détour
   éphémère par le C (essentiellement pour de la compilation par directive) fait perdre la
   vraie longueur de la chaîne créée dans AMUMPP. En effet cette longueur est disponible à
   l'arrivée dans le C, mais on l'ignore et on renvoie la chaîne à MPICM1A avec la longueur
   donnée par strlen. Cette longueur n'est juste que si la chaîne comporte le caractère nul
   '\0'. Ce qui n'est pas le cas des chaînes Fortran par défaut (car elle porte
   intrinsèquement leur longueur).
   
   Solution
   ========
   
   On crée des chaînes de caractères temporaires dans le C en recopiant la chaîne Fortran (de
   longueur connue) et la complétant par le caractère nul.
   
   Impact : mpicm1.c, fetmpi.c, mummpi.c
   
   Remarque : Mathieu a émis une fiche pour changer complètement l'activation des routines
   MPI (fiche 13838) en se passant du C pour tout mettre dans le F90 (où la compilation
   conditionnelle existe aussi).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   aster mpi+gnu
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 013657 DU 2009-07-28 09:21:25
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   impression variable calcul de contact: anomalie NEW10
FONCTIONNALITE
   J'ai regardé le fichier "NEW10/Spherique/IMPR_VARIELGA.resu.med" et j'observe bien une
   composante V44 non nulle (cf. image). La doc R5.03.11 (p17) du monocristal me dit que
   c'est cette variable là qu'il faut regarder.
   Cela est cohérent avec l'état de contact donné par VALE_CONT avec un seul point en contact
   (le centre).
   
   Je classe sans suite.
   
   Si ça ne répond pas à la question, refaire une fiche en émettant les fichiers via ASTK
   (bouton REX) ou à la limite en précisant bien ce qu'il y a dans l'archive (celle-ci
   faisait 139Mo avec des .comm un peu partout) et quel est le problème exactement sur les
   fichiers joints.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   visuelle sur Salomxc3xa9
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 013566 DU 2009-06-26 09:01:23
TYPE anomalie concernant Code_Aster (VERSION 9.5)
TMA : DeltaCad
TITRE
   Problxc3xa8mes perfs factorisation Aster Salome-Meca2009.2/2009.1
FONCTIONNALITE
   Anomalie
   ========
   
   Jean-Philippe Mathieu signale une dégradation nette de performances entre SALOME-MECA
   2009.1 et 2009.2 :
   
   ********************************************************************** 
   * STAT_NON_LINE  :       USER :     SYSTEM :   USER+SYS :    ELAPSED * 
   ********************************************************************** 
   * C5 MMC 2009.1  :   39485.11 :    2471.53 :   41956.64 :   62165.57 *
   * C5 MMC 2009.2  :  227594.55 :    1539.03 :  229133.58 :  236065.08 *
   
   Analyse
   =======
   
   Deltacad a repassé le calcul sur BULL et C5 AMA(claut682) en version 9.4 et 9.5 (la
   différence entre 2009.1 et 2009.2) le tout hors de Salomé (avec Aster standalone).
   
   ********************************************************************** 
   * STAT_NON_LINE  :       USER :     SYSTEM :   USER+SYS :    ELAPSED * 
   ********************************************************************** 
   * BULL 9.4       :    9645.82 :     401.86 :   10047.68 :   10236.97 *
   * BULL 9.5       :    9093.68 :     272.22 :    9365.90 :    9409.39 *
   * CALIBRE5 9.4   :    4991.19 :     396.96 :    5388.15 :    6325.72 *
   * CALIBRE5 9.5   :    4875.58 :     308.43 :    5184.01 :    6191.41 *
   
   1. On ne constate pas de régression entre version 9.4 et 9.5
   2. Les écarts de temps entre C5 AMA et C5 MMC sont anormaux.
   
   J'ai donc repassé le calcul en STA9.4 avec la version d'Aster embarquée dans 2009.1
   
   ********************************************************************** 
   * STAT_NON_LINE  :       USER :     SYSTEM :   USER+SYS :    ELAPSED * 
   **********************************************************************
   * C5 AMA 2009.1  :    5018.98 :     404.12 :    5423.10 :    6363.26 *
   
   Les résultats sont cohérents avec ceux obtenus avec Aster seul.
   
   3. On conclut donc que le paquet 2009.1 ne souffre d'aucun dysfonctionnement. Si problème
   il y a il est à chercher du côté de la C5 utilisée à MMC.
   
   4. Concernant la dégradation de performances entre 2009.1 et 2009.2, Aimery l'explique par
   le fait que les bibliothèques mathématiques ne sont plus les MKL optimisées : "On a pris
   cette décision car les librairies MKL ne sont pas installées par défaut sur
   Calibre 5, ce qui nous obligeait à les embarquer dans Salome-Meca, ce qui est un peu hors
   limite avec la licence Intel.
   Si les librairies standard sont vraiment trop lentes, on peut réfléchir à en utiliser
   d'autres (soit atlas, qui est libre, soit MKL en configurant la licence)."
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   sur le calcul fourni
--------------------------------------------------------------------------------
RESTITUTION FICHE 012565 DU 2008-09-30 12:46:43
TYPE anomalie concernant Code_Aster (VERSION 9.4)
TITRE
   contact mxc3xa9thode continue et estimation de la normale
FONCTIONNALITE
   Dans cette fiche, Patrick Massin et Martin Guiton s'interrogeaient sur ce qui est fait
   dans la méthode continue de contact pour les normales dans le calcul des termes élémentaires.
   
   En effet dans les TE méthode continue, la normale aux points de contact est calculée par
   le produit vectoriel TAU1^TAU2, c'est à dire à partir des tangentes.
   Or ces tangentes proviennent du cham_elem de contact. C'est à dire que le repère local au
   point de contact n'est pas actualisé en fonction des déplacements et des fonctions de
   formes au cours des itérations de Newton mais reste fixé (en l'occurrence pendant une
   itération de la boucle de géométrie).
   
   Ce point de vue peut paraître simpliste, voire faux mais il n'en est rien. C'est
   simplement celui qui est adopté dans les méthodes de contact de Code_Aster (continu comme
   discret) pour résoudre la non-linéarité géométrique de contact :
   1. On se donne une configuration donnée sur laquelle on effectue un appariement, ce
   dernier donne le repère local en chaque point de contact.
   2. On suppose par la suite qu'il y a de petits glissements ce qui permet de linéariser la
   normale. On simplifie donc l'expression des matrices élémentaires.
   3. Une fois convergé au sens de Newton et du contact/frottement. On se pose la question de
   savoir si la configuration finale est "la même" que la configuration donnée initiale.
   ==> a/ si c'est le cas, on a convergé et on passe au pas de temps suivant
   ==> b/ si ce n'est pas le cas, alors on boucle en refaisant un appariement sur cette
   nouvelle configuration et ainsi de suite ...
   
   L'hypothèse de petits glissements est très forte, elle oblige à réaliser la boucle de
   géométrie (la plus externe et donc la plus coûteuse dans la méthode continue). Pour aller
   plus loin, il faut dériver la normale.
   
   Afin d'assurer la cohérence de la démarche j'ai pris le soin de vérifier que l'on
   calculait toujours la normale par le produit vectoriel TAU1^TAU2. On ne restitue donc rien.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   nxc3xa9ant
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 011925 DU 2008-04-04 09:44:33
TYPE evolution concernant Code_Aster (VERSION )
TITRE
   MN10 - Performances contact mxc3xa9thodes discretes
FONCTIONNALITE
   Évolution
   =========
   
   Cette fiche a pour but d'étudier l'influence du paramètre NB_RESOL des algorithmes de
   contact discret impliquant la construction d'un complément de Schur.
   Il s'agit pour l'essentiel des algorithmes 'CONTRAINTE' et 'LAGRANGIEN'.
   
   NB_RESOL permet de construire le complément de Schur en réalisant plusieurs résolutions
   directes (descentes-remontées) simultanées. Plus il est élevé, plus il faut de mémoire
   pour allouer le bloc de seconds membres ad-hoc, plus le gain en temps est grand (car on
   bénéficie du bloquage des opérations, et donc de l'utilisation des BLAS).
   
   Tests effectués
   ===============
   
   Pour essayer de cerner l'influence du paramètre, on a lancé des calculs pour des valeurs
   de NB_RESOL allant de 1 à 32 sur perf005[abc] ainsi que sur un cas-test perso avec 3
   tailles de maillage.
   Enfin a utilisé l'étude de la fiche 10798 pour faire un test.
   
   Afin de ne pas encombrer la fiche de chiffres en tout genre, je donne ici les résultats
   marquants.
   
   Valeur minimale
   ---------------
   * le paramètre doit toujours être supérieur ou égal à 5 si on utilise MULT_FRONT car pour
   moins de 4 seconds membres simultanés (RLTFR8.f, ligne98) la résolution est faite 1 par 1.
   Ce qui est trop coûteux en temps.
   
   Temps/mémoire pour des valeurs de 5 à 32
   ----------------------------------------
   * pour un nombre de noeuds esclaves faibles, le paramètre a peu d'influence (perf005a, 172
   liaisons esclaves, 64 actives, temps variants de 16s(5) à 12s(32)). Le temps calcul
   diminue linéairement, la mémoire augmente faiblement (à partir de NB_RESOL=10, jusqu'à +7%).
   
   * pour un nombre de noeuds esclaves moyens, cela devient plus intéressant (perf005b, 664
   liaisons esclaves, 222 actives, temps variants de 246s(5) à 156s(32)). Le temps calcul
   diminue linéairement, la mémoire augmente très faiblement.
   
   * pour un nombre de noeuds esclaves grands, cela est encore plus intéressant mais il faut
   tout de suite nuancer. En effet la quantité de mémoire nécessaire devient (hors celle
   prise par la fonctionnalité NB_RESOL) très importante, le temps calcul est lui aussi
   rédhibitoire, ceci fait que la charge machine a une grande influence sur les performances.
   La conséquence première est que le temps calcul n'augmente pas linéairement (dans des
   conditions parfaites, ce serait bien sûr le cas). Ainsi un des meilleurs temps est obtenu
   pour NB_RESOL=24 (3870), un des pires pour NB_RESOL=27 (4670), tandis que si on relance à
   la main NB_RESOL=32, on obtient le meilleur temps absolu (3635).
   
   ==> En général, on constate que l'augmentation de NB_RESOL jusqu'à 32 conduit à une
   augmentation négligeable de la quantité de mémoire JEVEUX requise (que ce soit la mémoire
   OOC ou IC). Parfois, il n'y a même pas d'augmentation de la mémoire OOC !
   Il est donc théoriquement possible d'augmenter la valeur par défaut à 32 par exemple. Mais
   quoi qu'il arrive il ne me semble pas opportun de supprimer ou cacher le mot-clé NB_RESOL.
   Je penche plutôt pour une explication claire du rôle de ce mot-clé et d'un paragraphe dans
   la doc U2 pour accélérer le calcul (au prix de la mémoire).
   
   Comparaison MULT_FRONT/MUMPS
   ----------------------------
   
   * un passage sur l'étude de la fiche 10798 montre que pour la première itération passer de
   NB_RESOL=10 à NB_RESOL=6000 (sachant qu'il y a 5369 liaisons esclaves possibles) fait
   passer le coût d'une itération de Newton de environ 84150s à 78900s.
   
   * sur ce même calcul on n'a pu utiliser que MUMPS car MULT_FRONT consomme une quantité
   importante de mémoire en mode résolution par blocs (cf. RLBFR8.f, il y a au moins un
   tableau de taille NBSM*NEQ en plus par rapport à MUMPS). Je n'ai pas émis de fiche
   concernant ce point.
   
   * par ailleurs, si on fixe un nombre NB_RESOL de résolutions simultanées supérieur au
   nombre de liaisons actives alors on allouera quand même la totalité du bloc NB_RESOL*NEQ.
   C'est dommage. On corrige donc dans CFACA1.f
   
   Conclusion
   ==========
   
   On ne change pas la valeur à 10 par défaut. On enrichit les docs U2 et U4 de contact pour
   expliquer clairement le fonctionnement de NB_RESOL. Pour les cas moyens il peut vraiment
   faire gagner du temps.
   Pour les gros cas, le temps est déjà grand en général mais on peut utiliser MUMPS pour
   diminuer la quantité mémoire.
   
   Enfin on corrige la routine CFACA1 pour économiser de la mémoire dans le cas où on fixe
   NB_RESOL > nb liaisons actives.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U2.04.04,U4.44.11
VALIDATION
   astout contact
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR geniaut      GENIAUT Samuel         DATE 14/09/2009 - 15:55:27

--------------------------------------------------------------------------------
RESTITUTION FICHE 013846 DU 2009-09-10 08:32:05
TYPE express concernant Code_Aster (VERSION 10.1)
TITRE
   X-FEM : bug dans POST_MAIL_XFEM
FONCTIONNALITE
   Problème :
   ----------
   
   Dans le post-traitement pour la visu X-FEM, si une maille n'appartient à aucun groupe de
   mailles, alors on plante violemment dans la routine xpogma.f :
   
   OBJET DE COLLECTION CONTIG DE LONGUEUR NULLE
   
   Solution :
   ----------
   
   Cela est dû à une mauvais ordre d'appel : 
   il faut d'abord faire    
      CALL JELIRA(JEXNUM(LISTGR,IMA),'LONMAX',NGRM,K8B)
      IF (NGRM.EQ.0) GOTO 999
   
   puis 
      CALL JEVEUO(JEXNUM(LISTGR,IMA),'L',IAGMA)
    ...
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   test x-fem
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR lefebvre     LEFEBVRE Jean-Pierre   DATE 14/09/2009 - 13:22:11

--------------------------------------------------------------------------------
RESTITUTION FICHE 013837 DU 2009-09-09 09:20:34
TYPE express concernant Code_Aster (VERSION 7.0)
TITRE
   Utilitaire JEVEUX pour rxc3xa9duire les fichiers associxc3xa9s xc3xa0 la base VOLATILE
FONCTIONNALITE
   On introduit la routine JEVEUX JEREOU qui permet de fermer une base ('V'), de détruire les
   fichiers associés dans le répertoire d'exécution et d'ouvrir une nouvelle base. 
   Cet utilitaire est mis en place dans la routine EXECOP pour pouvoir être appelée entre
   chaque commande. Un critère sur l'occupation de la base (nombre d'enregistrement utilisés
   / nombre d'enregisterments maximum) déclenche le mécanisme.
   On choisit pour le moment 1%. La routine peut aussi être appelée au sein de certaines
   commandes, à condition de s'assurer qu'aucun objet de la base n'est utilisé.     
   
         SUBROUTINE JEREOU (CLAS, PCENT)
         CHARACTER*(*)       CLAS
         REAL*8                   PCENT
   C ----------------------------------------------------------------------
   C ROUTINE UTILISATEUR PERMETTANT DE FERMER UNE BASE, DE DETRUIRE LE OU 
   C         LES FICHIERS ASSOCIES ET DE LA RE-OUVRIR 
   C IN : CLAS  NOM DE LA CLASSE ASSOCIEE ('G','V', ...)
   C IN : PCENT POURCENTAGE EN TERME DE NOMBRE D'ENREGISTREMENTS OCCUPES 
   C            AU-DELA DUQUEL ON DECLENCHE LA DESTRUCTION
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : D6.02.01
VALIDATION
   test personnel
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 013845 DU 2009-09-10 05:54:27
TYPE express concernant agla (VERSION *)
TITRE
   Code retour 139 dans les scripts de l'AGLA
FONCTIONNALITE
   Après investigation, l'erreur est due à des modifications dans l'environnement
   utilisateur. Les scripts de l'agla nécessitent un accès en écriture dans le répertoire
   $HOME/uaster sous le compte du développeur. L'accès aux fichiers de notation des sources
   d'Aster s'effectue en positionnant les droits sur certains scripts. Il est alors
   nécessaire de pouvoir accèder au répertoire $HOME/uaster avec les droits drwxr-xr-x or ces
   derniers étaient positionnés drwxr------ .
   
   On modifie le script de soumission /aster/agla/asqsub qui vérifie dèjà l'existence du
   répertoire $HOME/uaster pour qu'il positionne correctement les droits d'accès et le script
   /aster/agla/prologueAster.
   On conserve le script verif_type.csh modifié pour écrire le code retour lors de l'échec de
   la notation, ce qui aurait permis d'identifier plus rapidement le problème.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   pre_eda avec le compte colombo
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 013782 DU 2009-08-27 09:00:38
TYPE evolution concernant agla (VERSION )
TITRE
   Construction des chaines dans un astout sur Bull
FONCTIONNALITE
   Optimiser le lancement des tests dans des astout : actuellement on construit par défaut 12
   chaines de travaux en découpant brutalement la liste classée par ordre alphabétique, 
   Les procédures de construction des chaines de travaux ont été modifiées pour tenir compte
   du temps CPU indiqué dans les fichiers .para. On en déduit le temps total et un temps
   moyen par chaine, puis on construit chacune des chaines en fonction du temps cumulé qui
   doit être approximativement égal au temps moyen.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   astout liste restreinte et longue
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR pellet       PELLET Jacques         DATE 14/09/2009 - 17:52:09

--------------------------------------------------------------------------------
RESTITUTION FICHE 013833 DU 2009-09-09 05:51:24
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   version NEW10.0.16 sur Calibre4 : erreur xc3xa0 la compilation des catalogues d'xc3xa9lxc3xa9ments
FONCTIONNALITE
   Problème:
   ---------
   Sur Calibre 4, la version 10.0.16 est inutilisable.
                                                                                            
                           
   Solution:
   ---------
   Il s'agit d'un bug résultant de la fiche 13465 : j'ai "allongé" le tableau argument de la
   routine uttcsm.c mais je n'ai modifié que l'appelant fortran (uttcp0.f) sans me rendre
   compte qu'une routine C (uttrst.c) l'appelait également.
                                                                                            
                           
   Je corrige donc uttrst.c :
   30c30
   <   DOUBLE t_csm[2] , t_lim;
   ---
   >   DOUBLE t_csm[3] , t_lim;
    
    
   Liste des fichiers impactés par la correction de la fiche:  13833
     uttrst.c
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   essai perso
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 013840 DU 2009-09-09 11:36:12
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   Le message ELEMENTS2_38 ne devrait pas etre emis par les tests de la base
FONCTIONNALITE
   Problème :
   -----------
   Il existe 6 tests dans la base des tests qui émettent l'alarme ELEMENTS2_38  :
                                                                                            
                           
   ssla200a ! ELEMENTS2_38  émise 1890 fois
   ssla200b ! ELEMENTS2_38  émise 1860 fois
   sslp200a ! ELEMENTS2_38  émise 1800 fois
   sslp200b ! ELEMENTS2_38  émise 1800 fois
   sslp201a ! ELEMENTS2_38  émise 1800 fois
   sslp201b ! ELEMENTS2_38  émise 1800 fois
                                                                                            
                           
    ->  L'option ANGL_AXE n'est pas prise en compte en 2D mais seulement
        en 3D.
    -> Risque & Conseil :
       Ce mot clé utilisé dans l'opérateur AFFE_CARA_ELEM (MASSIF), permet
       de définir des axes locaux pour lesquels on utilise une propriété de
       symétrie de révolution, ou d'isotropie transverse. En 2D, on peut définir
       un repère d'orthotropie via ANGL_REP.
                                                                                            
                           
   Cette alarme signale en réalité une erreur de mise en donnée : on utilise un mot clé
   (ANGL_AXE) réservé au 3D pour un problème 2D.
                                                                                            
                           
   Les 6 tests qui émettent ce message sont 2D. Il faut donc corriger leur fichier .comm
                                                                                            
                           
                                                                                            
                           
   Solution:
   ---------
   Dans les 6 tests, on a modifié le .comm de la façon suivante :
   191,197c191,193
   <          _F( GROUP_MA = 'TOUT', ANGL_REP = (21.4, 5.8, -16.7,)),
   <          _F( GROUP_MA = ('GMA10', 'GMA11', 'GMA12',),
   <                   ANGL_AXE = (57.4, 22.7,), ORIG_AXE = (1.1, 0.5, 0.6,))) )
   ---
   >          _F( GROUP_MA = 'TOUT', ANGL_REP = 21.4),
   >          _F( GROUP_MA = ('GMA10', 'GMA11', 'GMA12',), ANGL_REP = 0.),
   >         ))
                                                                                            
                           
   C'est à dire que :
      pour le mot clé ANGL_REP, on ne garde que le 1er angle
      pour les mots clés ANGL_AXE / ORIG_AXE, on force ANGL_REP à 0. puisque ces mots clés
   étaient ignorés en 2D.
                                                                                            
                           
   Suite à ces modifs, les tests restent tous OK
                                                                                            
                           
                                                                                            
                           
   Détail :
   --------
   Après discussion avec Jean-Michel et Josselin, on modifie les routines ortrep.f rcangm.f
   pour que l'alarme ELEMENTS2_38 soit transformée en erreur Fatale.
                                                                                            
                           
    
   Liste des fichiers impactés par la correction de la fiche:  13840
     ortrep.f  rcangm.f
     ssla200a.comm  ssla200b.comm  sslp200a.comm  sslp200b.comm  sslp201a.comm
     sslp201b.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   les 6 tests incriminxc3xa9s
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 013842 DU 2009-09-09 13:00:20
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   PROJ_CHAMP - Message d'erreur peu compr?nsible
FONCTIONNALITE
   Problème:
   ---------
   Sébastien s'est planté dans PROJ_CHAMP avec le message incompréhensible :
   !-----------------------------!
   !.<EXCEPTION>.<CALCULEL4_59>..!
   !. maillages 1 differents.....!
   !-----------------------------!
                                                                                            
                           
   Correction :
   -------------
                                                                                            
                           
   J'améliore le message d'erreur :
   !-------------------------------------------------------------------------------------------!
   !.<EXCEPTION>.<CALCULEL4_59>................................................................!
   !...........................................................................................!
   !.Erreur.utilisateur.dans.PROJ_CHAMP.:......................................................!
   !..Les.maillages.associés.au.MODELE_1.et.au.RESULTAT.sont.differents.:.MAIL_INI.et.MAIL_HY..!
   !-------------------------------------------------------------------------------------------!
                                                                                            
                           
                                                                                            
                           
   Analyse de la situation :
   -------------------------
                                                                                            
                           
   Le problème vient de la sd résultat RESPIPO qui s'appuie sur le maillage MAIL_HY (et non
   sur MAIL_INI).
   Cette SD est produite à partir d'un champ de fonctions MQUPIPO qui malheureusement
   s'appuie également sur MAIL_HY car il est fabriqué à partir du champ CHDEPL (sur MAIL_HY).
                                                                                            
                           
   Ce qui est trompeur, c'est que dans les 2 commandes :
      MQUPIPO=CREA_CHAMP(TYPE_CHAM='NOEU_DEPL_F', OPERATION='ASSE', ...
      RESPIPO=CREA_RESU(OPERATION='AFFE', ...
                                                                                            
                           
   l'utilisateur a utilisé le mot clé MODELE=MO_PIPO (associé au maillage MAIL_INI) mais ces
   2 commandes ignorent ce mot clé car elles ne font que créer des champs aux noeuds pour
   lesquels le modele est inutile.
                                                                                            
                           
   Dans l'idéal, il faudrait que les commandes CREA_CHAMP et CREA_RESU émettent un message
   d'erreur pour signaler que l'utilisateur a renseigné un mot clé (MODELE) contradictoire
   avec le reste de la commande.
                                                                                            
                           
                                                                                            
                           
   Solution pour Sébastien :
   -------------------------
   Il doit créer le champ CHDEPL sur le maillage MAIL_INI
                                                                                            
                           
                                                                                            
                           
   Amélioration de CREA_CHAMP :
   ----------------------------
   On émet maintenant le message d'erreur suivant :
   !----------------------------------------------------------------------------------------------!
   !.<F>.<CALCULEL4_78>...........................................................................!
   !..............................................................................................!
   !.Erreur.utilisateur.dans.CREA_CHAMP.:.........................................................!
   !...Le.maillage.associé.au.champ.créé.par.la.commande.(MAIL_HY).est.différent..................!
   !...de.celui.qui.est.fourni.par.l'utilisateur.via.les.mots.clés.MAILLAGE.ou.MODELE.(MAIL_INI)..!
   !.Conseil.:....................................................................................!
   !...Il.vaut.vérifier.les.mots.clés.MAILLAGE.ou.MODELE..........................................!
   !...Remarque.:.ces.mots.clés.sont.peut.etre.inutiles.pour.cette.utilisation.de.CREA_CHAMP......!
   !----------------------------------------------------------------------------------------------!
                                                                                            
                           
   Remarque :
   Je ne cherche pas à améliorer la commande CREA_RESU
    
    
   Liste des fichiers impactés par la correction de la fiche:  13842
     op0195.f  pjefpr.f
     calculel4.py
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   essai perso
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 013844 DU 2009-09-09 16:13:33
TYPE anomalie concernant Code_Aster (VERSION 9.6)
TITRE
   CREA_CHAMP - formatage message erreur
FONCTIONNALITE
   Problème:
   ---------
   L'utilisateur est arreté par un message mal formaté :
   !------------------------------!
   !.<EXCEPTION>.<CALCULEL2_12>...!
   !..............................!
   !..Le.CHAM_NO.xxxxxx.est.vide..!
   !------------------------------!
                                                                                            
                           
                                                                                            
                           
                                                                                            
                           
   Solution:
   ---------
   On corrige la routine cnscno.f et on améliore un peu le message :
   !-------------------------------------------------------------------------------------!
   !.<EXCEPTION>.<CALCULEL2_12>..........................................................!
   !.....................................................................................!
   !.Erreur.lors.de.la.transformation.du.cham_no_s.(&&CHPASS.CHS3).en.cham_no.(MQUPIPO):.!
   !.Le.cham_no_s.est.vide.(i.e..il.n'a.aucune.valeur)...................................!
   !-------------------------------------------------------------------------------------!
                                                                                            
                           
                                                                                            
                           
   Réponse à l'utilisateur :
   -------------------------
   L'erreur de l'utilisateur est d'avoir inversé les 2 mots clés NOM_CMP et NOM_CMP_RESU.
   Il devrait probablement écrire :
                                                                                            
                           
      MQUPIPO=CREA_CHAMP(INFO=1,
                        ASSE=(_F(NOM_CMP='DX',  NOM_CMP_RESU='PRE1',
                                 CUMUL='NON',
                                 CHAM_GD=CHDEPL,
                                 COEF_R=1.0,
                                 ...
                                                                                            
                           
   Puisque dans le champ CHDEPL, les composantes s'appellent DX et DY.
                                                                                            
                           
    
    
   Liste des fichiers impactés par la correction de la fiche:  13844
     cnscno.f
     calculel2.py
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   essai perso
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 013847 DU 2009-09-10 08:34:39
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   mesures de temps de STAT_NON_LINE cassxc3xa9es en 10.0.16
FONCTIONNALITE
   Problème:
   ---------
   Thomas De Soza a remarqué que depuis ma restitution de la fiche 13465 (en 10.0.16), les
   belles impressions de statistiques CPU de STAT_NON_LINE étaient fausses.
                                                                                            
                           
   Solution:
   ---------
   J'ai effectivement fait une bétise dans la routine nmtime.f
   Je la corrige.
                                                                                            
                           
                                                                                            
                           
   Liste des fichiers impactés par la correction de la fiche:  13847
     nmtime.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   essai perso
NB_JOURS_TRAV  : 0.4
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR proix        PROIX Jean-Michel      DATE 14/09/2009 - 14:02:23

--------------------------------------------------------------------------------
RESTITUTION FICHE 013834 DU 2009-09-09 07:49:12
TYPE express concernant Code_Aster (VERSION 7.0)
TITRE
   Amxc3xa9loiration de la robustesse de la loi VENDOCHAB
FONCTIONNALITE
   Dans la cadre des études d'accidents graves sur cuve, pour le projet Pagodes, on est amené
   à utiliser le comportement VENDOCHAB pour simuler l'apparition d'une brêche. On est donc
   confronté à des endommagements importants localement. 
   
   Dans ces situations où la convergence du problème global est difficile, il est souhaitable
   que la loi de comportement soit le plus robuste possible, donc réussise à intégrer le
   comporement le mieux possible. 
   
   On propose donc ici des améliorations de la robustesse de l'intégration :
   
   - recherche de la localisation de la solution dans le cas où il y en a deux (on prend la
   plus petite) : bracketting, et test du signe de la dérivée de la fonction dont on cherche
   le zéro
   - remplacement de ZEROFO par ZEROCO, pour être sûr d'aboutir
   
   Validation : tous les tests VENDOCHAB, et nos études d'AG 
   Doc : une explication du procédé dans R5.03.15
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : R5.03.15
VALIDATION
   tests Vendochab
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 013850 DU 2009-09-10 15:52:29
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   En NEW10.0.16, le cas-test forma01c est NOOK sur Bull, Rocks et Calibre5.
FONCTIONNALITE
   En NEW10.0.16, le cas-test forma01c est NOOK sur Bull, Rocks et Calibre5.
   Le test incorrect est le suivant:
   " ---- RESULTAT:  RESUT    NUME_ORDRE:   2 NOM_CHAM: EQUI_ELNO_SIGM                      
                   
   REFERENCE: NON_REGRESSION   VERSION: 7.01.13         
   NOOK              RELA   121.772 % VALE: 2.6175287340061D+08
    MAX              TOLE     0.100 % REFE: 1.1802765666400D+08
   
   Ce test était cassé suite à la fiche 13533 : modification du calcul de VMIS_SG
   
   On répare en changeant la valeur de référence
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   forma01c
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR sellenet     SELLENET Nicolas       DATE 14/09/2009 - 16:20:20

--------------------------------------------------------------------------------
RESTITUTION FICHE 013602 DU 2009-07-07 11:48:00
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TMA : CS
TITRE
   erreur pre_gmsh
FONCTIONNALITE
   Problème :
   ----------
   """
   erreur a l'ouverture d'un fichier gmsh avec la commande pre_gmsh
   """
   
   
   Solution :
   ----------
   Résolue par la fiche 13547.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   aucune
--------------------------------------------------------------------------------
RESTITUTION FICHE 013768 DU 2009-08-25 11:31:49
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   Plantage dans PRE_GMSH
FONCTIONNALITE
   Problème :
   ----------
   """
   Plantage dans PRE_GMSH avec le maillage joint.
   """
   
   
   Analyse :
   ---------
   Le plantage est dû à la présence dans le fichier GMSH d'une catégorie nommée
   $PhysicalNames qu'aster ne connait pas.
   
   
   Solution :
   ----------
   Comme cette catégorie ne semble pas utile, on ne la lit pas et on passe à la suivante.
   
   Fichier impacté :
   pregms.f
   
   
   Validation :
   ------------
   Cas tests PRE_GMSH
   Cas test de la fiche
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   cas test PRE_GMSH + cas test fiche
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 013565 DU 2009-06-26 08:56:07
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   Fonction produite par RECU_FONCTION
FONCTIONNALITE
   Problème :
   ----------
   "Dans le cas test ssnl502c, on extrait la fonction DX_ETA à partir de la table TAB_COMB.
   
   Malheureusement, les abscisses extraites ne sont pas strictement croissantes (c'est
   visible dans le .resu) et lorsque j'essaye de créer la t_fonction correspondante à la
   fonction Fortran, le python vérifie la croissance des abscisses et refuse de la créer.
   
   Je suis aller voir dans le source de RECU_FONCTION et, d'après les commentaires, il semble
   qu'on essaye de tester la croissance des abscisses. Apparement, ce mécanisme est HS."
   
   
   Solution :
   ----------
   On ne modifie pas RECU_FONCTION mais plutôt la fonction is_ordo de t_fonction.py pour
   qu'elle autorise les abscisses non strictement croissantes.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   cas test utilisant TEST_FONCTION
NB_JOURS_TRAV  : 0.3
--------------------------------------------------------------------------------
RESTITUTION FICHE 013354 DU 2009-04-29 07:15:33
TYPE evolution concernant agla (VERSION )
TITRE
   un peu plus avec le code-coverage
FONCTIONNALITE
   Demande initiale :
   ------------------
   """
   Un truc dont je rêverai est la faculté de naviguer dans les sources autrement qu'en
   faisant "cd .." et "grep"  (ou des scripts persos pour les meilleurs) :
   
   - Pour identifier les responsabilités de routines avec gestion type bdd et hyperlien
   pointant sur un nom unique de responsable (on a encore du "pellet j.pellet", du "vabhhts
   j.pellet" voire du "pellet" tout court dans les options),
   - Pour obtenir en un clic les arbres ascendants et descendants de dépendances de routines,
   - Pour naviguer dans une interface web via des hyperliens
   - Pour pouvoir faire des stats (nb lignes, responsables, modifs)
   - Pour taguer les routines d'informations du type "attention, aucun test n'y passe" (et
   donc stocker cette info).
   """
   
   
   Solution :
   ----------
   Une page accessible aux développeurs est accessible à l'adresse suivante :
   http://aster-rex.der.edf.fr/arbres
   
   Elle est remise à jour chaque mercredi (à 2h du matin) pour chaque version NEW10 d'aster.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   aucune
NB_JOURS_TRAV  : 6.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 012576 DU 2008-10-01 14:19:05
TYPE evolution concernant Code_Aster (VERSION )
TITRE
   choisir un responsable pour chaque option de Code_Aster
FONCTIONNALITE
   Evolution souhaitée :
   ---------------------
   """
   C. Durand a eu une très bonne idée :
   ------------------------------------
   Dans les fichiers .code, plutot que d'écrire (par exemple) :
     SSNV129A &&CALCUL CHAR_MECA_PRES_R MEDKQU4          OUI
   On pourrait écrire :
     SSNV129A &&CALCUL CHAR_MECA_PRES_R MEDKQU4          STAT_NON_LINE
                                                                                            
                                          
   Ce qui ajoute l'information : STAT_NON_LINE utilise l'option CHAR_MECA_PRES_R
                                                                                            
                                          
   Grace à cette information (à quelle(s) commande(s) sert une option donnée), on peut
   essayer d'affecter une responsable aux 300 options de Code_Aster.
   """
   
   Cela a déjà été fait par Jacques en 10.0.3.
   
   Donc, je ferme la fiche.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   rien
NB_JOURS_TRAV  : 0.01
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR sfayolle     FAYOLLE Sebastien      DATE 14/09/2009 - 15:20:54

--------------------------------------------------------------------------------
RESTITUTION FICHE 013804 DU 2009-09-01 14:32:20
TYPE anomalie concernant Code_Aster (VERSION 9.6)
TITRE
   Revue du mod? GLRC_DM
FONCTIONNALITE
   Objectifs
   -----------
   
   Cette revue consiste en :
   _la vérification du modèle théorique (FV+SF)
   _la vérification de la cohérence du fortran avec le modèle théorique (SF)
   _la mise à jour et amélioration des cas tests ssns106 (NS via SF)
   _la rédaction de la doc V (NS via SF)
   _mise à jour et enrichissement de la doc R (FV)
   
   Réalisations
   -------------
   
   Modèle théorique
   ~~~~~~~~~~~~~~~~~
   
   Le calcul de la composante du seuil d'endommagement en membrane montre qu'une erreur a été
   introduite dans le modèle. En effet, le terme lié à Eps_zz dans la partie déviatorique n'a
   pas lieu d'être.
   
   La correction de l'ensemble des équations découlant a été réalisée. 
   
   Pour finir, une erreur dans le calcul de la contribution C_e^mm à la matrice tangente a
   été trouvée. 
   
   Modifications du sources
   ~~~~~~~~~~~~~~~~~~~~~~~~~
   
   Les modifications apportées correspondent essentiellement à la mise en conformité du code
   source avec la documentation théorique corrigée.
   
   Dans le cas du béton armé, le modèle considère qu'il n'y a pas d'endommagement en
   compression ce qui se traduit par un GMC = 1. Or dans le code, on a GMC = 0. Cela a pour
   conséquence de ne pas donner les résultats attendus lors de compression. Le code a été
   corrigé pour être en accord avec la théorie. De plus, nous avons mis en place la
   possibilité à l'utilisateur soit de définir un GMC différent de 1 soit d'imposer une
   limite en compression au travers de la variable SYC.
   
   L'implémentation de l'intégration locale de la loi de comportement GLRC_DM a été revue. En
   effet, cette intégration utilise un algorithme de prédiction/correction. Dans la version
   initialement développé, lors de l'étape de prédiction, un découplage membrane ? flexion du
   critère d'endommagement est utilisé pour calculer les valeurs des variables
   d'endommagement à l'itération 0. Afin d'améliorer la prédiction, nous avons repris en
   compte le couplage. On est amené à résoudre un polynôme du quatrième ordre. Pour ce faire,
   nous avons utilisé l'algorithme des valeurs propres de la matrice compagnon.
   
   L'amélioration de la prédiction permet de diminuer le nombre d'itérations nécessaires de
   l'algorithme de Newton-Raphson pour l'intégration de la loi de comportement.
   
   Pour finir, une erreur dans la programmation du calcul de la matrice tangente a été corrigée.
   
   Validations
   ~~~~~~~~~~~~
   
   Les cas tests ssns106 ont été modifiés et enrichis par Navid Saeedi qui a fait un gros
   travail d'harmonisation. La documentation associée au cas test a été entièrement réécrite
   par Navid.
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 8.3.21
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 8.3.21
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.05.106, R7.01.32
VALIDATION
   ssns106
NB_JOURS_TRAV  : 20.0
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF forma01c                        proix J-M.PROIX          336     47     43
 CASTEST MODIF perf005b                       desoza T.DESOZA           112     11      7
 CASTEST MODIF ssla200a                       pellet J.PELLET          1326      4      8
 CASTEST MODIF ssla200b                       pellet J.PELLET          1358      4      8
 CASTEST MODIF sslp200a                       pellet J.PELLET          1466      4      8
 CASTEST MODIF sslp200b                       pellet J.PELLET          1287      4      8
 CASTEST MODIF sslp201a                       pellet J.PELLET          1215      4      8
 CASTEST MODIF sslp201b                       pellet J.PELLET          1211      4      8
 CASTEST MODIF ssns106a                     sfayolle S.FAYOLLE          953    841    765
 CASTEST MODIF ssns106b                     sfayolle S.FAYOLLE         1412   1306    776
 CASTEST MODIF ssns106c                     sfayolle S.FAYOLLE         1526   1434    733
 CASTEST MODIF ssns106d                     sfayolle S.FAYOLLE          416    330    434
 CASTEST MODIF ssns106e                     sfayolle S.FAYOLLE          530    350    283
 CASTEST MODIF ssns106f                     sfayolle S.FAYOLLE          741     40     40
 CASTEST MODIF ssns106g                     sfayolle S.FAYOLLE          493      8      8
 CASTEST MODIF ssnv183a                        proix J-M.PROIX          560      2      1
CATALOPY MODIF commande/defi_materiau       sfayolle S.FAYOLLE         2899     14     11
       C MODIF hdf/hdfrat                     desoza T.DESOZA            65      2      1
       C MODIF supervis/astermodule           desoza T.DESOZA          4174      8      2
       C MODIF utilitai/fetmpi                desoza T.DESOZA            61     21      4
       C MODIF utilitai/mpicm1                desoza T.DESOZA            46     13      4
       C MODIF utilitai/mummpi                desoza T.DESOZA            50     12      5
       C MODIF utilitai/uttrst                pellet J.PELLET            35      2      2
 FORTRAN AJOUT algorith/nmfedd                 proix J-M.PROIX           68     68      0
 FORTRAN AJOUT jeveux/jeinfb                lefebvre J-P.LEFEBVRE        54     54      0
 FORTRAN AJOUT jeveux/jereou                lefebvre J-P.LEFEBVRE        78     78      0
 FORTRAN MODIF algorith/cfaca1                desoza T.DESOZA           335      2      1
 FORTRAN MODIF algorith/mappar                desoza T.DESOZA           417      5      1
 FORTRAN MODIF algorith/mmmbca                desoza T.DESOZA           409      1      2
 FORTRAN MODIF algorith/nmfend                 proix J-M.PROIX           56     13     31
 FORTRAN MODIF algorith/nmtime                pellet J.PELLET           392      8      8
 FORTRAN MODIF algorith/nmvecd                 proix J-M.PROIX          299      6      5
 FORTRAN MODIF algorith/nmveei                 proix J-M.PROIX          434     33     11
 FORTRAN MODIF algorith/nmvend                 proix J-M.PROIX          295     88     69
 FORTRAN MODIF calculel/cnscno                pellet J.PELLET           342      4      3
 FORTRAN MODIF calculel/pjefpr                pellet J.PELLET           288      6      2
 FORTRAN MODIF elements/crgdm               sfayolle S.FAYOLLE          155     55     31
 FORTRAN MODIF elements/gldloc              sfayolle S.FAYOLLE          174     40     58
 FORTRAN MODIF elements/lcgldm              sfayolle S.FAYOLLE          567    158    136
 FORTRAN MODIF elements/ortrep                pellet J.PELLET           169      2      2
 FORTRAN MODIF elements/rcangm                pellet J.PELLET           104      2      2
 FORTRAN MODIF jeveux/jefini                lefebvre J-P.LEFEBVRE       141      4      3
 FORTRAN MODIF jeveux/jelibf                lefebvre J-P.LEFEBVRE       378     19      3
 FORTRAN MODIF prepost/pregms               sellenet N.SELLENET         176      7      3
 FORTRAN MODIF prepost/xpogma                geniaut S.GENIAUT           80      6      2
 FORTRAN MODIF supervis/execop              lefebvre J-P.LEFEBVRE       127      5      2
 FORTRAN MODIF supervis/ibbase              lefebvre J-P.LEFEBVRE       211      3      2
 FORTRAN MODIF supervis/ibcael              lefebvre J-P.LEFEBVRE        40      6      3
 FORTRAN MODIF supervis/op9999              lefebvre J-P.LEFEBVRE       161      5      4
 FORTRAN MODIF utilitai/op0195                pellet J.PELLET           300     12      2
  PYTHON MODIF Messages/algorith6           sfayolle S.FAYOLLE          251     10      1
  PYTHON MODIF Messages/calculel2             pellet J.PELLET           379      4      2
  PYTHON MODIF Messages/calculel4             pellet J.PELLET           342     12      2
  PYTHON MODIF Messages/elements               proix J-M.PROIX          335      1      6
  PYTHON MODIF Messages/jeveux              lefebvre J-P.LEFEBVRE       317     15      2


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    3         200       200              +200
 MODIF :   52       29946      4997    3566     +1431
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   55       30146      5197    3566     +1631 
