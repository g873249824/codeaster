

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR pellet       PELLET Jacques         DATE 05/02/2007 - 17:16:37

--------------------------------------------------------------------------------
RESTITUTION FICHE 010354 DU 2006-12-05 16:17:31
TYPE express concernant Code_Aster (VERSION 2.x)
TITRE
   pouvoir dxc3xa9brayer SDVERI='OUI' en cours de ficher de commande
FONCTIONNALITE
   1) On ajoute une nouvelle commande pour permettre d'activer / désactiver certaines
   possibilités de debug entre 2 commandes.
         DEBUG(SDVERI='OUI'/'NON')
      Cette commande repositionne le "flag" SDVERI (défini dans DEBUT / POURSUITE) à OUI ou NON.
      On se servira en général de cette commande pour "débrayer" la vérification des SD
   pendant quelques commandes.
                                                                                            
                           
   2) Cette commande est une commande de développeur (U4.15.11) :
      4 mots clés sont définis :
         SDVERI     =OUI/NON  : vérification des SD produites par les commandes
         JEVEUX     =OUI/NON  : passage en mode debug_jeveux (on force les aller-retour sur
   les bases)
         JXVERI     =OUI/NON  : vérification de la segmentation mémoire à la fin de chaque
   commande
         IMPR_MACRO =OUI/NON  : impression de l'echo des commandes générées par le macros.
                                                                                            
                           
   3) Je suis oligé de débrayer SDVERI='OUI' dans le test sdll137a autour des commandes
   PROJ_MESU_MODAL et MACR_ELEM_STAT (voir fiches 10282 et 10352)
      Pour cela, j'utilise la nouvelle commande DEBUG
                                                                                            
                           
   4) On modifie  les catalogues de DEBUT et POURSUITE pour retirer la valeur par defaut
   (SDVERI='NON') :
      La valeur par défaut est prise dans le fortran :
      Si le mot clé CODE est présent (c'est donc un cas test) :
         - on peut prendre SDVERI='OUI' par défaut (mais je n'ose pas encore ce coup ci !!)
      Si le mot clé CODE est absent (c'est donc une étude) :
         - on prend SDVERI='NON' pour ne pas perdre de temps
                                                                                            
                           
      IMPACT_CODUMENTAIRE :  U4.11.01 et U4.11.03
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.11.01   U4.11.03  U4.15.11
VALIDATION
   test modifixc3xa9 : sdll17a
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 010310 DU 2006-11-24 14:02:00
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   incohxc3xa9rence catalogue des SD et SD rxc3xa9ellement produites par les tests
FONCTIONNALITE
   Pbs liés à SDVERI='OUI' dans les tests de la liste restreinte : (fiche 10310)
                                                                                            
                           
     1) tests  ahlv100a/f/g : pb dans AFFE_MODELE :
        => je corrige verij5.f
     2) test ssnv182b : MAILFISS.HEAV LONMAX incorrect :
        => je corrige la catalogue des SD
     3) test sdls01d  : macr_elem_stat.REFM LONMAX incorrect :
        => je corrige la catalogue des SD
     4) test sdls103a : melasflu.NUMO LONMAX incorrect :
        => je corrige la catalogue des SD
     5) test zzzz108a : matr_asse.CONL TYPE incorrect :
        => je corrige la catalogue des SD
     6) test sdll115a : type_flui_stru.FSGM facultatif :
        => je corrige la catalogue des SD
     7) test fdlv112a : cham_gene.DESC n'a pas le bon champ DOCU :
        => je corrige op0199.f
     8) test sslp101f : table.TBBA inexistant :
        En réalité, le problème vient de la sensibilité. La table (nominale) produite est vide.
        Je mets SDVERI='NON' dès la 1ère commande posant problème.
        (idem pour le test sslv110c)
     9) test sdlx201a : base_modale.UTIL inexistant :
        J'encadre la commande coupable (NORM_MODE) par SDVERI=NON/OUI
        Je complète la fiche REX 9158 qui pose le problème de la documentation de cet objet
   (.UTIL)
     10) test sslv115a : CALC_NO cree un LIGREL inutile sur la base globale.
        => je corrige op0106.f
     11) test ssla200b : CALC_NO cree un PROF_CHNO inutile sur la base globale.
         Je pense que Lionel s'est trompé en emettant la fiche.
         CALC_NO crée en réalité un LIGREL inutile. => meme correction que 6.10
     12) test sslv04e  : MODI_REPERE cree un PROF_CHNO inutile sur la base globale.
         => je corrige op0191.f
     13) test hsls304a  : MODI_REPERE cree un PROF_CHNO inutile sur la base globale.
         => je corrige crtype.f
     14) test tplv100a  : CREA_RESU cree un PROF_CHNO inutile sur la base globale.
         meme correction que 6.13 : routine crtype.f
     15) test sdls106a  : REST_BASE_PHYS cree un PROF_CHNO inutile sur la base globale.
         => je corrige regres.f
     16) On corrige un petit bug dans la routine ssmau2.f :
         si modification structurale => il faut aussi détruire TMP_PHIE
         J'en profite pour réindenter cette routine.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   tests signalxc3xa9s lors de l'xc3xa9mission de la fiche
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 010489 DU 2007-02-01 10:28:25
TYPE express concernant Code_Aster (VERSION 2.x)
TITRE
   CREA_MAILLAGE : petite incohxc3xa9rence doc / catalogue / fortran
FONCTIONNALITE
   Je me suis trompé lors de l'émission de cette fiche : le catalogue ne dit pas que le mot
   clé est répétable.
   
   Il n'y a donc pas de problème. La fiche est sans suite.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   rien de particulier
NB_JOURS_TRAV  : 0.05
--------------------------------------------------------------------------------
RESTITUTION FICHE 010426 DU 2007-01-08 16:33:35
TYPE express concernant Code_Aster (VERSION 2.x)
TITRE
   la routine mrmult.f est fausse pour les matrices rxc3xa9elles non symxc3xa9triques
FONCTIONNALITE
   Suite à une discussion avec Clément Chavant, je me suis persuadé qu'il fallait blinder la
   routine mrmult.f car sa programmation suppose implicitement que les matrices réelles
   étaient symétriques.
   
   Je propose simplement d'arreter les utilisateurs qui tenteraient de s'en servir avec des
   matrices non symétriques. 
   
   Je ne pense pas que cette fonctionnalité (potentiellement dangereuse) soit utilisable dans
   la version NEW9 actuelle d'Aster et en conséquence, je ne coche pas la rubrique "resultats
   faux".
   
   Mais si le passage des tests devaient me donner tort ....
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   rien de particulier
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR abbas        ABBAS M.               DATE 05/02/2007 - 17:16:38

--------------------------------------------------------------------------------
RESTITUTION FICHE 010360 DU 2006-12-06 15:35:10
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TMA : CS
TITRE
   STAT_NON_LINE - Affichages incorrects
FONCTIONNALITE
   Suite à une remarque de S.Granet.      
         
   L'affichage des residus en fin de convergence est incorrect. Exemple:           
    RESIDU RESI_GLOB_RELA   VAUT  2.264548914E-06 SUR N784    DX          
    RESIDU RESI_GLOB_MAXI   VAUT  2.464333224E-06 SUR N874    DY          
   Les valeurs sont correctes mais l'endroit d'évaluation devrait être le 
   même puisque 
   RESI_GLOB_RELA est un simple RESI_GLOB_MAXI mis à l'échelle par le 
   chargement.          
   En fait  <N874    DY> devrait être  <N784    DX>  .        
   Le RESI_GLOB_RELA actuel affiche l'endroit ou le CHARGEMENT est      
   maximum.       
   Bug dans NMRESI: il faut changer IMAXI = ICHAR en IMAXI = IRESI 
    
   Validation visuelle sur un cas test de la base
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   visuelle sur cas-test
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR pellet       PELLET Jacques         DATE 05/02/2007 - 17:16:39

--------------------------------------------------------------------------------
RESTITUTION FICHE 009960 DU 2006-08-24 12:17:49
TYPE evolution concernant Code_Aster (VERSION 2.x)
TMA : CS
TITRE
   VERISD pour MELASFLU, TYPE_FLUI_STRU et SPECTRE
FONCTIONNALITE
   Ces trois SD possèdent désormais leurs routines de vérifiations spécifiques (VSDXXX).
   
   Le partie pris a été de faire le maximum de vérification en descendant le plus
   profondément possible dans les objets.
   Lors de la réalisation de cette fiche, on en a profité pour corriger quelques bugs dans
   les routines verixxx:
   Pour la SD de type melasflu, il y avait une erreur de frappe dans un GOTO qui entrainait
   une boucle infinie.
   
   De plus dans la routine verij6, il y avait deux occurences pour le type de SD
   type_flui_stru (la seconde étant fausse) et enfin quelques objets étaient crées sur la
   base globale sans aucune raison valable. On les a transférés sur la volatile.
   
   Cette fiche a été l'occasion de tracer des défauts de validations qui font l'objet de deux
   fiches 10486 (DEFI_SPEC_TURB) et 10419 (DEFI_FLUI_STRU).
   
   Par ailleurs les cas tests suivants sont passés en SDVERI='OUI' 
   
   sdll110a
   sdll136a
   sdls105a
   sdls105b
   sdll116a
   sdll115a
   
   pour le concept sceptre
   
   sdll117a
   sdll121a
   sdls103a
   sdll115b
   
   pour les concepts melasflu et type_flui_stru
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : D4.09.02,D4.09.01,D4.09.03
VALIDATION
   passage des tests avec SDVERI='OUI'
--------------------------------------------------------------------------------
RESTITUTION FICHE 009961 DU 2006-08-24 12:20:04
TYPE evolution concernant Code_Aster (VERSION )
TMA : CS
TITRE
   VERISD pour TRAN_GENE et INTERF_DYNA_CLAS
FONCTIONNALITE
   Les deux concepts tran_gene et interf_dyna_clas possèdent leurs propres routines de
   vérification de cohérence de la SD. 
   
   Lors de la réalisation de cette fiche, quelques bizarreries sont apparu pour la SD tran_gene.
   Le cas de reprise n'était pas complètement traité. L'objet ICHO servant à stocker l'état
   d'un noeud de choc n'était pas sauvegardé. 
   Ce bug a été corrigé.
   
   De plus l'objet .PTEM est étrange. Théoriquement, il est censé stocké le pas de temps du
   numero d'ordre sélectionné.
   Il y a toutefois une nuance. Dans le cas ou le pas de temps est constant, on ne stocke
   qu'une seule valeur.
   Et c'est la que le problème apparait car dans le cas d'un reuse, on a donc un objet dont
   les n premieres valeurs correspondent aux n premier numeros d'ordre mais dont la n+1 valeur
   s'applique à partir du n+1 numéro d'ordre jusqu'à on ne sait où.
   Une fiche a été émise pour traiter ce problème (10487).
   
   Les cas tests suivants sont passés en SDVERI='OUI' :
   
   fdlv102a
   sdld102a
   sdls01c
   shll100a
   zzzz200b
   
   pour la SD interf_dyna_clas
   
   sdld102c
   sdll06a
   sdnd102a
   sdnl104b
   sdnv101a
   
   pour la SD tran_gene
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : D4.07.02,D4.08.02
VALIDATION
   passage de tous les cas tests utilisant l'un des concepts avec SD_VERI='OUI'
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR proix        PROIX J.M.             DATE 05/02/2007 - 13:50:26

--------------------------------------------------------------------------------
RESTITUTION FICHE 010492 DU 2007-02-01 14:49:30
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   NEW9.0.7, le cas test hsnv125d ne converge plus (BL)
FONCTIONNALITE
   Le problème de convergence était dû à la modélisation : on utilisait dans ce test 3D, 3D_SI.
   
   Donc jusqu'à présent (avant la 9.0.7), comme le maillage est composé d'un HEXA8, on
   utilisait en fait des HEXA8 à 8 points de Gauss.
   
   Depuis la 9.0.7, les hexa8 sous-intégrés, à 1 point de Gauss, sont disponibles. Avec ces
   éléments, on a un petit problème de convergence sur ce test. 
   
   Je restitue donc ce test avec la mdélisation 3D, et tout va bien. Le comportement
   VISCOCHAB n'y est pour rien.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   hsnv125d
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 010488 DU 2007-02-01 06:21:57
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   Tests XFEM (ssnv185, ssnv186,ssnv191 et ssnv192) en version NEW9.0.7 sous linux Rocks
FONCTIONNALITE
   Oups !
   
   Effectivement, l'ajout d'une charge dans VECHME en 9.0.7 avait  conduit à un problème de
   dimensionnement des tableaux contenant les champs paramètres de calcul. 
   
   On surdimensionne donc ce tableau en passant de 20 à 40, et sur les conseils de Jacques,
   je rajoute un call ASSERT pour vérifier que le nombre de champs effectif ne dépasse pas le
   maximum  de 40.
   
   Cela évitera par la suite à des développeurs imprudent comme moi de rsiquer les
   débordements mémoire.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   ssnv186a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR tardieu      TARDIEU N.             DATE 05/02/2007 - 13:10:28

--------------------------------------------------------------------------------
RESTITUTION FICHE 010462 DU 2007-01-19 14:23:52
TYPE express concernant Code_Aster (VERSION 2.x)
TITRE
   Salomxc3xa9xc3xafser les tests de formation
FONCTIONNALITE
   Je restitue des tests : FORMA01A,B,C,D,E,F
   Ils disposent maintenant de fichiers .datg qui contiennent les scripts Python GEOM-SMESH
   pour générer les maillages.
   Au passage, j'ai modifié les tests pour utiliser AFFE_CHAR_CINE et avoir des calculs à 0
   Lagrange.
   
   On supprime au passage tous les fichiers qui font doublons :
   
   - forma01a.{mail,18,mgib}
   - forma01b.{mail,mgib}
   - forma01c.{18,mail}
   - forma01d.{mail}
   - forma01e.{mail,mgib}
   - forma01f.{mail,mgib,msh}
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V7.15.100
VALIDATION
   Passage des tests
NB_JOURS_TRAV  : 4.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR zentner      ZENTNER Irmela         DATE 05/02/2007 - 16:39:41

--------------------------------------------------------------------------------
RESTITUTION FICHE 010483 DU 2007-01-31 09:28:44
TYPE express concernant Code_Aster (VERSION 2.x)
TITRE
   GENE_VARI_ALEA
FONCTIONNALITE
   Dans le catalogue de GENE_VARI_ALEA, le mot-clé COEF_VAR 
   est inutile dans le bloc de EXP_TRONQUEE. Je l'ai enlevé.
   
   Les deux autres lois (exponentielle et exp. tronquée) ne 
   sont pas testées. Des tests sont rajoutés au cas test 
   sdns01a où la loi gamma est testée.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   sdns01a
NB_JOURS_TRAV  : 0.05
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF forma01a                      tardieu N.TARDIEU          329     10     37
 CASTEST MODIF forma01b                      tardieu N.TARDIEU          327      9      3
 CASTEST MODIF forma01c                      tardieu N.TARDIEU          347     85     83
 CASTEST MODIF forma01d                      tardieu N.TARDIEU          384     38     13
 CASTEST MODIF forma01e                      tardieu N.TARDIEU          236      3     12
 CASTEST MODIF forma01f                      tardieu N.TARDIEU          330      6     48
 CASTEST MODIF hsnv125d                        proix J-M.PROIX          486      2      2
 CASTEST MODIF sdll137a                       pellet J.PELLET           447      6      2
 CASTEST MODIF sdlx201a                       pellet J.PELLET           600      4      2
 CASTEST MODIF sdns01a                       zentner I.ZENTNER          691    353     33
 CASTEST MODIF sslp101f                       pellet J.PELLET           337      5      2
 CASTEST MODIF sslv110c                       pellet J.PELLET           388      3      2
CATALOPY AJOUT commande/debug                 pellet J.PELLET            32     32      0
CATALOPY MODIF commande/debut                 pellet J.PELLET            90      8      2
CATALOPY MODIF commande/gene_vari_alea       zentner I.ZENTNER           42      1      2
CATALOPY MODIF commande/poursuite             pellet J.PELLET            81      2      2
 FORTRAN AJOUT supervis/op0137                pellet J.PELLET            90     90      0
 FORTRAN AJOUT utilitai/vsdcfs                pellet J.PELLET           244    244      0
 FORTRAN AJOUT utilitai/vsdidc                pellet J.PELLET           191    191      0
 FORTRAN AJOUT utilitai/vsdspe                pellet J.PELLET           325    325      0
 FORTRAN AJOUT utilitai/vsdtfs                pellet J.PELLET           401    401      0
 FORTRAN AJOUT utilitai/vsdtrg                pellet J.PELLET           368    368      0
 FORTRAN MODIF algeline/cajgr2                pellet J.PELLET           232      2      2
 FORTRAN MODIF algeline/kajgr2                pellet J.PELLET           143      2      2
 FORTRAN MODIF algorith/defint                pellet J.PELLET           303      3      1
 FORTRAN MODIF algorith/mdsize                pellet J.PELLET            59      3      1
 FORTRAN MODIF algorith/nmresi                pellet J.PELLET           266      2      2
 FORTRAN MODIF algorith/op0191                pellet J.PELLET           183      3      2
 FORTRAN MODIF algorith/op0199                pellet J.PELLET           219      2      1
 FORTRAN MODIF algorith/regres                pellet J.PELLET           200      2      1
 FORTRAN MODIF algorith/vechme                 proix J-M.PROIX          465      7      4
 FORTRAN MODIF elements/resu74                pellet J.PELLET           242     11      1
 FORTRAN MODIF prepost/op0106                 pellet J.PELLET           792     42     59
 FORTRAN MODIF prepost/op0187                 pellet J.PELLET           903      1      3
 FORTRAN MODIF soustruc/ssmau2                pellet J.PELLET           311     37     33
 FORTRAN MODIF supervis/execop                pellet J.PELLET           149      2      3
 FORTRAN MODIF supervis/ibdbgs                pellet J.PELLET           174     41     29
 FORTRAN MODIF utilitai/verij1                pellet J.PELLET          2333     19     11
 FORTRAN MODIF utilitai/verij3                pellet J.PELLET           223     29      9
 FORTRAN MODIF utilitai/verij5                pellet J.PELLET           412     28     51
 FORTRAN MODIF utilitai/verij6                pellet J.PELLET          1424      8     18
 FORTRAN MODIF utilitai/veris3                pellet J.PELLET           200      2      4
  PYTHON MODIF Messages/sdveri                pellet J.PELLET           211     55     22
  PYTHON MODIF Messages/supervis              pellet J.PELLET           221     29      1


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    7        1651      1651             +1651
 MODIF :   37       14780       865     505      +360
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   44       16431      2516     505     +2011 
