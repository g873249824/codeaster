

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR d6bhhjp      LEFEBVRE J.P.          DATE 06/01/2006 - 09:19:53

--------------------------------------------------------------------------------
RESTITUTION FICHE 009247 DU 2005-11-30 00:00:00
TYPE anomalie POUR Code_Aster (VERSION 8.1)
TMA : CS
TITRE
   test fdnl100a : CALCUL DES FORCE_FLUIDE LORS D'UNE CHUTTE DE GRAPPE
FONCTIONNALITE
   Passage sur la machine clpaster et ajustement de la precision.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   fdnl100a
NB_JOURS_TRAV  : 0.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR durand       DURAND C.              DATE 10/01/2006 - 17:01:00

--------------------------------------------------------------------------------
RESTITUTION FICHE 009326 DU 2006-01-05 08:29:17
TYPE express POUR Code_Aster (VERSION 2.x)
TITRE
   message erreur plus propre dans affe_cara_elem
FONCTIONNALITE
   ajout d'un utmess dans acevdi.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   neant
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 008556 DU 2005-04-06 00:00:00
TYPE evolution POUR Code_Aster (VERSION 7.4)
TITRE
   AOM  INCLUDE et FIN
FONCTIONNALITE
   On deplie les includes apres FIN.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   neant
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR galenne      GALENNE E.             DATE 10/01/2006 - 14:58:27

--------------------------------------------------------------------------------
RESTITUTION FICHE 009298 DU 2005-12-21 16:09:57
TYPE express POUR Code_Aster (VERSION 7.8)
TITRE
   MACR_ASPIC_MAIL : probleme de mise a jour macro
FONCTIONNALITE
   La macro-commande MACR_ASPIC_MAIL a ete modifiee pour rendre plus robuste la
   procedure de
   maillage (EL2005-128).
   La correction n'a pas ete reportee correctement en version 7 (cf. histor 7.5.2)
   --> on reporte la correction macr_aspic_mail_ops.py en 7.8
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE :
VALIDATION
   cas test aspic
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR nicolas      NICOLAS O.             DATE 10/01/2006 - 09:00:10

--------------------------------------------------------------------------------
RESTITUTION FICHE 009223 DU 2005-11-21 00:00:00
TYPE anomalie POUR Code_Aster (VERSION 8.1)
TITRE
   MODE_ITER_SIMULT ou factorisation
FONCTIONNALITE
   Une fiche issue de la formation dynamique (sic).

   Une des questions consiste a faire planter proprement MODE_ITER_SIMULT sur le test de
   Sturm avec la methode de Sorensen. En l'occurence, il plante bien mais salement par
   ecrasement aval. Cas test forma11a.

   JP a trouve un ecrasement dans op0045. En fait il s'agit d'un biais du dimensionnement
   d'un objet. On dimensionnait plusieurs vecteurs de travail par rapport au nombre de
   frequences propres demandees, hors ce cas de formation etait caracteristique d'un probleme
   de convergence de MODE_ITER_SIMULT et menait a un nombre de frequence calculees inferieur
   au nombre demande d'ou ecrasement.
   Je corrige donc OP0045
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   Cas test de la formation
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 008904 DU 2005-08-11 00:00:00
TYPE anomalie POUR Code_Aster (VERSION 8.1)
TITRE
   MODE_ITER_SIMULT Quadratique
FONCTIONNALITE
   Cette etude ne passe pas des lors que le nombre de modes demande pour le calcul de modes
   complexes est superieur ou egal a la taille de la matrice.
   Il ne s'arrete plus en fait.
   Dans le cas traite, le nombre de ddl actif du modele etait egal au nombre de frequences
   demandees et la methode utilisees etait Sorensen. Il s'agissait d'un biais dans la methode
   de dimensionnement de Sorensen qui testait les choses de maniere incomplete.
   Je corrige OP0045
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   Cas test perso
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 009261 DU 2005-12-15 06:55:54
TYPE anomalie POUR Code_Aster (VERSION 8.2)
TITRE
   RECU_FONCTION
FONCTIONNALITE
   Dans le cas de fonctions complexes (typiquement issues de DYNA_LINE_HARM), si les
   abscisses ne sont pas bien ordonnees on rentre dans la routine ORDON2 (plutot que ORDON1
   dans le cas des fonctions reelles).
   Cette routine est buggee car il y a NS2=NB/2 (une abscisse pour une ordonnee) au lieu de
   NS2=NB/3 (une abscisse pour 2 ordonnees (partie reelle et imaginaire).
   Je corrige donc la routine en consequence
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   Cas test perso
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 009311 DU 2005-12-30 11:46:20
TYPE anomalie POUR Code_Aster (VERSION 8.2)
TITRE
   RECU_FONCTION
FONCTIONNALITE
   La procedure de tri lorsque les abscisses ne sont pas bien
   ordonnees (i.e. les routines
   ordon1 et ordon2) sont fausses. J'ai meme l'impression
   qu'elles se referent a un ancien
   format des fonctions.

   Exemple de ordon1 (fonctions reelles) : dans ordonn
   (routine appelante) on prend le nbre
   de points de la fonction (NBVAL=nbre abscisse + nbre
   ordonnees) que l'on divise par 2 pour
   recuperer le nbre d'abscisses NBABSC=NBVAL/2. Dans ordon1,
   on redivise par 2 ce nombre
   (NS2=NBABSC/2) hors ce nombre peut etre impair et comme
   NS2 est un entier il prend une
   valeur entiere (arrondi de NBABSC/2).

   Je modifie donc ordon1 de la maniere :

   CALL DCOPY(NB,VALE,1,XBID,1)
   CALL DCOPY(NB,VALE(NB+1),1,YRBID,1)
   CALL ORDR8(XBID,NB,IORD)
   DO 101 I=1,NB
   VALE(I)=XBID(IORD(I))
   VALE(NB+I)=YRBID(IORD(I))
   101  CONTINUE

   idem pour ordon2 en complexe.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   liste complete
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR vabhhts      PELLET Jacques.        DATE 10/01/2006 - 09:36:35

--------------------------------------------------------------------------------
RESTITUTION FICHE 009250 DU 2005-12-02 00:00:00
TYPE anomalie POUR Code_Aster (VERSION 8.1)
TITRE
   CREA_CHAMP / ASSE : ordre des CMPS
FONCTIONNALITE
   La commande ci-dessous (fournie aimablement par Khaled XXX stagiaire
   de S. Andrieux)provoque une erreur fatale : "<F> CESFUS STOP1"


   PREC= CREA_CHAMP(OPERATION='ASSE',  MODELE = MODELE2, PROL_ZERO='OUI',
   TYPE_CHAM='ELGA_SIEF_R',
   ASSE  = (  _F( CHAM_GD = VARI23, GROUP_MA = 'FUTSUP',
   NOM_CMP = ('V1','V3'),   NOM_CMP_RESU = ('SIYY','SIXX'), ), ),
   )


   Le probleme vient du fait que les CMPS dans NOM_CMP_RESU ne sont pas
   dans l'ordre du catalogue des grandeurs.

   le bug etait dans la routine CESFUS. Je corrige cette routine.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   etude associee
NB_JOURS_TRAV  : 0.6
--------------------------------------------------------------------------------
RESTITUTION FICHE 009324 DU 2006-01-04 13:12:42
TYPE express POUR Code_Aster (VERSION 2.x)
TITRE
   "amelioration des performances CPU de la routine etenca.f"
FONCTIONNALITE
   En profilant le test ssnv506c, je me suis apercu que la routine
   etenca.f pouvait etre consommatrice d'appels JEVEUX (et donc de CPU).

   En effet, j'avais laisse un couple JEVEUO/JELIRA dans la boucle sur
   les elements de l'objet .LIMA. Ce nombre d'elements peut etre grand
   pour certaines cartes (par exemple quand on a beaucoup de C.L.
   dualisees).
   Je corrige ce defaut en utilisant le pointeur de longueur cumule
   (JEXATR).

   Je propose la meme correction en version d'exploitation car elle est
   simple
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE :
VALIDATION
   essai perso
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF aspic02a                      galenne E.GALENNE          173      2      2
 CASTEST MODIF fdnl100a                      cibhhlv L.VIVAN            381      5      3
 FORTRAN MODIF algeline/op0045               nicolas O.NICOLAS         1058     10      7
 FORTRAN MODIF calculel/cesfus               vabhhts J.PELLET           366      6      4
 FORTRAN MODIF calculel/etenca               vabhhts J.PELLET           194     29     23
 FORTRAN MODIF modelisa/acevdi                durand C.DURAND           112      6      1
 FORTRAN MODIF utilitai/ordon1               nicolas O.NICOLAS           45     12     14
 FORTRAN MODIF utilitai/ordon2               nicolas O.NICOLAS           47     13     17
  PYTHON MODIF Macro/macr_aspic_mail_ops     galenne E.GALENNE          927     85      3
  PYTHON MODIF Noyau/N_ETAPE                  durand C.DURAND           419      1      2
  PYTHON MODIF Noyau/N_MACRO_ETAPE            durand C.DURAND           570      1      2


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    0           0         0                +0
 MODIF :   11        4292       170      78       +92
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   11        4292       170      78       +92 
