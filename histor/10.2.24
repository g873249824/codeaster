

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR andriam      ANDRIAMBOLOLONA Hari   DATE 11/08/2010 - 06:10:46

--------------------------------------------------------------------------------
RESTITUTION FICHE 015691 DU 2010-10-07 13:56:58
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    DYNA_LINE_HARM - Carton avec sensibilitxc3xa9
FONCTIONNALITE
   Contexte :
   La procédure utilisée pour les calculs de sensibilité consiste à appliquer au second membre du système un chargement qui est 
   égal au produit des dérivées des matrices élémentaires par le déplacement ou l’accélération.
   Pour les calculs harmoniques, ceci est assuré par dy2mbr qui appelle vechde.
   Pour les calculs transitoires, on fait appel à dlfext qui appelle vechde.
   Mickael a constaté une incohérence sur la dimension d'un vecteur en argument de vechde.
   Dans le programme appelant, on passe en argument un vecteur déclaré de taille 1 et dans vechde, cet argument est de taille 
   variable. Ce qui n’est pas très propre, surtout si on fait appel à la deuxième valeur du vecteur par exemple.
   
   Analyse :
   En regardant de plus près dans vechde, on constate que cette routine n'appelle que la première valeur du vecteur concerné.
   Donc, les calculs tournent sans problème et il n’y a pas de résultat faux.
   
   Proposition :
   Pour assurer une certaine cohérence et une meilleure lisibilité, je propose que l’on fasse passer ZK24(JCHAR) en argument de 
   vechde dans les programmes appelant : dy2mbr et dlfext.
   Correction à reporter en version d'exploitation.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    les cas test sensd*
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR boiteau      BOITEAU Olivier        DATE 11/08/2010 - 03:21:37

--------------------------------------------------------------------------------
RESTITUTION FICHE 015813 DU 2010-10-22 16:22:29
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.21, le cas-test senst05a est NOOK sur Aster4.
FONCTIONNALITE
   PROBLEME
   =========
     Un NOOK avec le cas-test senst05a sur Aster4 (NEW10.2.21)
   ANALYSE
   ========
     Il s'agit d'un NOOK sur un resultat qui mesure l'ecart absolu entre:
      - une derivee calculee par difference finie centree sur un calcul THER_NON_LINE
        std (en faisant varier la caracteristique d'emissivite de la CL de rayonnement),
      - une derivee analytique de cette caracteristique via THER_NON_LINE.
     
     Cette validation "dynamique" est la meilleure qui soit (en theorie), mais elle est
     tres sensible a tout changement d'environnement logiciel. A fortiori, au changement
     de machine. Apres un examen appronfondi des 3 trois champs manipules pour
     obtenir ce champ resultat, on ne voit pas d'ecart flagrant (tout reste inferieur a 
     10-6%).
     Pour info quelques mesures d'erreur sur ce resultat T2RES_DIFF (il faudrait
     trouver idealement 1.E-15 et on a une tolerance a 1.E-7)
   
     BULL___NODEBUG__ 1.04.10E-7  (d'ou le NOOK !)
     _________DEBUG__ 0.41.10E-7 
     ASTER4_NODEBUG__ 0.60.10E-7
     _________DEBUG__ 0.39.10E-7
   
     Compte-tenu de ces fluctuations et de ce contexte, on peut donc relacher la toleran
     ce du test, de 1.E-7 a 1.E-6.
     Je fais la meme chose sur l'autre TEST_TABLE du meme type ds ce cas-test.
   
   SOURCE RESTITUEE
   ================
   senst05a
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    informatique, non-regression
NB_JOURS_TRAV  : 0.33
--------------------------------------------------------------------------------
RESTITUTION FICHE 015809 DU 2010-10-22 15:40:39
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.21, les cas-test  sdls106c s'arretent en erreur _<F> sur Aster4
FONCTIONNALITE
   Je n'arrive pas a reproduire le pb. Le cas-test passe sur Aster4 et Bull en 
   debug/nodebug (NEW10.02.22). On clos la fiche.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    informatique, non-regression
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015808 DU 2010-10-22 15:32:17
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.21, les cas-test sdll141a, sdll141d s'arretent en erreur _<F> sur Aster4
FONCTIONNALITE
   PROBLEME
   =========
     Planton sur Aster4 des cas-tests sdll141a et sdll141d (NEW10.2.21 seq nodebug)
   ANALYSE
   =======
     Il s'agit de calcul modaux QEP en reel non symetrique. Pb de taille N=106 dont on
     cherche 30 modes via MODE_ITER_SIMULT + METHODE='SORENSEN' (+ potards par defaut).
     Ces plantons sont dus a une norme d'erreur du 29ieme mode legerement superieure a 
     la tolerance. Le changement de machine a legerement modifie ces chiffres.
     Dans un tel cas de figure, l'utilisateur a plusieurs bras de levier:
         - diminuer le nbre de frequence souhaitees (via OPTION, NMAX_FREQ...) ou 
           MACRO_MODE_MECA (en GEP sym reel),
         - augmenter la taille de l'espace de projection (via DIM/COEF_SOUS_ESPACE...),
         - changer de solveur modal (ici SORENSEN ou QZ),
         - changer de variante (APPROCHE pour SORENSEN, TYPE_QZ pour QZ)
     Plutot qu'augmenter la tolerance, on va aussi introspecter ds ce sens:
                         
   ____________________________Norme_erreur_mode_29 ____Erreur_moyenne_tous_les_modes
   ____Pour SDLL141A
   ________Bull
   SORENSEN+REEL+COEF_DIM_ESPACE=2___1.49 E-03 _____________________ 0.06 E-03
   ________Aster4
   SORENSEN+REEL+COEF_DIM_ESPACE=2___2.15 E-03 _____________________ 0.11 E-03
   ________+COMPLEXE_________________0.63 E-03 _____________________ 0.04 E-03
   ________+REEL+COEF_DIM_ESPACE=3___4.14 E-03 _____________________ 0.14 E-03
   
   QZ________________________________0.02 E-03 _____________________ 0.006 E-03
   
     Donc ici le changement de variante pour SORENSEN, passage de APPROCHE='REEL' a
   'COMPLEXE' amene un gain notable sur l'erreur qui permet de passer la barre fatidi
   que. Mais le vrai gain (facteur 100) est procure par la methode QZ.
   On passe donc en methode QZ sur ce calcul. On est tout a fait ds son perimetre d'uti
   lisation: pb de petite taille (<1000) dont on cherche une grande partie du spectre
   (ici 30%).
   
    On fait la meme chose pour le SDLL141D. QZ fait passer l'erreur de 2.42 E-03 a
    2.E-5
   
   SOURCES RESTITUEES
   ==================
   sdll141a et sdll141d
   
   Attention, l'usage de QZ fait apparaitre, ds ce cas, l'ALARME suivante:
   
      !----------------------------------------------------------------!
      ! <A> <ALGELINE4_87>                                             !
      !                                                                !
      ! pour le probleme réduit                                        !
      !  valeur(s) propre(s) réelle(s)                  :  0           !
      !  valeur(s) propre(s) complexe(s) avec conjuguée :  100         !
      !  valeur(s) propre(s) complexe(s) sans conjuguée :  12          !
      !                                                                !
      !                                                                !
      ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette !
      ! alarme, vous pouvez obtenir des résultats inattendus !         !
      !----------------------------------------------------------------!
   
   Elle est normale. Elle signifie que QZ a rate potentiellement 12 modes parmis
   les 2x106 recherches mais, ds la bande frequentielle recherchee, on les a (sans
   doute) toutes recuperees (en l'absence de test de Sturm adapte on ne peut en dire
   plus !).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    informatique, non-regression
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 015766 DU 2010-10-19 08:39:49
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    SOLVEUR (FETI + KMETIS) => resultats faux
FONCTIONNALITE
   PROBLEME
   ========
     Un calcul FETI + KMETIS sur 2 sous-domaines donne des résultats faux sur une
     variante du cas-test SSLS133C.
   
   ANALYSE
   =======
   1/En découpant en 2 SD avec KMETIS (ou SCOTCH), on obtient un resultat faux et
     une convergence de FETI suspecte (en 2 ou 3 iterations).
     
   2/Par ailleurs, avec KMETIS + 4 ou 8 sous-domaines ou en prenant PMETIS 
     (avec 2, 4 et 8 SD) on construit une decomposition en SD differente et le pb ne
     se pose plus ! Le calcul devient licite et cv en une dizaine d'iterations.
   
   3/ Au point de fonctionnement posant pb (KMETIS + 2 SD):
     En utilisant les affichages de monitoring pilotes par INFO_FETI, en particulier
     celui permettant de tester les orthogonalites, a chaque iteration, des directions
     de descente, des residus etc... on s'aperçoit que ces chiffres ne sont pas bons
     dés la premiere etape du calcul.
     On visualisant via le bel outil d'Aimery, on verifie que le nbre de modes rigides
     n'est pas suffisant: le SD1 est completement bloque, mais le SD2 est completement
     libre, il faut donc trouver (au moins) 6 modes pour le second.
     Et on en trouve 5 ! Avec MULT_FRONT avec le potard NPREC par defaut egal a 8. En
    relachant ce critere et en le passant a NPREC=7, on trouve 7 modes pour SD2 (1 de 
    trop, mais tant pis, empiriquement on sait que trop vaut mieux que pas assez !) et
    le calcul converge avec une erreur en 10-9 % (avec FETI/RESI_RELA=10-9 et 
   NMAX_ITER>17 par exemple)
   
                         SOLVEUR=_F(NMAX_ITER=100,
                                    STOP_SINGULIER='OUI',
                                    VERIF_SDFETI='OUI',
                                    ACCELERATION_SM='OUI',
                                    PARTITION=SDFETI,
                                    TYPE_REORTHO_DD='GSM',
                                    INFO_FETI='TFFFFTFTFFT',
                                    NPREC=7,
                                    TEST_CONTINU=1.E-08,
                                    NB_REORTHO_DD=0,
                                    STOCKAGE_GI='OUI',
                                    NB_REORTHO_INST=0,
                                    REAC_RESI=0,
                                    PRE_COND='LUMPE',
                                    SCALING='MULT',
                                    METHODE='FETI',
                                    RESI_RELA=1.0000000000000001E-09,
                                    RENUM='METIS',
                                    NB_SD_PROC0=0),
   
    * FETI: NORME DU RESIDU INITIAL/FINAL/RELATIF= 0.4017D-10 0.1480D-19 0.3686D-09
   
     ********************************
     * CONVERGENCE EN   17 ITERATION(S)
     ********************************
   --------------------------------------------------------------------------------
    ---- RESULTAT       NUME_ORDRE     NOM_CHAM       NOM_CMP        GROUP_NO
         RESU3          1              DEPL           DZ             P7
         REFERENCE      LEGENDE        VALE_REF       VALE_CAL       ERREUR            
    OK   NON_REGRESSION   XXXX         5.121222E-10   5.121222E-10   6.2E-09%
   
   
    4/ On s'est aperçut qu'une fonctionnalite de debbugage/monitoring ne fonctionnait
      plus. Celle qui permet de tester la validite des modes rigides detectes.
      On corrige ceci ds TLDLG2.
   
    RQ/ Cette fiche pose la question recurrente, si on souhaite vraiment garder FETI et
     continuer a l'industrialiser, de:
     - mettre en place une heuristique de comptage de modes rigides et de pre-tests
      avant de lancer le calcul (FX m'a dit l'avoir fait ds ZEBULON),
     - brancher MUMPS ds TLDLG2 pour comparer. J'emet la fiche car cette fonctionnalite
      sert aussi au calcul modal et comme pour le contact-discret avec LDLT, on 
     utilise ici un solveur lineaire en sous-main pour faire le boulot independant de
     celui choisit par l'utilisateur. Et c'est mal !
   
   SOURCES RESTITUEES
   ==================
    tldlg2.f
   
   VALIDATION
   ==========
     SSLS133C modifie fourni ds la fiche (sur Bull seq nodebug).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    informatique, non-regression
NB_JOURS_TRAV  : 1.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR boyere       BOYERE Emmanuel        DATE 11/08/2010 - 02:44:23

--------------------------------------------------------------------------------
RESTITUTION FICHE 015260 DU 2010-06-28 12:59:39
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Bug dans DYNA_TRAN_MODAL ?
FONCTIONNALITE
   En poursuite dans DYNA_TRAN_MODAL il y avait un dépassement de tableau lors de la recopie
   des résultats repris du premier calcul vers les résultats de la poursuite. Cela pouvait
   provoquer un écrasement aval (On débordait le tableau des numéros d'ordre d'une case.).
   Mais a priori le risque de résultats faux est faible.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    astout sur DYNA_TRAN_MODAL
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 015144 DU 2010-06-01 13:43:02
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    DYNA_TRAN_MODAL - ADAPT
FONCTIONNALITE
   Dans le cadre du couplage Code_Aster/Edyos, la question s'est posée de savoir si le schéma
   'ADAPT' de DYNA_TRAN_MODAL était bien adaptée à ce besoin.
   J'ai vérifié que la programmation du schéma (certes alambiquée et peu lisible dans les
   sources) est bien conforme à la doc R.
   J'ai aussi fait des tests pour vérifier que la convergence du schéma est d'ordre 2, et
   l'ai comparé au schéma d'Euler d'ordre 1 (voir le graphe en pièce jointe de la fiche REX
   15144).
   Cela peut paraître surprenant car les équations des deux schémas sont très proches.
   Mais le secret d''ADAPT' tient au décalage entre l'instant de calcul des
   accélérations/déplacements et celui des vitesses. Ils ont décalés d'un demi-pas de temps.
   Comme l'a décrit Fabien Navarro dans son stage cet été, cette spécificité sort le schéma
   de la théorie classique des méthodes de Runge-Kutta (classe des méthodes de Nyström) mais
   lui donne de bonnes propriétés de convergence et de conservation d'énergie pour un pas de
   temps fixe.
   
   Reste l'aspect "adaptation du pas de temps". Si le pas de temps varie, les propriétés de
   conservation sont perdues. D'un autre côté l'heuristique d'adaptation du pas n'a pas été
   fondamentalement conçue pour le couplage avec un autre code. On peut donc se demander si
   'EULER' ne serait pas plus adapté pour accueillir une méthode de variation du pas qui soit
   plus efficace pour le couplage Code_Aster/Edyos.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    SDLD31b
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 014951 DU 2010-04-15 10:32:46
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    probleme avec DYNA_LINE_TRAN si amortissement (modal et Rayleigh)
FONCTIONNALITE
   L'amortissement dans DYNA_LINE_TRAN n'est pas toujours simple à utiliser.
   Il n'y a pas de problème dans la programmation mais un certain nombre de règles sont à
   respecter.
   
   Le problème, comme l'indique le tire de la fiche, est double : amortissement de type
   RAYLEIGH et amortissement de type modal.
   
   Pour l'amortissement de type RAYLEIGH (matrice d'amortissement combinaison linéaire des
   matrices de raideur et de masse), la question est assez simple. La façon "normale"
   d'entrer l'amortissement de RAYLEIGH est par l'intermédiaire du matériau (AMOR_ALPHA et
   AMOR_BETA) puis la construction de la matrice d'amortissement dans MACRO_MATR_ASSE
   (OPTION='AMOR_MECA'). Mais on ne peut pas interdire à l'utilisateur de vouloir construire
   lui-même sa matrice d'amortissement par combinaison linéaire de la raideur et de la masse
   dans COMB_MATR_ASSE. Toutefois dans cette étape, il doit être assez prudent pour ne pas
   prendre en compte les multiplicateurs de Lagrange. Sinon la matrice est fausse. Pour cela
   il ne doit pas oublier l'option SANS_CMP='LAGR'.
   
   
   L'autre question est la prise en compte de l'amortissement modal dans DYNA_LINE_TRAN par
   le mot clef AMOR_MODAL. Cette option est une particularité de Code_Aster, qui est bien
   pratique pour comparer les approches sur base modale et sur base physique.
   Mais on constate que ce type amortissement dans DYNA_LINE_TRAN peut faire diverger le
   schéma en temps, même ceux réputés inconditionnellement stables comme celui de 'NEWMARK'.
   L'explication tient à la manière dont ce type d'amortissement a été programmé.
   Je reprends les mots de Georges, qui justifie ainsi ce choix :
   
   <<
   [La divergence avec AMOR_MODAL] est certainement due au fait que sa contribution est
   traitée comme 
   une force -C.V au second membre. On ne pouvait pas faire autrement car le C en question
   n'a pas le même profil que K et M et ne pouvait donc leur être combiné au premier membre.
   Il y a d'autres cas analogues avec par exemple les éléments absorbants. Mais cela fait que
   la  stabilité dépend du pas de temps et de la fréquence de coupure d'où 2 écueils possibles:
   - un pas trop grand par rapport à la fréquence de coupure,
   - bien qu'on ait un amortissement équivalent à de l'amortissement modal, on est toujours
   sur base physique et les phénomènes de fréquence supérieure à la fréquence de coupure ne
   sont pas amortis d'où parfois la nécessité de combiner surtout en non linéaire un
   amortissement HHT avec MODI_EQUI='OUI' afin de les atténuer.
   >>
   
   Pour mieux guider l'utilisateur, j'ai essayé de calculer l'impact de l'amortissement modal
   sur le rayon de convergence de l'opérateur de NEWMARK dans l'intégration en temps. Cela
   permettrait d'émettre automatiquement un message avertissant d'un pas de temps trop grand
   en fonction de l'amortissement réduit spécifié et du pas de temps spécifié.
   Malheureusement les développements sont vite très calculatoires par rapport au cas
   standard, et face au risque d'erreurs, j'ai renoncé.
   Je me contente donc d'ajouter un nota bene dans la doc de DYNA_LINE_TRAN au paragraphe
   AMOR_MODAL pour mettre en garde l'utilisateur sur le choix du pas de temps avec le schéma
   de NEWMARK.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : u4.53.02
VALIDATION
    xc3xa9tude fournie par l'xc3xa9metteur
NB_JOURS_TRAV  : 4.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 11/09/2010 - 08:57:38

--------------------------------------------------------------------------------
RESTITUTION FICHE 015652 DU 2010-10-01 13:13:39
TYPE aide utilisation concernant Code_Aster (VERSION 9.1)
TITRE
    tentative d'utilisation du calcul distribue pour une etude parametrique
FONCTIONNALITE
   L'utilisateur avait des difficultés pour lancer une étude 
   paramétrique en batch.
   
   En fait, tout fonctionne bien en interactif et en batch.
   Au sujet des questions sur le rapatriement des résultats, on a 
   expliqué pourquoi il n'était pas raisonnable de recopier vers une 
   machine distante chaque résultat.
   La documentation U2 à paraître complètera les informations données.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ras
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 015804 DU 2010-10-22 14:59:28
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    ZMAT en STA10 et en batch
FONCTIONNALITE
   Dans l'output, on voit plusieurs fois :
   
   Authentication failure
   
   
   Si on regarde dans le fichier error (.e), on voit qu'ils 
   apparaissent juste après des rcp :
   
   
   /usr/bin/rcp 
   H38070@renu5cbo.der.edf.fr:/local00/aster/NEW10/astest/zmat
   002a.mail fort.20
   ...
   Authentication failure
   ...
   set DIAG_RESU='<F>_DEFAUT_FICHIER'
   
   
   J'ai lancé le test zmat001a en STA10 en batch et interactif 
   avec l'exécutable /aster/STA10/asteru_zmat sans problème.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    zmat001a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 015807 DU 2010-10-22 15:18:47
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Zmat et SIMU_POINT_MAT
FONCTIONNALITE
   fiche en doublon avec issue15835
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ras
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR devesa       DEVESA Georges         DATE 11/09/2010 - 08:57:39

--------------------------------------------------------------------------------
RESTITUTION FICHE 015533 DU 2010-09-12 09:02:53
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW9.7.3, le cas-test wdnp101a s'arrete anormalement sur Rocks.
FONCTIONNALITE
   Le test passe correctement, on solde la fiche.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ras
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 11/09/2010 - 08:57:39

--------------------------------------------------------------------------------
RESTITUTION FICHE 015820 DU 2010-10-22 17:17:24
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.21, le cas-test zzzz159b s'arrete en erreur _<F> sur Aster4
FONCTIONNALITE
   Ce test fonctionne très bien en batch et interactif en 10.2.23.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    zzzz159b
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 015871 DU 2010-11-05 14:30:36
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Message pas clair dans POURSUITE si la base n'a pas ete decompressee
FONCTIONNALITE
   Problème
   ========
   
   Si l'utilisateur oublie de cocher la case "compressé", le message 
   émis par POURSUITE n'est pas très clair.
   Le message est identique que la base ne soit pas lisible ou 
   absente.
   
   
   Correction
   ==========
   
   L'absence du fichier glob.1/bhdf.1 est vérifiée, mais on tombe 
   alors dans une branche prévue pour eficas puisque dans ce cas, 
   eficas reconstruit le contexte après avoir demandé le fichier de 
   commandes précédent la POURSUITE.
   
   Cependant, à cet endroit, on peut vérifier si on est dans Aster 
   et alors, on émet ce message avec deux conseils pour 
   l'utilisateur :
   
   """"""
   Il n'y a pas de fichier glob.1 ou bhdf.1 dans le répertoire 
   courant.
   
   Conseils :
    - Vérifiez que vous avez une base (de type base ou bhdf) dans 
   votre étude.
    - Vérifiez si elle doit être décompressée ou pas.
   """"""
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    poursuite sans base
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 014875 DU 2010-03-29 15:47:49
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Temps de retour anormalement long sur une etude
FONCTIONNALITE
   Problème
   ========
   
   L'étude en question comporte un grand nombre de commandes :
    - 527 AFFE_CHAR_MECA
    - 1 MACRO_ELAS_MULT avec ces 527 cas
   
   TOTAL_JOB affiche 162 s alors que le temps total affiché par 
   as_run est de 416 s.
   En interactif, on voit que le calcul passe dans FIN (après 
   environ 160 s), puis semble
   bloqué pendant les 250 s restantes.
   
   Remarque : sur les 160 s du calcul, 110 s sont passées dans les 
   opérateurs fortran et 50 s
   dans la partie superviseur.
   
   
   
   Analyse et correction
   =====================
   
   On soupçonne donc l'écriture du fichier pickled de prendre tout 
   ce temps.
   L'écriture du fichier pick.1 se décompose en deux phases :
    - phase de filtre du contexte : on retire un certain nombre 
   d'objets en fonction de leur
   type et ceux qui ne sont pas "sérialisables"
    - phase du "dump" proprement dit et écriture sur disque.
   
   
   On mesure le temps passé  en prenant JDC initial, plus ou moins 
   tronqué (sans
   MACRO_ELAS_MULT, donc essentiellement les AFFE_CHAR_MECA) :
   
   __________________superv___fortran__filtre___dump
   _____58_charg_:____6.0______2.0______11.1_____6.4
   ____115_charg_:____9.4______3.2______22.7____13.0
   ____239_charg_:___17.3______6.3______52.5____32.8
   ____480_charg_:___37.3_____10.9_____130.6____86.5
   
   
   Les concepts sont nommés "ci115_0". Le traitement/nommage étant 
   particulier pour les
   concepts stockés dans une liste ("co[i] devient co_i"), on 
   vérifie que cela n'a pas
   d'impact. On remplace "ci155_0" par "ci115" :
   
   __________________superv___fortran__filtre___dump
   ____115_charg_:____8.2______4.0______20.5____11.8
   
   
   On fabrique un test minimaliste comprenant une boucle autour d'un 
   DEFI_MATERIAU :
   
   __________________superv___fortran__filtre___dump
   _____NB_=_115_:____2.6______0.4_______0.6_____0.4
   
   
   Même test avec un AFFE_CHAR_MECA (un mot-clé facteur contre 9 
   dans ceux de l'étude) :
   
   __________________superv___fortran__filtre___dump
   _____NB_=__58_:____3.9______0.4_______9.1_____5.3__avec_pickle
   _____NB_=__58_:____3.9______0.4_______2.6_____1.7__avec_cPickle
   _____NB_=_115_:____5.9______0.9______19.1____10.8__avec_pickle
   _____NB_=_115_:____5.8______0.8_______5.7_____4.0__avec_cPickle
   
   On voit que si on remplace le module pickle par cPickle, le temps 
   est nettement amélioré
   (facteur 3-4).
   
   
   Pourquoi un concept "char_meca" est plus long à sérialiser qu'un 
   "mater" ?
   Longueur de la chaîne de caractères produites par pickled.dumps() 
   :
   
    DEFI_MATERIAU : len() = 2078
    AFFE_CHAR_MECA : len() = 70783 avec pickle, 64085  avec cPickle
   
   => les objets en plus à sérialiser sont ceux du catalogue de SD.
   
   
   Quand on sérialise un concept (type ASSD), on supprime déjà 
   quelques références vers d'autres objets comme l'objet jdc, 
   l'objet parent, l'étape parente. Ce qui signifie qu'une fois 
   sérialisé, le concept n'est plus tout à fait le même, donc 
   potentiellement plus tout à fait utilisable !
   Cela ne pose pas de problème puisque le pick.1 est produit tout à 
   la fin et, qu'aujourd'hui au moins, il n'y a pas d'intérêt à 
   sérialiser un concept plus tôt.
   Ainsi, on ne prend pas de risque à supprimer les objets du 
   catalogue de SD à ce moment (c'est à dire quand on veut 
   sérialiser l'ASSD pour la première fois).
   
   Pour cela, on ajoute une méthode 'supprime_sd' aux objets 
   concepts/ASSD qui appelle une nouvelle méthode 'supprime' des 
   objets du catalogue de SD (type AsBase). Cette dernière est 
   appelée récursivement sur les sous-objets de type AsBase 
   (char_meca.CHME aussi de type AsBase...).
   Ces deux méthodes cassent les boucles de références (la référence 
   de l'AsBase pointe vers son parent) et avec l'argument optionnel 
   'delete=True' mettent à None leurs sous-objets AsBase.
   
   En revanche au moment de la poursuite,  il faut reconstruire 
   cette partie. C'est ce que fait la méthode rebuild_sd de ASSD.
   
   
   Ainsi, le temps d'exécution deviennent :
   - sur le cas-test minimaliste :
   
   __________________superv___fortran__filtre___dump
   _____NB_=_115_:____5.9______0.8_______0.01____0.8
   
   
   - sur l'étude initiale :
   
   __________________superv___fortran__TOTAL_JOB__temps_effectif
   _________AVANT_:___49.7_____112.1_____162.1_______416.9
   _________APRES_:___48.8_____107.8_____156.9_______165.2
   
   
   Remarques :
   - On pourrait utiliser plutôt le module cPickle pour gagner un 
   peu sur le temps de création du pick.1 mais le temps est 
   maintenant faible, et il y a un risque de certains objets ne 
   puissent pas être sérialisé. A tester plus longuement.
   
   - On pourrait quasiment diviser le temps de création du pick.1 
   par deux car l'étape de
   filtre ignore un certain nombre de types d'objet et pour les 
   autres, on tente de les sérialiser individuellement 
   (pickle.dumps) et si on y arrive, on les met dans le dictionnaire 
   qui sera sérialisé dans la deuxième phase. On pourrait supposer 
   que les ASSD sont toujours sérialisables. A tester plus 
   longuement aussi.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    etude jointe
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 015810 DU 2010-10-22 15:45:21
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.21, les cas-test sdls121a et sdls121b, sdls121c s'arretent en erreur _<F> sur Aster4
FONCTIONNALITE
   Problème
   ========
   
   Les tests zzzz159b, sdls121a et sdls121b, sdls121c s'arrêtent en 
   erreur 
   sur Aster4.
   
   
   Correction
   ==========
   
   Le problème n'est pas dans Code_Aster.
   En fait, il s'agit d'un problème dans la soumission en batch des 
   calculs 
   distribués par MACR_RECAL.
   
   Si on ne fait rien de particulier, les calculs sont soumis dans une 
   classe par défaut dont, sur Aster4, les limites mémoire/temps cpu sont 
   très faibles.
   Il faut alors dans ce cas pouvoir choisir automatiquement une liste de 
   classes en fonction du calcul soumis : cas-test, mpi, calcul 
   distribué...
   
   Cette possibilité a été ajouté à asrun 1.8.4 en version bêta sur 
   Aster4.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    tests utilisant MACR_RECAL en distribuxc3xa9
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR elgharib     EL-GHARIB Joumana      DATE 11/09/2010 - 08:57:40

--------------------------------------------------------------------------------
RESTITUTION FICHE 015759 DU 2010-10-18 15:14:09
TYPE aide utilisation concernant Code_Aster (VERSION 9.1)
TITRE
    Aide a l'utilisation - modele de Cam Clay
FONCTIONNALITE
   Cette réponse récapitule les échanges de mails avec Christophe Vasse depuis l'émission de
   cette fiche:
   
   En effet, on lui as d'abord évoqué les deux propositions suivantes, et deux questions à
   propos de son calcul avec Code_Aster:
   
   -Voir si Cam_Clay dans Zmat répond au  besoin, on ne sait jamais,
   -Utiliser UMAT (récemment possible dans Code_Aster), et là aussi, trouver un moyen
   d'acquérir ou développer le fortran adéquat.  
   
   Pour son calcul avec Code_Aster, on lui a posé les deux questions:
   
   -Y a t il de la localisation de la plasticité dans un élément fini?
   -Y a t il de la plasticité dans le domaine de dilatance? car, ça revient à traiter un
   matériau adoucissant. Les techniques de robustesse mises en place pour les matériaux
   adoucissants ne sont pas à négliger (régularisation, pilotage, ...)
   
   Christophe Vasse a déjà vérifié le modèle Cam_Clay dans Zmat et trouve qu'il est très
   pauvre. Actuellement, il privilégie la piste Umat.
   
   Par ailleurs, il dit que son problème avec Code_Aster (pour l'instant) ne semble pas être
   lié aux deux questions évoquées ci dessus mais à l'identification des paramètres et
   s'interroge sur la signification et l'identification du paramètre Kcam qu'il n'arrive pas
   à déterminer expérimentalement. Il se posait la question si ce paramètre existait dans
   d'autres codes de calcul.
   
   Résumé sur les échanges techniques - début:
   Dans la doc R de Cam_Clay, il est bien expliqué  pages 24 et 25 que signifie le paramètre
   Kcam: c'est une compressibilité initiale.
   
   Il est lié à la 'morphologie' de la surface de charge ;
   Kcam et Ptrac, sont deux paramètres introduits et 'facultatifs'  suite à  notre expérience
   avec cette loi sur les études. Ils permettent de décaler le critère vers les contraintes
   de traction et aussi de partir d'un état de contraintes nulles. On les renseigne positifs
   pour éviter l'exercice d'initilisation des contraintes et le plantage si contraintes de
   traction.
   Autrement, l'utilisateur peut initialiser les contraintes (cf. Doc R7.01.14).
   
   D'autre part,  le paramètre KCAM existe dans des modèles de la littérature; 
   Dans la  note Eureka H-T62-2009-00697-FR  de validation indépendante faite par
   l'université de Liège (équipe de Robert Charlier) et le code Lagamine (Kcam = K0 dans
   Lagamine et tu le trouves dans la loi à élasticité non linéaire(2) ) , tu  trouveras
   toutes  les équivalences Cam_Clay et Lagamine dans les deux paragraphes § 3.8 et 3.9.
   
   Une façon simple d'expliquer l'origine du paramètre Kcam :
   Delta  P = (k0P- + Kcam)  (Delta epsv)  
   
   Initialement, s'il n'y a pas de contraintes initiales P- = 0, pas encore de déformation
   epsv- = 0.
   On génère une déformation Delta epsv, elle ne peut engendrer une contrainte Delta P  sauf
   si kcam est non nul.
   
   sinon, on est obligé d'imposer une contrainte initiale P-.
   
   L'ensemble (k0P- + Kcam) s'appelle rigidité initiale obligatoirement non nul par un moyen
   ou un autre : contrainte initial ou paramètre kcam non nul.
   
   C'est exactement comme quand on écrit en élastictié linéaire et pour la partie volumique
   ou hydrostatique : Tr(Delta sigma) = 3K (Deltas eps) où 3K est non nul.
   
   Résumé sur les échanges techniques - fin.
   
   Actuellement, Christophe Vasse tente plusieurs pistes :
   
   1- Utilisation de Umat,
   2- Identification expérimentale des paramètres qui restaient flous,
   3- Tentative d'un calcul avec ces nouveaux paramètres et CAM_CLAY dans Code_Aster,
   4- Voir si d'autres lois dans Code_Aster répondent au besoin,
   5- Christophe nous transmettra ces conclusions suite à ces actions et appelle une Main
   d'oeuvre AMA s'il décide d'utiliser CAM_CLAY et s'il souhaite des évolutions dans la loi
   actuelle.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ras
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR debonnieres  DE BONNIERES Philippe   DATE 11/08/2010 - 03:55:02

--------------------------------------------------------------------------------
RESTITUTION FICHE 015194 DU 2010-06-14 12:55:13
TYPE anomalie concernant Code_Aster (VERSION 10.2)
TITRE
    tester le code retour de rcvarc dans lc0044.f
FONCTIONNALITE
   On récupérait (avec rcvarc) TM,TP,TREF et on fournissait ces valeurs à brag00 et brag01 
   sans
   tester le code retour de rcvarc.
   Du coup, lorsqu'il n'y a pas de température, on se plantait dans la routine brag01 sur
   l'instruction :
         TMABS=TM+273    
   
   J'ai corrigé le problème de précision sur TMABS. (273->273.15)
   
   La temperature doit etre donnee en Celsius
   
   J'ai mis 'F' comme premier argument de rcvarc pour les trois occurences.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.04.212 V6.04.213 V6.04.214 V6.04.215 V6.04.216
VALIDATION
    SSNV212A SSNV213A SSNV214A SSNV215A SSNV216A
NB_JOURS_TRAV  : 0.4
--------------------------------------------------------------------------------
RESTITUTION FICHE 015259 DU 2010-06-28 12:12:11
TYPE anomalie concernant Code_Aster (VERSION 10.2)
TITRE
    TEST_RESU dans ssnv216
FONCTIONNALITE
   Correction de NON_REGRESSION en SOURCE_EXTERNE dans les TEST_RESU concernés
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.04.216
VALIDATION
    SSNV216
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015352 DU 2010-07-16 16:33:39
TYPE anomalie concernant Code_Aster (VERSION 9.7)
TITRE
    ecart entre META_LEMA_ANI et Norton avec PETIT_REAC
FONCTIONNALITE
   Dans le cadre du projet Crocodile 2, j'ai ete amene a realiser une comparaison entre le 
   modele de
   comportement META_LEMA_ANI degenere en une loi isotrope de Norton et le modele de Norton 
   proprement
   dit, sur un cas-test en traction simple avec PETIT_REAC en 2D axisymetrique (la traction 
   se faisant
   suivant l'axe).
   J'ai constate, pour une deformation imposee de 20%, un ecart significatif de l'ordre de 
   12% sur le
   deplacement dans la direction transverse entre les deux modeles, alors que ces deux 
   modeles sont
   censes coincider (c'est d'ailleurs le cas en petites deformations).
   
   
   J'ai corrige le probleme en utilisant pour integrer la loi uniquement SIGM et non plus 
   EPSM (il s'agit d'un probleme intrinseque à PETIT_REAC, cf reponse de JMP à la fiche 
   15353)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V7.22.136
VALIDATION
    HSNV136A HSNV136B
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR delmas       DELMAS Josselin        DATE 11/09/2010 - 02:57:15

--------------------------------------------------------------------------------
RESTITUTION FICHE 015875 DU 2010-11-05 16:37:47
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.23, le cas-test sdls111a s'arrete en erreur F sur Rocks.
FONCTIONNALITE
   Problème :
   ========
   Le test plante avec les même symptômes que perf006a et perf006b dans issue15839. Ce
   problème vient du nouveau fonctionnement de MODE_ITER_SIMULT+MATR_GENE qui bascule sur
   MUMPS si le solver n'est ni MUMPS ni LDLT.
   Dans ce cas le message indique d'augmenter la mémoire pour pivoter.
   
   Correction :
   ==========
   On applique la même correction :
   - MUMPS a besoin de plus de mémoire pour pivoter, on augmente en conséquence.
   
   Impact :
   ======
   sdls111a
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passage du test
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 015873 DU 2010-11-05 16:22:44
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.23, le cas-test sdls106d s'arrete en erreur F sur Bull, Rocks et Cal5.
FONCTIONNALITE
   Problème :
   ========
   Le test plante avec les même symptômes que perf006a et perf006b dans issue15839. Ce
   problème vient du nouveau fonctionnement de MODE_ITER_SIMULT+MATR_GENE qui bascule sur
   MUMPS si le solver n'est ni MUMPS ni LDLT.
   
   Correction :
   ==========
   On applique la même correction :
   - Le critère de détection de singularité NPREC passe de 8 à 9 ;
   - MUMPS a aussi besoin de plus de mémoire pour pivoter, on augmente en conséquence.
   
   Impact :
   ======
   sdls106d
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    test
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 015832 DU 2010-10-26 15:52:58
TYPE anomalie concernant Documentation (VERSION *)
TITRE
    Anomalie: Titre ZZZZ271
FONCTIONNALITE
   Anomalie relevé dans le titre de la doc V du cas-test ZZZZ271 V1.01.271. 
   Il a ete entre dans l'appli doc sous le nom "ZZZZ261 - Projection de contraintes et de
   variables internes en 2D et 3D".
   Or le cas-test "ZZZZ261 - Validation de PROJ_CHAMP en 2D" existe deja!
   
   Sur proposition d'Alexandre on modifie les titres :
      zzzz261 : "Validation de PROJ_CHAMP en 2D pour des champs connus aux noeuds" ;
      zzzz271 : "Validation de PROJ_CHAMP en 2D et en 3D pour des champs connus aux points de
   Gauss".
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    *
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 015338 DU 2010-07-15 07:41:04
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Groupes de commandes pour Eficas
FONCTIONNALITE
   Problème :
   ========
   Dans Eficas, on peut trier les commandes par ordre alphabétique ou par groupes.
   Ces groupes sont définis dans les *.capy. Par exemple :
   
   DEFI_LIST_INST=OPER(nom="DEFI_LIST_INST",
                       op=28,
                       sd_prod=list_inst,reentrant='n',
                       UIinfo={"groupes":("Fonction",)},
   
   Or le nom de ces groupes n'est pas homogène : on trouve "Modelisation" et 
   "Modélisation" ou "Outils metier" et "Outils métier".
   
   Correction :
   ==========
   On met de l'ordre en homogénéisant et on propose de nouveaux groupes. On note que les
   commandes peuvent appartenir à plusieurs groupes.
   Ainsi on a les groupes suivants :
   Acoustique ;
   Chargements ;
   Dynamique ;
   Fonctions ;
   Gestion du travail ;
   Impression ;
   Lecture ;
   Maillage ;
   Matrices et vecteurs ;
   Modélisation ;
   Mécanique ;
   Outils-métier ;
   Post-traitements ;
   Rupture ;
   Résolution ;
   Résultats et champs ;
   Tables ;
   Thermique ;
   Utilitaires.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    visuel
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 015313 DU 2010-07-08 12:21:28
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    ERRE_ELEM_SIGM - erreur developpeur
FONCTIONNALITE
   Problème :
   ========
   Quand on met en oeuvre le très pertinent problème consistant à bloquer tous les ddls d'une
   structure et qu'ensuite on calcule l'option ERRE_ELEM_SIGM on s'arrête fatalement.
   
   Analyse :
   =======
   Dans ce test, le champ de contrainte et d'erreur sont nuls. Or pour l'erreur relative, on
   norme avec la norme de sigma. Dans notre test, on divise par zéro.
   
   Correction :
   ==========
   On blinde pour ne plus diviser par zéro.
   
   Impacts :
   =======
   erglme.f
   te0375.f
   te0377.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    tests ERRE_ELEM_SIGM
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 014033 DU 2009-10-13 15:51:51
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Champs de contraintes en entree de ERRE_ELEM_SIGM
FONCTIONNALITE
   Problème :
   ========
   Pour le calcul de ERRE_ELEM_SIGM il faut un champ de contrainte en entrée.
   Il est possible d'utiliser les champs suivant :
   SIGM_ELNO_DEPL
   SIEF_ELNO_ELGA.
   
   Les valeurs ne sont pas nécessairement identiques mais elles devraient assez peu varier.
   
   Or, sur le test sslv113d les valeurs de l'erreur estimée sont différentes lorsque l'on
   change le champ de contrainte.
   
   Analyse :
   =======
   Il n'y a rien d'anormal. Dans ce test le maillage est très grossier (4 mailles). Les
   valeurs des contraintes varient un peu. Mais quand on raffine le maillage, les différences
   diminuent.
   L'option ERRE_ELEM_SIGM n'a donc rien à se reprocher.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    *
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR tardieu      TARDIEU Nicolas        DATE 11/09/2010 - 02:57:17

--------------------------------------------------------------------------------
RESTITUTION FICHE 015344 DU 2010-07-15 15:26:14
TYPE anomalie concernant Documentation (VERSION *)
TITRE
    V7.90.03 citee dans V7.01.101 mais absente de la base
FONCTIONNALITE
   v7.90.03 a été supprimé et son contenu reporté en annexe de v7.01.100.
   
   J'ai remplaceé page 4 :
   
   "En 2D axisymétrique, les solutions complètes données en [V7.90.03] sont telles que"
   
   par
   
   "En 2D axisymétrique, les solutions complètes données en annexe sont telles que"
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    Sans objet
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroches    DESROCHES Xavier       DATE 11/09/2010 - 02:57:17

--------------------------------------------------------------------------------
RESTITUTION FICHE 015096 DU 2010-05-20 11:43:18
TYPE anomalie concernant Documentation (VERSION *)
TITRE
    Imprecisions dans la doc R3.06.03
FONCTIONNALITE
   Correction d'une erreur dans une formule de la documentation 
   R3.06.03 §3.2 : il manquait un indice i.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : R3.06.03
VALIDATION
    sans
NB_JOURS_TRAV  : 0.01
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR debonnieres  DE BONNIERES Philippe   DATE 11/09/2010 - 02:57:18

--------------------------------------------------------------------------------
RESTITUTION FICHE 013907 DU 2009-09-18 08:21:50
TYPE anomalie concernant Documentation (VERSION *)
TMA : DeltaCad
TITRE
    Tests non documentes # RESPONSABLE DEBONNIERES
FONCTIONNALITE
   Suite à la publication des 3 derniers tests, passage en résolu
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V1.01.190 V1.01.192 V1.01.193 V6.02.124 V6.04.170 V6.01.107
VALIDATION
    SENSM12A SENSM13A SENSM14A SSNL124A SSNV170A SSNA107A
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desoza       DE SOZA Thomas         DATE 11/08/2010 - 04:27:03

--------------------------------------------------------------------------------
RESTITUTION FICHE 015837 DU 2010-10-27 15:21:15
TYPE anomalie concernant Code_Aster (VERSION 9.8)
TITRE
    probleme de convergence, liaison unilaterale
FONCTIONNALITE
   Anomalie
   ========
   
   [Initialement cette fiche issue de l'assistance technique était une AOM. Il s'est en fait
   avéré que les fichiers soumis par l'utilisateur montraient un bug]
   
   '''
   Demande emise dans le cadre de l'AT (Minh-Bao LE, Minh-Bao LE, Thsard CIFRE EDF SEPTEN - LMS)
   
   Tout d'abord, il vous remercie pour l'aide que vous lui avez apportée (fiche 15794).
   
   A propos des remarques sur le modèle d'avancement de fissure, il pense que la non
   convergence est liée au traitement de la condition de liaison unilatérale.
   
   Il nous a envoyé le fichier commande et le maillage .med correspondant. Nous avons
   retravaillé les fichiers pour pouvoir faire passer les études en STA10 sur Bull.
   
   En appliquant le paramètre CTLVR à 1 ou 2 dans le fichier de commande, nous pouvons
   changer la modélisation du contact par CONTACT ou par LIAISON_UNILATER. Ces deux options
   modélisent normalement le même problème (l'interdiction de la pénétration de la lèvre de
   la fissure), mais le calcul utilisant CONTACT converge alors que le calcul avec
   LIAISON_UNILATER diverge.
   '''
   
   Analyse
   =======
   
   On constate que le calcul avec CONTACT contre une surface rigide converge sans problème
   tandis que le calcul avec LIAISON_UNILATER diverge dès l'instant suivant la première
   activation de la liaison.
   
   Effectivement il y a un bug dans la programmation de la liaison unilatérale.
   
   C'est ma faute : en 9.2.19 (dans la fiche issue11906) j'ai corrigé cette fonctionnalité
   qui ne pouvait pas marcher avant. Plusieurs bugs avaient été corrigés dans cette fiche
   dont un qui portait sur la mise à jour du jeu : elle n'était pas faite auparavant.
   J'ai donc ajouté un boucle pour la faire : malheureusement à l'époque je n'étais qu'un
   débutant du contact et je me suis planté. La boucle a été faite sur NBLIAC au lieu de
   NBLIAI (notez la subtile différence).
   
   J'ai introduit un cas-test (ZZZZ237B) pour valider la liaison unilatérale. Malheureusement
   dans ce test j'active toutes les liaisons d'un coup donc NBLIAC=NBLIAI. Il existe un autre
   test qui se rapproche beaucoup de l'étude jointe à cette fiche (HPLP310A) mais lui aussi
   ne pose pas de problème actuellement.
   Ainsi tout calcul qui active la liaison unilatérale en ne commençant pas par les premiers
   noeuds contraints ne pouvait pas marcher.
   
   Correction
   ==========
   
   - je corrige algocu.f
   - j'ajoute en INFO=2 une impression des jeux pour aider au débuggage
   - je restitue une modélisation de type contact de Hertz avec une sphère sur un plan rigide
   (pour activer les liaisons une par une et en partant de la fin du GROUP_NO définissant la
   surface de contact)
   
   V9
   ==
   
   Il faut faire la même modif en V9. Il n'y avait pas de résultats faux mais une convergence
   impossible.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    tests LIAISON_UNILATER
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 015815 DU 2010-10-22 16:41:46
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    resultats faux en // Mpi (au moins 25 cas tests)
FONCTIONNALITE
   Anomalie
   ========
   
   Jacques a exhibé une liste de 25 tests OK en version séquentielle et qui une fois soumis
   en MPI sur 2 processeurs sont NOOK.
   
   Analyse
   =======
   
   Suite à l'étude des NOOK et erreurs <F> réalisée par Nicolas, Jacques et moi-même, la
   fiche issue15785 met en place une correction "sûre" qui consiste à communiquer les
   cham_elem en sortie de CALCUL. Cette correction corrige tous les NOOK observés.
   
   Dans cette fiche, on se contente donc seulement d'expliciter les résultats faux.
   
   +++ POST_ELEM : calcul des énergies +++
   
   Dans POST_ELEM, pour le calcul des énergies, on s'appuie sur un champ par élément, 2 cas
   existent :
   - le champ par élément existe déjà dans la structure de données résultat (parce qu'il a
   déjà été calculé via un CALC_ELEM)
   - le champ n'existe pas, on va donc le calculer dans un objet temporaire
   
   Dans le premier cas, les résultats donnés par POST_ELEM étaient justes car le champ par
   élément permettant de calculer l'énergie était MPI_COMPLET (c'est à dire identique sur
   tous les processeurs).
   Dans le second cas, le champ d'énergie n'était que partiellement calculé sur chaque
   processeur, les résultats étaient donc faux.
   
   Remarque : la somme des énergies de chaque processeur donnait bien l'énergie totale cherchée.
   
   +++ POST_ELEM : autres post-traitements +++
   
   Plus généralement, les autres post-traitements effectués avec POST_ELEM étaient faux
   (masse, intégrale, etc ...).
   
   +++ AFFE_MODELE/AFFE_SOUS_STRUC +++
   
   Pour les tests faisant de la sous-structuration, les matrices élémentaires s'appuyant sur
   le modèle sous-structuré sont mal calculées en parallèle : même après communication. Les
   résultats sont donc faux.
   
   +++ LIRE_PLEXUS +++
   
   En sortie de LIRE_PLEXUS, le champ de pression produit est incomplet par processeur, le
   chargement appliqué par la suite n'est donc pas celui attendu, et pas le même sur chaque
   processeur.
   
   +++ Indicateurs d'erreur +++
   
   Tous les calculs d'indicateurs d'erreur en parallèle pouvaient potentiellement être faux.
   
   +++ Post-traitement en complexe +++
   
   Les champs complexes calculés par CALC_ELEM étaient faux en parallèle car ils n'étaient
   jamais communiqués.
   
   Remarque finale
   ===============
   
   Les calculs effectués en parallèle mais avec le mode de parallélisme 'CENTRALISE' étaient
   justes.
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 9.0
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 10.0
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.41.01,U4.41.02
VALIDATION
    tests NOOK
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 015814 DU 2010-10-22 16:37:41
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.21, les cas-test ssnl133a s'arrete en erreur NO_RESU_FILE sur Aster4
FONCTIONNALITE
   Anomalie
   ========
   
   Le cas-test SSNL133A ne converge pas sur Aster4 (compilateur intel v11).
   
   Analyse
   =======
   
   C'est un habitué du REX : fiches 12078, 13225, 13458, 13594, 13856, 13938 !
   
   Actuellement ce test utilise le solveur 'LDLT'. Il ne passe pas mieux en 'MULT_FRONT' ni
   en 'MUMPS'. Par contre si je désactive la détection de singularité (NPREC=-1) et que mets
   un nombre d'itération de Newton max à 20 (ITER_GLOB_MAXI), alors il passe sur toutes les
   plate-formes.
   L'utilisation de MUMPS a néanmoins un prix : les appels systématiques à JJLDYN avant MUMPS
   coûtent cher quand il s'agit de relire les données sur disque. Le temps de calcul est donc
   multiplié par 3. Par ailleurs le test émet sur Bull, Calibre et Clpaster l'alarme suivante : 
   
   !-------------------------------------------------------------------------------------------------!
   !_<A>_<SUPERVIS_94>_______________________________________________________________________________!
   !_________________________________________________________________________________________________!
   !_Le_temps_CPU_system_(133.070000)_atteint_une_valeur_supérieure_à_50%_du_temps_CPU_(207.460000)._!
   !_Ce_comportement_est_peut-être_anormal.__________________________________________________________!
   !_Le_nombre_d'appel_au_mécanisme_de_déchargement_de_la_mémoire_depuis_le_début_du_________________!
   !_calcul_est_de_13371.____________________________________________________________________________!
   !_________________________________________________________________________________________________!
   !_->_Conseil_:____________________________________________________________________________________!
   !____Augmenter_la_mémoire_JEVEUX_peut_permettre_de_diminuer_le_temps_système._____________________!
   !_________________________________________________________________________________________________!
   !_________________________________________________________________________________________________!
   !_Ceci_est_une_alarme._Si_vous_ne_comprenez_pas_le_sens_de_cette__________________________________!
   !_alarme,_vous_pouvez_obtenir_des_résultats_inattendus_!__________________________________________!
   !-------------------------------------------------------------------------------------------------!
   
   Je modifie donc le .para pour augmenter le temps alloué et j'ajoute un IGNORE_ALARM.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssnl133a
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 013050 DU 2009-01-12 17:07:26
TYPE anomalie concernant Documentation (VERSION *)
TITRE
    MN10 - DOc R mxc3xa9thode continue
FONCTIONNALITE
   La doc R de la formulation continue du contact R5.03.52 a été reprise et corrigée, la
   nouvelle révision (4047) est déjà dans l'appli doc en attente de validation.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : R5.03.52
VALIDATION
    nxc3xa9ant
NB_JOURS_TRAV  : 0.01
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroches    DESROCHES Xavier       DATE 11/08/2010 - 05:40:12

--------------------------------------------------------------------------------
RESTITUTION FICHE 015716 DU 2010-10-11 16:54:26
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Variabilitxc3xa9 du MODELE: pbm dans POST_ELEM, CALC_ELEM et CALC_G ?
FONCTIONNALITE
   POST_ELEM MASS_INER : les résultats peuvent etre faux quand le modèle
   varie d'un pas de temps à l'autre.
   
   On interdit dans POST_ELEM MASS_INER le post-traitement quand on donne un 
   resultat dans lequel le modèle varie d'un pas de temps à l'autre. 
   Dans ce dernier cas, on demande à l'utilisateur de donner le numéro d'ordre ou 
   explicitement le nom du modèle qui a servi pour le calcul à ce numéro d'ordre.
   
   Cas-test : sslp105a. On calcule MASS_INER à des instants différents, le modèle 
   ayant evolue.
   
   On previent dans la doc de POST_ELEM.
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 3.1
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 3.1
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.81.22 U4.44.01
VALIDATION
    sslp105a
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 015717 DU 2010-10-12 09:06:28
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    affe_char_meca / pesanteur ne peut pas etre rxc3xa9pxc3xa9txc3xa9
FONCTIONNALITE
   En regardant le source de la routine capesa, on voit qu'il y a une boucle sur 
   les occurences de PESANTEUR mais que ça ne peut pas marcher (on crée une carte 
   constante de meme nom à chaque itération).
   
   Le mot-clé PESANTEUR a évolué recemment en mot-cle facteur. Le demandeur de 
   l'évolution (Marc) utilise cette evolution pour cibler la charge de pesanteur 
   sur un groupe de maille et multiplier cette charge par une fonction temporelle 
   différente suivant les groupes de mailles. Il n'utilise qu'une seule occurence
   du mot-cle facteur.
   On decide donc de limiter dans le catalogue de la commande d'AFFE_CHAR_MECA le 
   nombre d'occurences du mot-clé PESANTEUR à 1.
   
   Par la meme occasion on fait la meme chose avec le mot-clé facteur ROTATION.
   (meme probleme dans la routine carota)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.44.01
VALIDATION
    cas tests Aster
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR geniaut      GENIAUT Samuel         DATE 11/08/2010 - 03:46:54

--------------------------------------------------------------------------------
RESTITUTION FICHE 015787 DU 2010-10-21 13:54:38
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    RUPT : G sur les bords du fond de fissure si condition de symxc3xa9trie
FONCTIONNALITE
   Problème :
   ----------
   
   D'après le CR-I20-2010-11 d'E. Lorentz, il semblerait qu'il y ait un pb sur G sur les
   bords du fond de fissure lorsque ce bord correspond à une condition de symétrie (donc ce
   bord est en fait en plein coeur de la matière).
   
   Commande incriminée : CALC_G
   
   
   
   Solution :
   ----------
   
   Une comparaison sur un barreau fissuré (structure complète vs. demi-structure) montre que
   l'erreur "à coeur" est du même ordre de grandeur avec ou sans condition de symétrie.
   
   plus d'infos dans le fichier en PJ
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    test perso
NB_JOURS_TRAV  : 1.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR gnicolas     NICOLAS Gérald        DATE 11/09/2010 - 08:21:00

--------------------------------------------------------------------------------
RESTITUTION FICHE 015818 DU 2010-10-22 17:06:31
TYPE anomalie concernant Code_Aster (VERSION 10.2)
TITRE
    En NEW10.2.21, les cas-test zzzz121e s'arretent en erreur _<F> sur Rocks
FONCTIONNALITE
   La version de HOMARD couplée par défaut avec Aster est désormais la 9.8.
   
   Ce changement corrige un débordement de tableau dans HOMARD, apparu dans le cas-test
   zzzz121e sur le cluster AMA, avec la livraison de la fiche 15542
   
   Impact pour l'utilisateur :
   ===========================
   Aucun
   
   Impact dans les sources d'Aster :
   =================================
   
   Modification de la macro-commande MACR_ADAP_MAIL (version)
   Modification de la macro-commande MACR_INFO_MAIL (version)
   zzzz121a : remplacement de V9_7 par V9_8
   
   Validation :
   ============
   Les cas-tests invoquant MACR_ADAP_MAIL
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U7.03.01, U7.03.02
VALIDATION
    zzzz121e
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 014670 DU 2010-02-19 17:09:01
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    MACR_ADAP_MAIL et MAJ_CHAM
FONCTIONNALITE
   HOMARD ne sait interpoler que des champs constant par éléments (ELEM), ou aux noeuds
   (NOEUD), ou aux noeuds par éléments (ELNO). On interdit tout autre type de champ dans
   l'option MAJ_CHAM
   
   Impact pour l'utilisateur :
   ===========================
   Aucun
   
   Impact dans les sources d'Aster :
   =================================
   
   Modification de la macro-commande macr_adap_mail (version)
   Modification du commun c_type_cham_into. Si aucun argument n'est passé, tous les types
   sont possibles : "ELEM", "ELNO", "ELGA", "CART", "NOEU". Sinon, on ne propose que les
   types passés en arguments.
   
   Validation :
   ============
   zzzz121b,c,e : cas-tests invoquant l'option MAJ_CHAM dans MACR_ADAP_MAIL
   
   Documentation :
   ===============
   U7.03.01 : MACR_ADAP_MAIL : on précise les types de champs possibles
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U7.03.01
VALIDATION
    zzzz121b,zzzz121c,zzzz121e
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR idoux        IDOUX Ludovic          DATE 11/08/2010 - 02:55:45

--------------------------------------------------------------------------------
RESTITUTION FICHE 015728 DU 2010-10-12 16:00:04
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.18, le cas-test ssnv217b s'arrete par non convergence sur Rocks.
FONCTIONNALITE
   Problème :
   arrêt faute de convergence du cas-test SSNV217b sur Rocks et Aster4
   
   
   Analyse :
   On se trouve dans un cas de chargement nul. On passe donc automatiquement en critère de
   convergence RESI_GLOB_MAXI à t = 3.
   Or, selon les plateformes, le RESI_GLOB_MAXI du pas précédent n'a pas la même valeur
   exactement. Ainsi, la valeur du critère de convergence à t = 3 n'est pas exactement la
   même entre toutes les plateformes. Pour certaines, on converge en moins de 10 itérations
   (Calibre et Bull), pour d'autres on ne converge pas en 10 itérations et on a besoin de
   raffiner. Le critère
   est tel qu'en fait le code ne passe jamais ce moment critique de chargement nul pour les
   plateformes où le raffinement apparaît (Rocks et Aster4).
   
   
   Solution :
   On augmente simplement ITER_GLOB_MAXI à 20. Ce faisant, le cas-test est OK sur toutes les
   plateformes. Dans le détail, on convergence en 11 itérations sur Rocks et sur Aster4 !
   
   
   Impact sources et documentation :
   aucun
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    cas-test lui-mxc3xaame
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR nistor       NISTOR Ionel           DATE 11/09/2010 - 10:11:35

--------------------------------------------------------------------------------
RESTITUTION FICHE 013099 DU 2009-01-29 08:29:08
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Anomalie constatee sur DEFI_MODELE_GENE
FONCTIONNALITE
   Problème
   ---------------------------------------------
   Un utilisateur de la sous-structuration dynamique (Franck Meissonnier) 
   a constaté que l'ordre dans lequel les instances du mot-clé factoriel 
   SOUS_STRUC sont renseignées dans DEFI_MODELE_GENE a une influence sur 
   le résultat final:
   Par example, si on déclare,
      MOD_GENE=DEFI_MODELE_GENE(INFO=1,
                               SOUS_STRUC=(_F(NOM='SS_ARB',
                                              MACR_ELEM_DYNA=ME_ARB),
                                           _F(NOM='SS_TABL',
                                              MACR_ELEM_DYNA=ME_TABL)),
                               LIAISON=_F(SOUS_STRUC_2='SS_ARB',
                                          INTERFACE_2='PALIER_A'),
                                          SOUS_STRUC_1='SS_TABL',
                                          INTERFACE_1='PALIER_T',
                                          OPTION='CLASSIQUE',
                               VERIF=_F(CRITERE='RELATIF',
                                        STOP_ERREUR='OUI',
                                        PRECISION=9.9999999999999995E-
   07), );
   le calcul avec passe, alors que si on déclare,
      MOD_GENE=DEFI_MODELE_GENE(INFO=1,
                               SOUS_STRUC=(_F(NOM='SS_TABL',
                                              MACR_ELEM_DYNA=ME_TABL),
   		                      _F(NOM='SS_ARB',
                                              MACR_ELEM_DYNA=ME_ARB),),
                               LIAISON=_F(SOUS_STRUC_2='SS_ARB',
                                          INTERFACE_2='PALIER_A'),
                                          SOUS_STRUC_1='SS_TABL',
                                          INTERFACE_1='PALIER_T',
                                          OPTION='CLASSIQUE',
                               VERIF=_F(CRITERE='RELATIF',
                                        STOP_ERREUR='OUI',
                                        PRECISION=9.9999999999999995E-
   07),);
   
   le calcul sur le modal qui suit plante (problème de matrice 
   numériquement singulière).
   On observe qu’ici on ne renseigne pas dans SOUS_STRUC ni TRANS ni 
   ANGL_NAUT (mots-clé facultatifs sans valeurs par defaut) or ce detail 
   est important comme on le verra par la suite !
   
   
   Diagnostique :
   
   Rendre un diagnostique complet pour cette anomalie a pris du temps car 
   lorsqu’on essaie de reproduire l’erreur avec nos cas-tests ont obtient 
   des résultats différents :
   -cas-tests qui passent sans problème
   -cas-tests qui sortent en NOOK 
   -cas-tests qui plantent sur conflit dans les nœuds des interfaces
   -cas-tests qui plantent sur matrice numériquement singulière dans le 
   calcul modal d’après.
   
   Avec l’aide de Mathieu Corus, on a épluché tous ces cas de figure et 
   les explications sont les suivantes :
   1.cas-tests qui passent :
   sont des cas-tests simples, deux sous-structures basées sur des 
   maillages différentes ou sur le même maillage. Si l’utilisateur 
   inverse ici l’ordre des sous-structures mais renseigne TRANS et 
   ANGL_NAUT il n’aura aucun souci. Si il ne le fait pas mais la création 
   du modèle généralisé a besoin d’une simple translation, ça passe 
   aussi. En plus, les TEST_RESU de ces cas-tests ne doivent porter que 
   sur la vérification des fréquences propres.
   
   2.cas-tests qui sortent en NOOK :
   idem avec le cas précédent (tests simples, besoin seulement d’une 
   translation etc.) mais les TEST_RESU de ces cas-tests portent aussi 
   sur la vérification des déplacements dans des nœuds identifiés avec 
   leur étiquette. On fait alors une erreur d'interprétation si on veut 
   évaluer une quantité d'intérêt en se basant sur la numérotation des 
   nœuds du maillage. Suivant l'ordre des déclaration des macro-éléments, 
   un nœud peut se trouver sur le bord de la structure globale ou sur 
   l'interface milieu. Il faut créer en préalable un groupe de nœuds basé 
   sur des critères géométriques.
   
   3.les cas-tests qui plantent
   Il s’agit des deux dernières situations qui ont une explication 
   commune. D’ habitude sont des cas plus complexes : plusieurs sous-
   structures, avec des rotations et translations à déclarer, etc. Les 
   mots-clé TRANS et ANGL_NAUT sont facultatifs mais s’ils ne sont pas 
   renseignés, le code calcule lui même des translations et impose 
   (0.0,0.0, 0.0) pour les angles nautiques. Le problème c’est que pour 
   le calcul des translations il possède une heuristique en faisant 
   l’hypothèse que la première sous-structure déclarée dans SOUS_STRUC 
   sert de référence (d’origine en quelque sort). Les translations des 
   autres sous-structures sont alors calculées par rapport à cette 
   référence. Considérons l’exemple d’une fleur dont on voudrait calculer 
   les fréquences propres par sous-structuration : si la première sous-
   structure déclarée et le calice , l’ordre des pétales ne compte plus 
   (mais il faut donner les bonnes rotations) ; si par contre, on déclare 
   d’abord une pétale on va sortir en erreur sauf si TRANS et ANGL_NAUT 
   sont renseignés pour toutes les sous-structures. En effet, dans le 
   code, si il ne trouve par des valeurs pour TRANS, alors il va les 
   calculer et suivant la configuration plus ou moins compliquée du 
   modèle final, il a beaucoup de chances de se planter car il prends par 
   défaut une référence qui n’est pas naturelle.
   
   Solution:
   ---------------------------------------------------------------------
   
   On rende obligatoires dans le catalogue TRANS et ANGL_NAUT. On  supprime 
   aussi les blocs fortran de calcul « automatique » des translations et 
   imposition des rotations dans arg126.f.
   Les  cas-tests de la base avec de la sous-structuration dynamique sont impactés:
   on introduit partout les bons translations et rotations.
   
   Impact:
   ---------------------------------------------------------------------
   fdlv102a, fdlv102b, fdlv102c, fdlv104a,fdlv110a
   perf006a, perf006b, sdld102a, sdld102b, sdld102c
   sdll113a, sdll113b, sdls01c, sdls106a, sdls106b
   sdls106c, sdls106d, sdls111a, sdlv302b, sdlv402a
   sdnl104b, sdnl105b, sdnl105d, shll100a, shll100b
   shll100c, shls200a, shlv301a, zzzz208b
   
   arg126.f
   
   defi_modele_gene.capy
   
   
   Jours de travail: 7 Ionel + 1 Mathieu
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.65.02
VALIDATION
    liste des ca-tests appelant DEFI_MODELE_GENE
NB_JOURS_TRAV  : 8.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR pellet       PELLET Jacques         DATE 11/08/2010 - 06:22:50

--------------------------------------------------------------------------------
RESTITUTION FICHE 015612 DU 2010-09-27 16:05:42
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    TEST_TABLE et  FILTRE  NUME_ORDRE
FONCTIONNALITE
   Problème :
   ----------
   Un utilisateur de TEST_TABLE a lu trop vite la doc U de cette commande.
                                                                                            
                           
   Quand il fait :
                                                                                            
                           
     TEST_TABLE(CRITERE='RELATIF',
                REFERENCE='AUTRE_ASTER',
                PRECISION=1.E-3,
                VALE=51.187499999999993,
                NOM_PARA='VMIS',
                FILTRE=_F(CRITERE='RELATIF',
                          CRIT_COMP='EQ',
                          PRECISION=1.E-3,
                          VALE=1,
                          NOM_PARA='NUME_ORDRE'),
                VALE_ABS='NON',
                TABLE=RESU_0,
                );
                                                                                            
                           
   L'exécution se plante avec le message :
                                                                                            
                           
      !---------------------------!
      ! <EXCEPTION> <CALCULEL6_7> !
      !                           !
      ! Filtre non valide.        !
      !---------------------------!
                                                                                            
                           
                                                                                            
                           
   Correction :
   ------------
   Pour les gens qui lisent trop vite, j'améliore un peu le message d'erreur qui devient :
                                                                                            
                           
                                                                                            
                           
   !------------------------------------------------------------------------------------!
   !.<F>.<CALCULEL6_7>..................................................................!
   !....................................................................................!
   !.Erreur.utilisateur.dans.la.commande.TEST_TABLE.:...................................!
   !...On.n'a.pas.pu.trouver.dans.la.table.la.valeur.à.tester...........................!
   !....................................................................................!
   !.Conseils.:.........................................................................!
   !...Plusieurs.raisons.peuvent.expliquer.l'échec.du.test.:............................!
   !.....*.Le.paramètre.testé.n'existe.pas.dans.la.table................................!
   !.....*.Les.filtres.utilisés.sont.tels.qu'aucune.ligne.ne.les.vérifie................!
   !.....*.Dans.une.occurrence.du.mot.clé.filtre,.l'utilisateur.s'est.trompé.de.mot.clé.!
   !.......pour.indiquer.la.valeur.:....................................................!
   !.........*.VALE....->.réel..........................................................!
   !.........*.VALE_I..->.entier........................................................!
   !.........*.VALE_K..->.chaine.de.caractères..........................................!
   !.........*.VALE_C..->.complexe......................................................!
   !------------------------------------------------------------------------------------!
                                                                                            
                           
   Ici, la raison de l'échec est que le paramètre NUME_ORDRE est de type "entier" et qu'il
   faut donc utiliser le mot clé VALE_I et non pas VALE.
    
    
   Liste des fichiers impactés par la correction de la fiche:  15612
     op0177.f
     calculel6.py
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    essai perso
NB_JOURS_TRAV  : 0.15
--------------------------------------------------------------------------------
RESTITUTION FICHE 015718 DU 2010-10-12 13:33:48
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    CREA_RESU / AFFE + champ de fonctions => danger
FONCTIONNALITE
   Problème :
   ----------
   Sébastien Meunier a essayé de créer avec CREA_RESU une sd_resultat en évaluant un champ de
   fonctions pour plusieurs instants.
   Mais le champ de fonctions est un champ de EPSI_F.
   La programmation de CREA_RESU / AFFE (routine crtype.f) suppose implictement que la
   grandeur "fonction" (ici EPSI_F) a exactement les memes composantes que la grandeur réelle
   associée (ici EPSI_R). Ce qui n'est pas vrai, d'où des valeurs farfelues dans la sd produite.
                                                                                            
                           
                                                                                            
                           
   Correction :
   ------------
   Je blinde la fonctionnalité en la restreignant aux 2 seules grandeurs qui possèdent la
   propriété énoncée ci-dessus : DEPL_F/R et TEMP_R/F
                                                                                            
                           
   Après cette "correction", le message d'erreur est le suivant :
                                                                                            
                           
                                                                                            
                           
   !---------------------------------------------------------------------------------------------!
   !.<F>.<CALCULEL2_5>...........................................................................!
   !.............................................................................................!
   !.Erreur.utilisateur.dans.CREA_RESU...........................................................!
   !...Quand.on.utilise.la.commande.CREA_RESU.avec.le.mot.clé.AFFE./.CHAM_GD.et.que.le...........!
   !...champ.est.un.champ.de.fonctions.(de.la.géométrie.et/ou.du.temps),.il.faut.que.la.grandeur.!
   !...associée.à.ce.champ.soit.TEMP_F.ou.DEPL_F.................................................!
   !.............................................................................................!
   !...Ici,.la.gradeur.est.:.EPSI_F..............................................................!
   !---------------------------------------------------------------------------------------------!
                                                                                            
                           
   Validation :
   ------------
   Essais perso en modifiant le test hsnv100f
                                                                                            
                           
   NEW9 :
   ------
   je propose de reporter ce "blindage" en NEW9.
    
    
   Liste des fichiers impactés par la correction de la fiche:  15718
     crtype.f
     calculel2.py
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    essai perso
NB_JOURS_TRAV  : 0.3
--------------------------------------------------------------------------------
RESTITUTION FICHE 015768 DU 2010-10-19 09:13:40
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    MECA_STATIQUE + calcul SIEF_ELGA_DEPL en "reuse" => bug
FONCTIONNALITE
   Problème :
   ----------
   Sébastien est tombé sur un problème avec MECA_STATIQUE + SIEF_ELGA_DEPL en "reuse".
                                                                                            
                           
   En regardant le source d' op0046.f, on voit que l'on calcule SIEF_ELGA_DEPL sur TOUS les
   pas de temps du calcul, ce qui est idiot quand on est en "reuse" : on recalcule le
   SIEF_ELGA_DEPL des pas de temps déjà calculés. Cela n'améliore pas les performances !
                                                                                            
                           
   Pour Sébastien, c'est encore plus grave (erreur fatale) car les variables de commandes
   fournies pour le "reuse" n'existent plus pour les pas de temps déjà calculés => erreur <F>
   : "impossible d'extrapoler à gauche".
                                                                                            
                           
   Correction :
   ------------
   Je me contente de corriger légèrement la routine op0046.f :
   Dans la boucle sur tous les numéros d'ordre, si le champ SIEF_ELGA_DEPL est déjà calculé,
   on ne refait pas le calcul.
                                                                                            
                           
   Validation :
   ------------
   En faisant un petit "write" temporaire, j'ai pu me convaincre que le calcul de
   SIEF_ELGA_DEPL est maintenat fait une seule fois.
   
   NEW9 :
   ------
   La correction est facile à reporter en NEW9
    
    
   Liste des fichiers impactés par la correction de la fiche:  15768
     op0046.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    essai perso
NB_JOURS_TRAV  : 0.15
--------------------------------------------------------------------------------
RESTITUTION FICHE 015784 DU 2010-10-21 08:30:34
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Erreur dans l'extraction d'un resu_elem pour SYME='OUI'
FONCTIONNALITE
   Problème :
   ----------
   L'étude jointe s'arrete en erreur fatale lors de l'assemblage de la matrice de rigidité.
   Le problème est lié à l'utilisation du mot clé SOLVEUR(SYME='OUI',...).
   Si on n'utilise pas ce mot clé, le problème disparait.
                                                                                            
                           
   Analyse :
   ---------
   Dans le modèle de l'utilisateur, il y a un mélange d'éléments discrets DIST_T (qui
   calculent une matrice symétrique) avec des éléments POU_D_T_GD qui calculent une matrice
   non-symétrique.
   Comme l'utilisateur à écrit SYME='OUI', on essaye de symétriser la matrice non-symétrique.
                                                                                            
                           
   Comme l'élément discret sait calculer l'option servant à symétriser ses matrices
   non-symétriques (depuis la version 10.2.8), on lance ce calcul.
   Mais dans le catalogue de l'élément discret, pour l'option RIGI_MECA_TANG, il n'a pas dit
   qu'il pouvait calculer cette matrice sous forme non-symétrique (ce qui est vrai !). La
   matrice non symétrique n'a pas été allouée sur le GREL des éléments discrets.
   Quand on veut ensuite symétriser cette matrice, le code s'arrete car les matrices
   élémentaires à symétriser n'existent pas sur ce GREL.
                                                                                            
                           
   Correction :
   ------------
   J'ai d'abord penser m'en sortir en complétant le catalogue de l'élément DIS_T (en disant
   que RIGI_MECA_TANG pouvait produire une matrice non-symétrique), mais tout bien réfléchi,
   ce n'est pas une bonne idée de "faire croire" que l'on calcule parfois une matrice
   non-symétrique alors qu'en fait elle est toujours symétrique.
                                                                                            
                           
   J'ai préféré modifier la routine d'extractio des resuelem (exresl.f) pour qu'elle ne
   s'arrete pas brutalement lorsque le resuelem n'existe pas sur un GREL. Comme on "note" les
   composantes réelles des champs locaux avec des booléens, on peut s'apercevoir dans le
   te0222 que le champ est absent et donc qu'il n'y a rien à faire.
                                                                                            
                           
   Validation :
   ------------
   J'ai pu vérifier que cette correction était efficace sur un petit test similaire à la
   (grosse) étude jointe.
    
    
   Liste des fichiers impactés par la correction de la fiche:  15784
     exresl.f  mecoel.f  resyme.f  te0222.f
     calculel2.py
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    essai perso
NB_JOURS_TRAV  : 0.7
--------------------------------------------------------------------------------
RESTITUTION FICHE 015785 DU 2010-10-21 08:46:30
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Resultats faux avec POST_ELEM en NEW10_mpi + Reflexion sur la fiabilite du parallelisme distribue
FONCTIONNALITE
   Problème :
   ----------
   J'ai fait passer une liste de 672 tests (la liste restreinte) en // sur 2 procs (Bull).
                                                                                            
                           
   587 sont OK
   85 se plantent (13%)
   parmi les 85 erreurs, 25 sont des NOOK_TEST_RESU.
                                                                                            
                           
   Les tests NOOK sont les suivants :
    erreu03a erreu04a hpla100c hplv101a hsnv100f plexu02a sdld21d sdll109a sdll109b sdll113c
    sdll137a sdll137b sdll137c sdll138a sdnl104b ssll102a sslp100b sslp100d ssls200a sslv109a
    sslv153a zzzz112a zzzz112c zzzz205a
                                                                                            
                           
                                                                                            
                           
   Corrections :
   -------------
   Thomas de Soza et Nicolas Sellenet ont respectivement regardé les fiches 15815 (25 tests
   NOOK en // mpi) et 15816 (55 tests se plantent en // mpi).
                                                                                            
                           
   Dans les 2 cas, le problème vient le plus souvent d'un calcul élémentaire "distribué" qui
   n'est pas suivi d'un "MPI_ALL_REDUCE". Pour corriger ces problèmes, il faut appeler la
   routine SDMPIC sur certains cham_elem produits par calcul.f.
                                                                                            
                           
   Nous nous sommes aperçu que ces corrections étaient répétitives (de nombreuses routines
   impactées) et que les nouvelles routines appelant calcul.f seraient dangereuses (résultats
   faux) si elles ne font pas appel à sdmpic.f.
                                                                                            
                           
   Nous avons donc convenu d'adopter une stratégie plus prudente :
    1) On ajoute un argument (MPIC) à la routine calcul.f :
       Si MPIC='NON' (comportement jusqu'à présent), les cham_elem calculés en mode
   "distribué" sont incomplets.
       Si MPIC='OUI' les cham_elem calculés en mode "distribué" sont complétés avant de
   sortir de calcul.f
    2) Pour presque TOUS les appels à calcul.f (230 appels dans 146 routines), on choisit
   MPIC='OUI'.
       On ne prend le risque des cham_elem incomplets que dans les routines merimo.f et
   cesvar.f utilisées par STAT_NON_LINE et DYNA_NON_LINE.
       Si nécessaire, il faudra modifier ce paramètre dans d'autres routines ou commandes
   pour améliorer les performances des calculs élémentaires en //.
       On pourrait par exemple le faire dans les commandes MECA_STATIQUE, THER_LINEAIRE et
   THER_NON_LINE.
                                                                                            
                           
   Suite à cette modification, beaucoup de tests sont réparés.
                                                                                            
                           
   Thomas a observé 3 autres problèmes :
      1) la routine mpicm2.F ne traitait pas les vecteurs complexes. => on complète cette
   routine.
      2) les tests utilisant des sous-structures restent faux sans que l'on ait encore
   compris pour quoi. Nous proposons d'interdire les parallélismes autres que 'CENTRALISE'
   pour les modèles comportant des sous-structures. => modification de la routine ajlipa.f
                                                                                            
                           
         Ces tests s'arretent maintenant avec un message clair :
                                                                                            
                           
        
   !-------------------------------------------------------------------------------------------------------!
        
   !.<F>.<ALGORITH16_91>...................................................................................!
        
   !.La.sous-structuration.n'est.compatible.qu'avec.un.mode.de.parallélisme.centralisé.....................!
        
   !.......................................................................................................!
        
   !....Conseil.:..........................................................................................!
        
   !......-.Renseignez.le.mot-clé.PARTITION/PARALLELISME.de.AFFE_MODELE.(ou.MODI_MODELE).avec.'CENTRALISE'.!
        
   !-------------------------------------------------------------------------------------------------------!
                                                                                            
                           
      3) Certains tests n'ont pas suffisamment d'éléments pour former plus d'un GREL. Pour
   ces tests, certains processeurs n'ont donc rien à calculer. Il semble que cette situation
   puisse conduire à des résultats faux. On l'interdit donc (temporairement ?) en émettant le
   message d'erreur suivant :
                                                                                            
                           
        
   !-------------------------------------------------------------------------------------------------------------------------------------!
        
   !.<F>.<ALGORITH16_97>.................................................................................................................!
        
   !.....................................................................................................................................!
        
   !.Il.y.a.moins.de.GREL.(1).dans.le.modèle.que.de.processeurs.participant.au.calcul.(2)..On.ne.peut.pas.distribuer.les.calculs.........!
        
   !.élémentaires........................................................................................................................!
        
   !.....................................................................................................................................!
        
   !..Conseils.:.........................................................................................................................!
        
   !....-.diminuez.le.nombre.de.processeurs.du.calcul....................................................................................!
        
   !....-.changez.le.mode.de.distribution.des.mailles.avec.le.mot-clé.PARTITION/PARALLELISME.de.l'opérateur.AFFE_MODELE.(ou.MODI_MODELE).!
        
   !-------------------------------------------------------------------------------------------------------------------------------------!
                                                                                            
                           
   Après ces corrections, il n'y a plus qu'un seul test NOOK en // mpi :
     erreu03a  : Mais ce n'est pas grave car ce test veut seulement vérifier que le code
   s'arrete en cas de matrice singulière.
                 Malheureusement, en //, avec mumps, le message d'erreur n'est pas le meme
   qu'en sequentiel.
                                                                                            
                           
                                                                                            
                           
   Validation :
   ============
                                                                                            
                           
   85 tests ont été soumis en // sur 2 procs avec les corrections proposées.
   Ce sont les tests de la liste restreinte qui posent actuellement problème (résultats faux
   ou plantage).
                                                                                            
                           
   Sur ces 85 tests,
                                                                                            
                           
   * 42 tests sont OK :
   ---------------------
   ahlv100a ahlv100m ahlv100s ascou11a erreu04a hpla100c hplv101a mumps03a plexu02a sdld04a
   sdld21d  sdld313a sdld313d sdll109a sdll109b sdll138a sensd03a sensd11b sensd11d sensm07a
   sslp316b ssls200a sslv07d sslv109a sslv111b sslv111e sslv113b sslv113d sslv153a
   ssnp123a ssnp130a ssnp130b ssnv124b tplv105a tpna01c zzzz112a zzzz112c zzzz121a
   zzzz121b zzzz121c zzzz121e zzzz205a
                                                                                            
                           
   * 1 test est NOOK :  erreu03a (on en a parlé plus haut)
                                                                                            
                           
   * 1 test (erreu02a) semble "boucler" indéfiniment : Il sort en TERM_CPULIMIT au bout de
   400s alors qu'il consomme 7s en sequentiel !
                                                                                            
                           
   * 41 s'arretent avec l'un des 8 messages d'erreur <F> suivants :
   -----------------------------------------------------------------
                                                                                            
                           
   ALGORITH16_91:
   sslp100b  sslp100d
                                                                                            
                           
   ALGORITH16_97:
   hsnv100f  sdll132a  sdll137c  sdls112a  sensd08b  sensd11a  shll101b  ssll11d  sslp316a 
   zzzz240a
   sdll113a  sdll137a  sdls105a  sdnl104b  sensd09b  sensd11c  ssll102a  ssll11e  sslv07a
   sdll113c  sdll137b  sdls107a  sdnv102a  sensd09d  shll100c  ssll11b   ssll11f  ssnv195b
                                                                                            
                           
   CALCULEL6_54:
   sdnv100g  sdnv100i
                                                                                            
                           
   CALCULEL6_55:
   sdnv103c  sdnv103d  ssnp121c
                                                                                            
                           
   CALCULEL6_87:
   ttll01a
                                                                                            
                           
   FACTOR_53:
   ssnv182d  ssnv185e
                                                                                            
                           
   FACTOR_77:
   ssnv186h
                                                                                            
                           
   JEVEUX_60:
   sslv135b  sslv135g
                                                                                            
                           
                                                                                            
                           
   !-------------------------------------------------------------------------------------------------------!
   !.<F>.<ALGORITH16_91>...................................................................................!
   !.......................................................................................................!
   !.La.sous-structuration.n'est.compatible.qu'avec.un.mode.de.parallélisme.centralisé.....................!
   !.......................................................................................................!
   !....Conseil.:..........................................................................................!
   !......-.Renseignez.le.mot-clé.PARTITION/PARALLELISME.de.AFFE_MODELE.(ou.MODI_MODELE).avec.'CENTRALISE'.!
   !-------------------------------------------------------------------------------------------------------!
                                                                                            
                           
   !-------------------------------------------------------------------------------------------------------------------------------------!
   !.<F>.<ALGORITH16_97>.................................................................................................................!
   !.....................................................................................................................................!
   !.Il.y.a.moins.de.GREL.(1).dans.le.modèle.que.de.processeurs.participant.au.calcul.(2)..On.ne.peut.pas.distribuer.les.calculs.........!
   !.élémentaires........................................................................................................................!
   !.....................................................................................................................................!
   !..Conseils.:.........................................................................................................................!
   !....-.diminuez.le.nombre.de.processeurs.du.calcul....................................................................................!
   !....-.changez.le.mode.de.distribution.des.mailles.avec.le.mot-clé.PARTITION/PARALLELISME.de.l'opérateur.AFFE_MODELE.(ou.MODI_MODELE).!
   !-------------------------------------------------------------------------------------------------------------------------------------!
                                                                                            
                           
   !---------------------------------------------------------------------------------------------------------------!
   !.<F>.<CALCULEL6_55>............................................................................................!
   !...............................................................................................................!
   !.Problème.d'utilisation.du.parallélisme.:......................................................................!
   !....On.cherche.à.faire.la.combinaison.linéaire.de.plusieurs.matrices..Certaines.de.ces.matrices................!
   !....ne.sont.pas.calculées.complètement.et.d'autres.le.sont..On.ne.peut.donc.pas.les.combiner...................!
   !...............................................................................................................!
   !..Conseils.pour.l'utilisateur.:................................................................................!
   !....1).Il.faut.émettre.une.demande.d'évolution.du.code.pour.que.le.calcul.demandé.aille.à.son.terme............!
   !.......Aide.pour.le.développeur.:.Noms.de.deux.matrices.incompatibles.:.&&OP0070.RIGID..et.&&OP0070.RESOC.MAFR.!
   !....2).En.attendant,.il.ne.faut.pas.utiliser.la."distribution".des.structures.de.donnée........................!
   !.......Aujourd'hui,.cela.veut.dire.:...........................................................................!
   !.........-.éviter.de.se.retrouver.avec.une."partition".du.modèle.dans.la.commande.où.le.problème.a.été.........!
   !...........détecté.............................................................................................!
   !.........-.pour.cela,.juste.avant.l'appel.à.la.commande.problématique,.il.faut.appeler.la.commande.:...........!
   !...........MODI_MODELE(reuse=MO,.MODELE=MO,.PARTITION=_F(PARALLELISME='NON'))..................................!
   !---------------------------------------------------------------------------------------------------------------!
                                                                                            
                           
   !----------------------------------------------------------------------------------------------------------!
   !.<F>.<CALCULEL6_54>.......................................................................................!
   !..........................................................................................................!
   !.Problème.d'utilisation.du.parallélisme.:.................................................................!
   !....Les.fonctionnalités.de.parallélisme.utilisées.ici.(calculs.distribués).conduisent.à.créer.............!
   !....des.structures.de.données."incomplètes".(i.e..partiellement.calculées.sur.chaque.processeur)..........!
   !..........................................................................................................!
   !....Malheureusement,.dans.la.suite.des.traitements,.le.code.a.besoin.que.les.structures.de.données.soient.!
   !...."complètes"..On.est.donc.obligé.d'arreter.le.calcul...................................................!
   !..........................................................................................................!
   !..Conseils.pour.l'utilisateur.:...........................................................................!
   !....1).Il.faut.émettre.une.demande.d'évolution.du.code.pour.que.le.calcul.demandé.aille.à.son.terme.......!
   !....2).En.attendant,.il.ne.faut.pas.utiliser.la."distribution".des.structures.de.donnée...................!
   !.......Aujourd'hui,.cela.veut.dire.:......................................................................!
   !.........-.éviter.de.se.retrouver.avec.une."partition".du.modèle.dans.la.commande.où.le.problème.a.été....!
   !...........détecté........................................................................................!
   !.........-.pour.cela,.juste.avant.l'appel.à.la.commande.problématique,.il.faut.appeler.la.commande.:......!
   !...........MODI_MODELE(reuse=MO,.MODELE=MO,.PARTITION=_F(PARALLELISME='NON')).............................!
   !----------------------------------------------------------------------------------------------------------!
                                                                                            
                           
   !-------------------------------------------------------------------!
   !.<F>.<FACTOR_53>...................................................!
   !...................................................................!
   !.Solveur.MUMPS.:...................................................!
   !...Mumps.manque.de.mémoire.lors.de.la.factorisation.de.la.matrice..!
   !.Solution.:........................................................!
   !...Il.faut.augmenter.la.valeur.du.mot.clé..SOLVEUR/PCENT_PIVOT.....!
   !.Remarque.:.on.a.le.droit.de.dépasser.la.valeur.100................!
   !-------------------------------------------------------------------!
                                                                                            
                           
   !-----------------------------------------------------------------------!
   !.<F>.<FACTOR_77>.......................................................!
   !.......................................................................!
   !.(solveur.linéaire.MUMPS).Matrice.non.factorisable.!...................!
   !......Le.pivot.est.presque.nul.à.la.ligne.1822.pour.le.noeud.NS1117.et.!
   !......la.composante.LAGS_F1............................................!
   !.......................................................................!
   !...->.Conseil.&.Risque.:...............................................!
   !......Il.s'agit.peut.etre.d'un.mouvement.de.corps.rigide.mal.bloqué....!
   !......Vérifiez.les.conditions.aux.limites..............................!
   !......Si.vous.faites.du.contact,.il.ne.faut.pas.que.la.................!
   !......structure.ne."tienne".que.par.le.contact.........................!
   !-----------------------------------------------------------------------!
                                                                                            
                           
   !---------------------------------------------------------------------------------------!
   !.<F>.<JEVEUX_60>.......................................................................!
   !.......................................................................................!
   !.Erreur.lors.de.l'allocation.dynamique..Il.n'a.pas.été.possible.d'allouer..............!
   !..une.zone.mémoire.de.longueur.568932432.(octets)......................................!
   !..La.dernière.opération.de.libération.mémoire.a.permis.de.récupérer.15798496.(octets)..!
   !---------------------------------------------------------------------------------------!
                                                                                            
                           
   !----------------------------------------------!
   !.<F>.<CALCULEL6_87>...........................!
   !..............................................!
   !.Objet.MASSTHER.ME001......RESL.non.testable..!
   !----------------------------------------------!
                                                                                            
                           
   Remarques :
   -----------
   Les messages d'erreur sont tous clairs et donnent des conseils pour pouvoir continuer.
                                                                                            
                           
   La seule exception est le message CALCULEL6_87 (peu clair) qui est émis par la commande
   (de développeur) TEST_RESU/OBJET.
   Dans ce test, on veut tester la somme des valeurs d'un resuelem. En parallèle, sur
   certains procs, le resuelem n'existe pas, ce qui entraine le message d'erreur fatale.
   Mais de toute façon, si l'objet existait, il serait incomplet et ne pourrait pas etre
   testé correctement !
   
   Resultats faux :
   ================
   D'ores et déjà, on peut dire que les résultats de la commande POST_ELEM étaient faux en
   mode parallèle MPI. Je pense qeu d'autres commandes ont pu produire des résultats faux.
   Thomas De Soza en dira plus en soldant la fiche 15815.
                                                                                            
                           
                                                                                            
                           
   Performances :
   ==============
   Le fait d'avoir modifié le comportement par "défaut" de calcul.f (communication des
   cham_elem à la fin de la routine), rend a priori le code moins performant en ce qui
   concerne les calculs élémentaires.
   Pour évaluer la perte de performance, j'ai fait passer 5 tests de la liste actuellement
   passée en mpi.
   Ces 5 tests ont été choisis parce qu'il sont parmi ceux qui consomment le plus de
   ressources pour les calculs élémentaires.
                                                                                            
                           
   Voilà la résultat de la comparaison avant /après :
                                                                                            
        Avant                             Après:
   ------------------------------------------------------------------------------------------------------------------------------------------------------------
   mumps05b.mess:#1 Resolution des systemes lineaires              CPU
   (USER+SYST/SYST/ELAPS):    265.57      4.23    268.06   :    262.38      3.80    264.21
   mumps05b.mess:#2 Calculs elementaires et assemblages            CPU
   (USER+SYST/SYST/ELAPS):     35.15      0.43     35.53   :     35.04      0.14     35.47
                                                                                            
                           
   perf009d.mess:#1 Resolution des systemes lineaires              CPU
   (USER+SYST/SYST/ELAPS):    150.39      7.04    153.49   :    153.97      7.17    155.64
   perf009d.mess:#2 Calculs elementaires et assemblages            CPU
   (USER+SYST/SYST/ELAPS):     16.11      0.44     16.45   :     16.01      0.42     16.00
                                                                                            
                           
   perf010f.mess:#1 Resolution des systemes lineaires              CPU
   (USER+SYST/SYST/ELAPS):    456.28     13.31    459.90   :    437.44     13.35    437.52
   perf010f.mess:#2 Calculs elementaires et assemblages            CPU
   (USER+SYST/SYST/ELAPS):     21.88      0.64     21.88   :     21.18      0.52     21.18
                                                                                            
                           
   wtna101a.mess:#1 Resolution des systemes lineaires              CPU
   (USER+SYST/SYST/ELAPS):     55.49     19.05     56.67   :     51.18     17.75     51.88
   wtna101a.mess:#2 Calculs elementaires et assemblages            CPU
   (USER+SYST/SYST/ELAPS):     96.35     24.84     96.72   :     92.27     22.54     94.04
   wtna101a.mess:#2 Calculs elementaires et assemblages            CPU
   (USER+SYST/SYST/ELAPS):      6.32      0.10      6.38   :      6.79      0.17      6.61
                                                                                            
                           
   zzzz265a.mess:#1 Resolution des systemes lineaires              CPU
   (USER+SYST/SYST/ELAPS):     20.64      4.57     20.71   :     16.86      3.80     16.91
   zzzz265a.mess:#2 Calculs elementaires et assemblages            CPU
   (USER+SYST/SYST/ELAPS):     38.75      8.25     38.60   :     30.29      4.68     30.79
                                                                                            
                           
   On voit que la détérioration n'est pas significative : le cout CPU de la résolution varie
   souvent plus que celui des calculs élémentaires.
    
    
   Liste des fichiers impactés par la correction de la fiche:  15785
     accep1.f  ajlipa.f  arlclc.f  assach.f  ca2mam.f  cafond.f
     cakg3d.f  cakgmo.f  calcul.f  calmaa.f  cesvar.f  chpond.f
     coendo.f  crvrc1.f  crvrc2.f  ctdata.f  endole.f  enetot.f
     fimped.f  fondpl.f  ggdtet.f  indrad.f  lrensi.f  manopx.f
     mbilgl.f  me2mac.f  me2mme.f  me2mth.f  me2zme.f  meama2.f
     meamgy.f  meamme.f  mebilg.f  mecagl.f  mecalg.f  mecanb.f
     meceuc.f  mecgme.f  mecoa1.f  mecoac.f  medime.f  medith.f
     meficg.f  meimme.f  memaac.f  memam2.f  memame.f  memath.f
     memokg.f  memsth.f  memzme.f  menoga.f  meonme.f  mergth.f
     meria1.f  merifs.f  merige.f  merime.f  merimo.f  meriro.f
     merit1.f  merit2.f  merit3.f  mertth.f  merxth.f  metnth.f
     nmdepr.f  nmdoet.f  nmelcm.f  nmelcv.f  nmetca.f  nmpipe.f
     nmrefe.f  nmsigi.f  nmvccc.f  nmvcfo.f  nmvgme.f  nsldc.f
     op0018.f  op0038.f  op0184.f  pascou.f  pecage.f  pecap1.f
     pecap2.f  pecap3.f  pechli.f  peingl.f  pemain.f  peritr.f
     peweib.f  phi2el.f  pjma2p.f  qintzz.f  qires1.f  racotu.f
     rapo3d.f  rapoco.f  ratu3d.f  reslgn.f  reslo2.f  resloc.f
     resth2.f  resthe.f  resyme.f  smevol.f  vebtla.f  vebume.f
     vecdid.f  vecgme.f  vechde.f  vechmc.f  vechme.f  vechnl.f
     vechth.f  vectfl.f  vectme.f  vecvme.f  vedime.f  vedith.f
     vedpme.f  vefnme.f  vefpme.f  veimpd.f  velame.f  vemsme.f
     veondp.f  verstp.f  vethbt.f  vethbu.f  vetnth.f  vetrth.f
     vpmain.f  w175ca.f  xcourb.f  xgecfi.f  xgrals.f  xmmbca.f
     xmtbca.f  xprcfl.f  xprini.f  xprls.f   xprpls.f  xprrei.f
     xprreo.f  xprtor.f  xprupw.f  xreacl.f  xtopoc.f  xtopoi.f
     zzloca.f
     mpicm2.F
     algorith16.py  algorith17.py
     affe_modele.capy
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 10.0
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    liste restreinte en //
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 015786 DU 2010-10-21 11:39:37
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    sdls105a se plante en // mpi dans PROJ_SPEC_BASE
FONCTIONNALITE
   Problème :
   ----------
   Le test sdls105a se plante en // mpi sur 2 procs dans la routine accep1.f
                                                                                            
                           
   Correction :
   ------------
   Après la correction de la fiche 15785, le test s'arrete en amont (dans AFFE_MODELE) avec
   un message ressemblant à :
   "Il n'y a qu'un seul GREL, il ne faut pas utiliser PARTITION='GROUP_ELEMENT'"
                                                                                            
                           
   Si on utilise PARTITION='CENTRALISE', le test est OK
                                                                                            
                           
   En revanche avec PARTITION='MAIL_DISPERSE', le test se plante encore dans accep1.f
                                                                                            
                           
   Je modifie donc accep1.f pour interdire tout autre partition que 'CENTRALISE'.
                                                                                            
                           
   Le message est le suivant :
                                                                                            
                           
   !-----------------------------------------------------------------------------------------!
   !.<F>.<CALCULEL_25>.......................................................................!
   !.........................................................................................!
   !.Erreur.utilisateur.dans.PROJ_SPEC_BASE.:................................................!
   !..La.commande.n'accepte.que.le.parallélisme.de.type.PARTITION='CENTRALISE'...............!
   !..Modèle.impliqué.:.INTERF...MODELE......................................................!
   !.........................................................................................!
   !.Conseil.:...............................................................................!
   !..Dans.la.commande.AFFE_MODELE.(ou.MODI_MODELE),.il.faut.utiliser.PARTITION='CENTRALISE'.!
   !-----------------------------------------------------------------------------------------!
    
    
   Liste des fichiers impactés par la correction de la fiche:  15786
     accep1.f
     calculel.py
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sdls105a en //
NB_JOURS_TRAV  : 0.4
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR abbas        ABBAS Mickael          DATE 11/08/2010 - 06:22:52

--------------------------------------------------------------------------------
RESTITUTION FICHE 015863 DU 2010-11-04 08:11:54
TYPE express concernant Code_Aster (VERSION 9.1)
TITRE
    Variable non initialisée dans NMFCOR
FONCTIONNALITE
   La variable LICCVG(2) n'est pas intialisée dans certains cas dans la routine NMFCOR (ce
   qui provoque des comportements non voulus sur certaines plate-formes (32 bits
   apparemment), en particulier dans NMERGE ou NMERRO, avec ce MAGNIFIQUE message d'erreur:
   
      !-----------------------------------------------------------------!
      ! <F> <MECANONLINE_86>                                            !
      !                                                                 !
      ! Erreur dans la gestion des erreurs. Contactez les développeurs. !
      !                                                                 !
      !                                                                 !
      ! Cette erreur est fatale. Le code s'arrete.                      !
      !-----------------------------------------------------------------!
   
   (ça s'invente pas)   
   
   Je corrige
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    liste restreinte
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015827 DU 2010-10-25 16:15:42
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    SSNV194B a doublxc3xa9 sont temps CPU depuis la NEW10.2.18
FONCTIONNALITE
   On calcule une matrice en prédiction EXTRAPOLE au moins depuis la V9 (je dirais depusi
   toujours).
   Cette matrice sert à évaluer les CL et à en projeter les valeurs pour rendre les
   déplacements solutions cinématiquement admissibles (CA).
   Cette méthode à un sens dans le cas DEPL_CALCULE, puisqu'on est jamais certain que le
   champ entré par l'utilisateur soit effectivement CA et qu'Aster traite les CL uniquement
   en prédiction (c'est à dire impose U = Udonné), sans processus de correction (ce qui va
   bientot changer avec l'évolution sur la méthode de Newton-Krylov).
   
   Pour EXTRAPOLE, on pourrait croire que c'est inutile (puisque les champs viennent d'un
   calcul précédent).
   Mais ce n'est pas le cas.
   En effet, imaginons que les déplacements imposés soit VARIABLES au cours du temps.
   On extrait le déplacement au pas de temps I: les déplacements imposés valent U(d,I)
   On extrait le déplacement au pas de temps J: les déplacements imposés valent U(d,J)
   U(d,I) est différent de U(d,J) dans le cas général (en fait dès que U(d,.) ne vaut pas
   zéro ! )
   Si on reprend au temps K, il est aussi tout à fait possible que U(d,K) != U(d,J)
   
   Bref, rien ne nous assure que les DDL imposés le soit effectivement, sauf si on fait une
   résolution -> risque de résultats FAUX.
   
   Ceci étant dit, il est anormal de prendre une itération de plus;
   
   C'est la nouvelle version de VTCOPY qui provoque ce problème. En effet, dans NMPRDC et
   NMPRDE on utilisait improprement VTCOPY au lieu de COPISD, ce qui fait qu'on perdait les
   Lagrange (remis à zéro) -> défaut d'équilibre, on faisait une itération de plus.
   En corrigeant les deux routines, tout rentre dans l'ordre.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssnv194b
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015821 DU 2010-10-22 17:41:24
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    En NEW10.2.21, le cas-test ssnv102c est NOOK sur Rocks Cal5 et Aster4.
FONCTIONNALITE
   Il s'agit d'un nombre d'itérations différents entre Bull et les 3 autres
   plateformes.
   Le cas-test est aussi NOOK sur Bull, en version DEBUG
   
   Le cas-test utilise VISC_TAHERI.
   
   Dans un premier temps, une variable non initialisée a été détectée (issue 15853), mais ça
   n'avait rien à voir avec le problème.
   VISC_TAHERI n'est pas en cause, c'est la recherche linéaire qui ne fonctionne pas  bien.
   
   Entre la débug et le non-debug, il y a un (très) faible écart sur la fonctionnelle que
   l'on veut minimiser
   DEBUG:
   >>> F = -1.263113000969160E-011
   >>> FM = -4.672513443774341E-011
   NODEBUG:
   >>> F = -1.085304459650208E-013
   >>> FM = -1.395115004532571E-013
   
   Quand on évalue le nouveau RHO, on utilise la formule RHO  = (F*RHOM-FM*RHO)/(F-FM)
   En DEBUG, on trouve 1.3704795086874273
   En NODEBUG, on trouve 4.5031230459321678
   Soit un rapport de 1 à 3 !
   Forcément, ça ne donne pas la même chose. Le problème vient de l'ordre de grandeur de F et
   FM. Problème inhérent à la formule. Je ne vois pas comment améliorer ça, sans compter
   qu'une "amélioration" risque de casser d'autres tests...
   J'ai essayé recherche linéaire mixte, ça ne converge pas.
   
   Bref, je propose ici de modifier la tolérance en augmentant la précision.
   
   Par ailleurs, il faudra travailler en 2011 sur la robustesse de la recherche linéaire, qui
   est bien mise en défaut ici....
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssnv102c
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 015683 DU 2010-10-06 13:52:51
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Matrices ELASTIQUE en PREDICTION et CORRECTION
FONCTIONNALITE
   Je viens de m'apercevoir dans le source que si l'utilisateur a choisi une matrice de
   correction ELASTIQUE, alors, on force aussi la PREDICTION en ELASTIQUE (routine nmdomt.f).
   
   
   - Pourquoi ? C'est extremement regrettable si la LdC a des parametres qui dépendent de la
   thermique !
   - Si c'est utile, ce n'est pas dit dans la doc. de STAT_NON_LINE. De plus, une alarme me
   paraitrait pertinente (facile à lever pour l'utilisateur)
   
   Je lève cette limitation.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    liste restreinte
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015589 DU 2010-09-23 09:28:19
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    un xc3xa9crasement du cotxc3xa9 de nmdoch.f et liscli.f
FONCTIONNALITE
   La fiche a été corrigée par Mathieu en V10.2.21.
   
   Je ne suis pas absolument certain de la robustesse de la correction, mais ça me parait juste.
   
   En fait, le problème vient d'une confusion dans la SD LISTE_CHARGE
   Cette liste est indexée par l'occurrence de l'EXCITATION.
   Une excitation vient d'un AFFE_CHAR_*, dans lequel il peut y avoir plusieurs occurrences
   (mélangeant Dirichlet et Neumann par exemple).
   Donc, pour une occurrence d'EXCIT, le chargement est déclaré à la fois Dirichlet et
   Neumann, pour le même nom de charge (concept sortant d'AFFE_CHAR_*).
   Je n'avais pas compris ça à l'époque.
   
   je compte bien tout remettre à plat dans la fiche issue7299.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    aucune
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015466 DU 2010-08-27 13:05:25
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    ARRET='NON' ne marche pas pour ITER_GLOB_MAXI!=0
FONCTIONNALITE
   Problème:
   =========
   
   ARRET='NON' ne marche pas pour ITER_GLOB_MAXI!=0 en V9
   
   Réponse:
   ========
   
   Ce comportement est normal, c'est une précaution. Le mode ARRET='NON' a été blindé pour
   éviter à l'utilisateur de faire n'importe quoi.
   l'origine, on voulait carrément supprimer le mot-clef, mais il est utile dans le cas
   DEPL_CALCULE/EXTRAPOLE
   On a donc sévèrement restreint son usage (fiche issue11832 en V9.2.25)
   
   On ne change rien.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    nxc3xa9ant
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015401 DU 2010-07-29 11:37:24
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Corriger et xc3xa9claircir les messages en info=2
FONCTIONNALITE
   Une fiche pour corriger et éclaircir les messages en info=2
   
   1) Erreur lors des impressions : MUMPS/CONTACT=GCP
   On trouve dans le fichier .mess les informations suivantes, qui correspondent à la
   résolution du problème global :
   .<MONITORING.DMUMPS.4.9.2.>
   .TAILLE.DU.SYSTEME......9824
   .RANG.....NBRE.MAILLES.....NBRE.TERMES.K.....LU.FACTEURS
   .N....0.:.............804...........78206..........915409
   .N....1.:.............940..........185445..........905667
   .N....2.:.............939..........185791..........744131
   .-----------------------------------------------------------
   TOTAL...:............2683..........449442.........2565207
   ..MEMOIRE.RAM.ESTIMEE.ET.REQUISE.PAR.MUMPS.EN.MO(FAC_NUM.+.RESOL)
   .RANG.ASTER.:.ESTIM.IN-CORE.|.ESTIM.OUT-OF-CORE.|.RESOL..OUT-OF-CORE
   .N....0.:..............42..............31..............31
   .N....1.:..............41..............31..............31
   .N....2.:..............40..............31..............31
   
   On trouve dans le fichier .mess les informations suivantes, qui correspondent à la
   résolution du problème de contact : N'y aurait-il pas un problème dans les informations
   affichées ?
   .<MONITORING.DMUMPS.4.9.2.>
   .TAILLE.DU.SYSTEME......9824
   .RANG.....NBRE.MAILLES.....NBRE.TERMES.K.....LU.FACTEURS
   .N....0.:.............804...............0...............0
   .N....1.:.............940...............0...............0
   .N....2.:.............939...............0...............0
   .-----------------------------------------------------------
   TOTAL...:............2683...............0...............0
   
   ..MEMOIRE.RAM.ESTIMEE.ET.REQUISE.PAR.MUMPS.EN.MO(FAC_NUM.+.RESOL)
   .RANG.ASTER.:.ESTIM.IN-CORE.|.ESTIM.OUT-OF-CORE.|.RESOL..OUT-OF-CORE
   .N....0.:...............0...............0...............0
   .N....1.:...............0...............0...............0
   .N....2.:...............0...............0...............0
   
   
   
   2) Serait-il possible de ne plus imprimer dans le fichier de message les infos en face de
   <CONTACT_DVLP> et du type <CONTACT> <> LIAISON 199(N2987   /EL M495    ):  LIBRE  (JEU: 
   0.136E-02)
   qui ne servent qu'au débuggage (et encore!!!)
   
   3) Il y a des impressions, qui viennent de je ne sais où !!
   Order of root node after splitting :           1
   Le fichier mess fait 5Mo pour une 100 lignes utile comme info utilisable
   
   Réponse:
   ========
   
   Je réponds à la question 2.
   La fiche 10973 a du résoudre le problème.
   Pour les affichages du solveur, je pense que le mieux est d'étendre ce qui a été fait dans
   le cadre de 10973. Il faudrait émettre une évolution.
   En attendant, je classe cette fiche.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    nxc3xa9ant
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015142 DU 2010-06-01 11:37:12
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    PILOTAGE et chargement fonction
FONCTIONNALITE
   Problème (venant d'un stagiaire de Gilles):
   ===========================================
   
   Les chargements de Dirichlet (DDL_IMPO, ...) de type FIXE_PILO ne doivent pas dépendre du
   temps. Par contre, rien n'empêche qu'ils dépendent de la géométrie (initiale, bien
   entendu, ça reste des relations linéaires).
   Actuellement, dans Aster, il y a un bug qui fait qu'un chargement pilotable non-fonction
   du temps provoque une erreur pas sympa dans l'appel de l'option CHAR_MECA_DDLM_R.
   Ca tient au fait qu'on distingue les chargements de dirichlets constants, fonctions et
   fonctions du temps. par contre, pour le cas du pilotage, on ne fait aucune distinction.
   
   Correction:
   ===========
   
   Permettre les chargements de type AFFE_CHAR_MECA_F, fonctions autre que le temps pour le
   pilotage. On ajoute le type DIRI_PILO_F dans NMDOCH/LISCLI/LISCAD/ISCHAR.
   Un AFFE_CHAR_MECA_F dépendant du temps sera toujours arrêté.
   
   On modifie VEDPME et son appelant NMCALV pour activer ce chargement.
   
   Validation:
   ===========
   
   On modifie ssna115a en modifiant le chargement constant en chargement fonction (bidon),
   histoire de valider les chemins informatiques.
   
   TRACTION=AFFE_CHAR_MECA(
     MODELE=MO,
     FACE_IMPO= (
       _F(GROUP_MA='J_G',  DX=0. ,DY=1. ),
       )
     )
   
   Modifié en:
   
   TRAC_DX = FORMULE(NOM_PARA='Z',VALE='0.-Z')
   TRAC_DY = FORMULE(NOM_PARA='Z',VALE='1.-Z')
   TRACTIOF=AFFE_CHAR_MECA_F(
     MODELE=MO,
     FACE_IMPO= (
       _F(GROUP_MA='J_G',  DX=TRAC_DX, DY=TRAC_DY),   
       )
     )
   
   Tous les noeuds valant Z = 0. Ca ne change rien, sauf qu'on passe dans les routines pour
   l'évaluation des chargements de Dirichlet fonctions.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ssna115a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 014125 DU 2009-10-30 07:58:20
TYPE anomalie concernant Code_Aster (VERSION 9.5)
TITRE
    CALC_ELEM
FONCTIONNALITE
   Probleme:
   =========
   
   Il semble y avoir un bug dans la détermination des numéros d'ordre. Les calculs ont été
   effectués pour les instants 6.0, 6.2, 6.4, 6.6, 6.8....
   
   L'instant 6.6 correspond au seul numéro d'ordre 33.
   
      resu=CALC_ELEM(reuse = resu,
                    OPTION=('SIEF_ELNO_ELGA','EQUI_ELNO_SIGM','EPSP_ELNO','VARI_ELNO_ELGA',),
                    INST=6.5999999999999996,
   ....
                    PRECISION=9.9999999999999995E-07,
                    NORME='VMIS',
                    RESULTAT=resu,
                    );
   
      
      !-----------------------------------------------------------------------------!
      ! <A> <UTILITAI8_38>                                                          !
      !                                                                             !
      !                                                                             !
      !  Plusieurs champs correspondant à l'accès demandé pour la sd_resultat  resu !
      !                                                                             !
      !  accès INST : 6.6                                                           !
      !                                                                             !
      !   nombre : 2 NUME_ORDRE retenus : 33, 43, 0                                 !
      !                                                                             !
      !                                                                             !
      !                                                                             !
      ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette              !
      ! alarme, vous pouvez obtenir des résultats inattendus !                      !
      !-----------------------------------------------------------------------------!
   
   
   Réponse:
   ========
   Patrick a trouvé la réponse tout seul. Il y a une erreur dans un des STAT_NON_LINE.
   NUME_INST_INIT = 27
   NUME_INST_FIN = 38
   
   au lieu de NUME_INST_FIN = 28
   
   Que fait Aster dans ce cas ?
   ============================
   
    NUME_INST_* ne donne que les accès dans la liste d'instants. La manière dont fonctionne
   l'archivage est découplée de cette numérotation. Il ne va donc pas écraser les instants
   calculés (quand il risque de le faire, il y a un message d'alarme), il va les archiver
   deux fois, à des numéros distincts (d'où l'alarme dans IMPR_RESU).
   
   Pour l'affichage, c'est juste que le message prévoit d'écrire trois numéros d'ordres
   confondus mais qu'il y en a deux.
   Je corrige cette petite coquille dans RSUTNU.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    liste restreinte
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 015364 DU 2010-07-20 08:05:07
TYPE anomalie concernant Documentation (VERSION *)
TITRE
    Elements xc3xa0 discontinuitxc3xa9 interne (R7.02.14)
FONCTIONNALITE
   En voulant mettre à jour la doc sur le pilotage, je suis tombé sur plusieurs anomalies
   dans la doc R7.02.14 qui en rendent la lecture difficile:
   - Toutes les références biblios dans le texte sont "24"
   - La biblio elle-même n'est pas numérotée (il n'y a donc évidemment pas de 24 !)
   - les titres sont en capitales
   - Certaines figures sont séparées de leur légende (saut de page): Figure 2.2.1-b, Figure
   2.3.1.1-a par exemple
   - Acrobat reader plante sur la page 12 (mais se récupère ensuite)
   - problème à la page 20: figure et équations entrent en collision et la légende de la
   figure est coupée par le texte
   - le texte dans la Figure 3.3.2-a est coupé
   
   
   Je fais les corrections. la doc. est dans l'appli.
   
   NB: en fait, le 24 correspond à la page où se trouve la biblio (un problème de champ dans
   OpenOffice).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : R7.02.14,R5.03.80
VALIDATION
    visuelle
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR sellenet     SELLENET Nicolas       DATE 11/08/2010 - 06:22:54

--------------------------------------------------------------------------------
RESTITUTION FICHE 015866 DU 2010-11-05 08:48:10
TYPE express concernant Code_Aster (VERSION 9.1)
TITRE
    CALC_ELEM - message d'erreur incomprxc3xa9hensible
FONCTIONNALITE
   Problème :
   """
   Dans le jdc joint, on est arrêté par un message d'erreur fatale incompréhensible :
      !-----------------------------------------------------------!
      ! <F> <JEVEUX_26>                                           !
      !                                                           !
      ! Objet JEVEUX inexistant dans les bases ouvertes : >.DESC< !
      !      l'objet n'a pas été créé ou il a été détruit         !
      !                                                           !
      !                                                           !
      ! Cette erreur est fatale. Le code s'arrete.                !
      !-----------------------------------------------------------!
   
   Le problème est qu'on cherche à faire un calcul de déformations aux noeuds alors que le
   résultat
   EPSI2 ne contient qu'un champ de déformations aux points de Gauss, et pas de champ de
   déplacements.
   
   Il est à noter qu'en STA10, le message d'alarme (seulement alarme d'ailleurs) était
   beaucoup plus
   clair :
      !-------------------------------------------------------------------------------------!
      ! <A> <UTILITAI8_13>                                                                  !
      !                                                                                     !
      ! Dans la structure de données resultat EPSI2,                                        !
      !   le champ DEPL                                                                     !
      !                                                                                     !
      !   n'existe pas.                                                                     !
      !                                                                                     !
      !   Pour le numéro d'ordre NUME_ORDRE 1,                                              !
      !   l'option EPSI_ELNO_DEPL n'est pas calculée.                                       !
      !                                                                                     !
      !   Conseil :                                                                         !
      !     Vérifiez le nom de la structure de donnée et vérifiez que les champs existent.  !
      !     Si le concept n'est pas réentrant les champs ne sont pas cherchés dans EPSI2.   !
      !                                                                                     !
      !                                                                                     !
   """
   
   
   Solution :
   ----------
   On modifie MECEUC pour qu'elle teste l'existence du champ DEPL. Si il n'existe pas, on
   émet ce message :
   """
   Le champ de déplacement n'est pas présent dans la structure de données résultat.
   Le calcul de l'option EPSI_ELNO_DEPL n'est pas possible.
   """
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    etude fournie
NB_JOURS_TRAV  : 0.25
--------------------------------------------------------------------------------
RESTITUTION FICHE 015829 DU 2010-10-26 14:47:55
TYPE anomalie concernant Documentation (VERSION *)
TITRE
    Ajout cas-test sans clxc3xa9 doc: perf011a,b
FONCTIONNALITE
   Problème :
   ----------
   le cas test perf011 n'a pas de doc.
   
   
   Solution :
   ----------
   Faire la doc et la ranger dans l'application documentaire.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    aucune
NB_JOURS_TRAV  : 0.7
--------------------------------------------------------------------------------
RESTITUTION FICHE 015816 DU 2010-10-22 16:51:00
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    55 tests se plantent salement en // Mpi
FONCTIONNALITE
   Problème :
   ----------
   """
   55 tests se plantent salement en // Mpi
   """
   
   
   Solution :
   ----------
   Cette fiche est corrigée par la fiche issue15785.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    aucune
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR proix        PROIX Jean-Michel      DATE 11/08/2010 - 04:30:51

--------------------------------------------------------------------------------
RESTITUTION FICHE 015861 DU 2010-11-03 18:04:42
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Comportement VISC_CIN2_MEMO faux si ETA < 0.5
FONCTIONNALITE
   Suite à des comparaisons systématiques, F.Curtit a constaté une différence entre les résultats
   SIDOLO, et VISCOCHAB, d'un part, et VISC_CIN2_MEMO d'autre part, pour des valeurs du
   paramètre ETA
   inférieures à 0.5, et au bout de plusieurs cycles de chargement (résultats OK pour le
   premier cycle).
   
   En effet il y avait un bug pour l'effet de mémoire dans VISC_CIN2_MEMO, qui se manifestait
   surtout pour des valeurs du paramètre ETA inférieures à 0.5. En effet, dans la formulation
   intiale de J.L.Chaboche, ce paramètre ETA n'existe pas (ce qui revient à lui affecter une
   valeur 0.5 dans la formulation Aster, issue de travaux MMC). 
   
   Les tests de validation avaient donc été effectués avec ETA=0.5. Seul un test de non
   régression comportait une valeur de ETA inférieure à 0.5, mais sur un seul cycle de
   chargement. Les tests étaient donc insuffisants pour mettre en évidence le problème. On
   ajoute donc un test (SSND111) similaire à l'étude qui a mis en évidence le problème avec
   comparaison entre SIDOLO, VISCOCHAB implicite, VISCOCHAB explicite et VISC_CIN2_MEMO.
   
   Les résultats étaient donc faux dans les conditions suivantes :
   
   - comportement VMIS_CIN2_MEMO ou VISC_CIN2_MEMO
   - ETA < 0.5
   - plusieurs cycles de chargement.
   
   Details de la correction :
   - l'effet de mémoire (du plus grand écrouissage) est caractérisé par un domaine convexe,
   une fonction seuil et une loi d'évolution du centre de ce domaine, tout à fait similaires
   à la plasticité de Von Mises (cf. R5.03.04, ou R5.03.12). Le bug était dans le calcul du
   centre du domaine : celui-ci évolue avec une amplitude égale au rayon du domaine, dans le
   cas où ETA=0.5, mais dans le cas où ETA < 0.5, avec une amplitude beaucoup plus grande.
    
   Tout se passe dans la routine NMCHCR, qui calcule la fonction scalaire dont on cherche le
   zero. Cette résolution est faite par une méthode de sécante. Pour l'initialiser, on
   cherche des bornes telles que la fonction change de signe. Or dans le cas présent, dans la
   recherche des bornes, on franchissait la fonction seuil relative à la mémoire, mais
   ensuite, lors de la résolution par la sécante, on ne la franchissait plus : c'était du au
   fait que si le seuil n'était pas franchi, la variable représentant le centre n'était pas
   initialisée. Le code devrait donc utiliser la dernière valeur restée en mémoire de la
   subroutine (rémanence des variables statiques).
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 9.2.16
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 9.2.16
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.08.111
VALIDATION
    tests avec VISC_CIN2_MEMO, SSND111
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR sellenet     SELLENET Nicolas       DATE 11/08/2010 - 04:15:43

--------------------------------------------------------------------------------
RESTITUTION FICHE 015685 DU 2010-10-06 14:55:08
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TMA : DeltaCad
TITRE
    validation elementaire : valgrind + liste restreinte
FONCTIONNALITE
   Objectif
   --------
   Cette fiche a eu pour objectif de pister les fuites memoires, les variables non
   initialisees, les ecritures/lectures 
   invalides grace a Valgrind. Nous avons donc passe la liste restreinte sur Calibre5
   (claut682) avec la complementarite de 
   Valgrind pour detecter ces eventuelles erreurs.
   
   Methodologie
   ------------
   La methodologie a ete la suivante : 
   
   a) passage de la liste restreinte sur Calibre5 (claut682) avec la version NEW10_gfortran
   de Code_Aster en mode debug avec 
   la complementarite de Valgrind.
   
   b) recuperation des informations "Valgrind" ecrites dans les .mess selon certains criteres
   afin de generer un 
   fichier "correctif" par type d'anomalie :
      - "conditional_jump.txt" : fichier qui recueille le nom des fichiers et la localisation
   des variables non initialisees.
      - "invalid_read.txt":fichier qui recueille le nom des fichiers et la localisation des
   problemes d'ecritures et de 
   lecture.
      - "definitely_lost.txt":fichier qui recueille le nom des fichiers et la localisation
   des fuites memoires.
   
   c) envoi des fichiers a N.Sellenet (pour information)
   
   d) exploitation de ces 3 fichiers pour corriger le source de Code_Aster.
   
   e) restitution
   
   Realisation
   -----------
   Nous avons :
   
   * commence par actualiser/developper des scripts python qui se chargent de :
     - recuperer les fichiers des cas-tests a partir d'une liste,
     - augmenter le temps CPU dans les .para,
     - consulter les .mess afin de recueillir et fltrer les messages Valgrind,
   * actualise le script valgrind.sh (version 3.5 -> 3.6)
   * effectue quelques essais afin de verifier la prise en compte de Valgrind,
   * eclate la liste restreinte en sous-listes de 100 cas-tests (pour eviter de relancer
   l'astout complet si un probleme 
   avait lieu).
   * recupere les fichiers relatifs aux cas-tests de ces listes dans
   /local00/aster/NEW10_gfortran/astest, puis nous avons 
   modifie les .para afin d'augmenter le temps (facteur 15).
   * cree les profils ASTK de ces sous-listes :
     - mode debug, version NEW10_gfortran,
     - ajout du script valgrind.sh en surcharge,
     - ajout de list_test/rep_test/resu_test dans l'onglet test.
   * lance successivement chaque astout et verifie l'etat des jobs.
   * execute les scripts conditional_jump.py, invalid_read.py, definitely_lost.py a partir du
   repertoire contenant tous 
   les .mess, afin de generer les fichiers utiles au traitement correctif. Chaque script
   filtre les messages "Vagrind" 
   des .mess qui leur sont specifiques, supprime les messages doublons et met en forme les
   informations (nom du cas-test, 
   message valgrind).
   Pour invalid_read, on a considere uniquement les messages qui contenaient des references a
   des routines fortran dans le 
   premier bloc (celui avant "Address"), les autres etant inexploitables.
   * consulte les fichiers generes par ces scripts pour corriger "a la main" le source fortran.
   * relance plusieurs fois Valgrind sur certains cas-tests pour:
     - verifier nos interventions,
     - actualiser les messages Valgrind des .mess lorsque les routines detectees ont ete
   modifiees entre 2 versions.
   * restitue le source modifie + envoi d'une grille Excel qui liste les modifications +
   envoi des fichiers generes par ces 
   scripts avec un commentaire associe a chaque message.
   
   
   source modifie:
   ccliop.f  ircmec.f  lrmmno.f  merime.f  nmvend.f  resu74.f  tomabe.f
   debut.f   irmpg1.f  majou.f   mptran.f  nttcmv.f  tbliva.f  usuvus.f
   erglme.f  lc0021.f  mdchii.f  nmdoch.f  op0044.f  te0027.f  vechde.f
   hujres.f  lrcomm.f  medom1.f  nmfcor.f  op0162.f  te0205.f  vpinte.f
   impfic.f  lrmmma.f  medome.f  nmfgas.f  rcvala.f  tldlg3.f  xlenri.f
   
   
   Nous avons emis une fiche d'anomalie pendant cette realisation: 15848 ("contact methode
   continue et
   routine MMEXCL): plusieurs tableaux sont dimensonnes (en dur) a 9, or Aster allait jusqu'a
   10, d'ou l'anomalie.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    liste restreinte + valgrind
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR sellenet     SELLENET Nicolas       DATE 11/08/2010 - 04:16:50

--------------------------------------------------------------------------------
RESTITUTION FICHE 015760 DU 2010-10-19 07:16:19
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    hslv304 a NOOK lorsqu'on interdit la reentrance de CALC_ELEM
FONCTIONNALITE
   Problème :
   ----------
   Dans le but d'interdire la réentrance de CALC_ELEM (fiche 15510), Francis a constaté que
   le cas test hslv304a devenait NOOK lorsqu'on enlevait le mot-clé MODELE. En effet, le
   matériau utilisé pour obtenir les déplacements est différent de celui utilisé dans
   CALC_ELEM pour calculer les contraintes.
   
   
   Analyse :
   ---------
   Dans ce test, on réalise un MACRO_ELAS_MULT avec un chargement thermique seul. Ensuite, on
   réalise un CALC_ELEM mais en utilisant non pas le matériau utilisé dans MACRO_ELAS_MULT
   mais un matériau sans prendre en compte la dilatation thermique.
   
   A l'époque, cela a vait été fait pour pouvoir se comparer avec castor-sd (code du CETIM).
   Aujourd'hui, bien que castor-sd existe peut-être encore, il me semble inutile de continuer
   à se comparer à lui parce qu'on a oublié les raisons qui nous ont poussés à le faire et
   aussi parce que cela nous oblige à faire de choses étonnantes (CALC_ELEM avec un matériau
   différent de celui qu'on avait donné à la commande de base, ici : MACRO_ELAS_MULT).
   
   On aurait pu supprimer ce cas test mais il est le seul à valider TE0198.
   
   
   Solution :
   ----------
   On modifie le CALC_ELEM pour lui passer le bon matériau et on modifie les valeurs de
   référence en les passant en NON_REGRESSION.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    hslv304a
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR torkhani     TORKHANI Mohamed       DATE 11/09/2010 - 06:29:31

--------------------------------------------------------------------------------
RESTITUTION FICHE 015200 DU 2010-06-14 15:55:44
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Catalogue de IMPR_DIAG_CAMPELL
FONCTIONNALITE
   Dans le catalogue IMPR_DIAG_CAMPELL, je mets NFREQ_CAMP tout en majuscule au 
   lieu de NFREQ_camp. La correction est aussi répercutée sur les cas-tests 
   SDLL125a/b et SDLL124a.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    sdll124, sdll125
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015356 DU 2010-07-19 07:48:46
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    POU_C_T et option MECA_GYRO
FONCTIONNALITE
   Le developpement de la gyroscopie pour tous les elements poutre POU_C_T dans 
   Code_Aster a ete realise par DeltaCad. Des difficultes de resolution avec les 
   solveurs modaux ont ete constatees lors de la reception. L'evolution sera 
   presentee lors d'une RTA. Pour l'instant, je met -1 en face de l'option 
   MECA_GYRO dans le catalogue de l'element POU_C_T.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    perso
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 015846 DU 2010-10-28 09:29:47
TYPE express concernant Code_Aster (VERSION 9.1)
TITRE
    Anomalie pour les elements discrets non symetriques
FONCTIONNALITE
   CONTEXTE
   
   Dans le cadre de la validation de l'iso-fonctionnalité entre Code_Aster etCadyro 
   en ce qui concerne les calculs de machines tournantes, une anomalie a ete 
   constatee sur l'element discret non symetrique.
   La comparaison des resultats de calculs avec MECA_STATIQUE (et DYNA_LINE_HARM) 
   de Code_Aster avec une reference (Rotor Dynamics de Lalanne et Ferraris) nous a 
   permis de nous apercevoir que la mise en donnee des caracteristiques de cet 
   element se fait LIGNE par LIGNE et non COLONNE par COLONNE.
   
   ANALYSE DU PROBLEME (JLF) :
   
   En fortran les matrices sont soit représentées par des vecteurs (tableau à 1 
   dimension) soient par des tableaux à 2 dimensions. On peut donc passer d'une 
   représentation vecteur à une représentation matrice très facilement lors des 
   appels à des subroutines.
   REAL VECT(2*2)    Stockage mémoire VECT1,VECT2,VECT3,VECT4
   CALL TUTU(VECT,2)
   avec 
   SUBROUTINE TUTU(MAT,n)
   REAL MAT(n,n)
   Le rangement dans MAT et réalisé de la façon suivante :
   VECT1....VECT3
   VECT2....VECT4
   
   Dans Code_Aster quand les matrices sont symétriques il n'y a pas trop de 
   questions à se poser. On peut soit raisonner en ligne ou en colonne cela n'a pas 
   d'importance. Quand les matrices ne sont plus symétriques il faut faire très 
   attention. 
   
   TE0042
   a) Il y a une erreur dans le changement de repère dans le cas des matrice non-
   symétriques lors de l'appel à MAPVEC dans UTPPGL. On construit la matrice dans 
   le repère qui va bien et on doit rendre une matrice sous forme de vecteur. Dans 
   MAPVEC les boucles I et J ne sont pas dans le bon sens et on rend la matrice 
   transposée. 
   --> inversion des indices I,J dans MAPVEC
   
   b) Au tout début garder le CALL INFDIS('SYMK',INFODI,R8BID), mais enlever le 
   test sur la commande. MECA_STATIQUE appelle aussi cette TE, et cela produit des 
   résultats faux dans le cas de matrice non-symétriques.
   --> suppression des tests dans CALL INFDIS, en début de la subroutine TE0042
   
   TE0041
   a) Cette routine traite tous les discrets 2D et 3D. Pour la partie non-
   symétrique il y a le test suivant IF (NDIM.EQ.3) CALL UTPPLG ( NNO, NC, PGL, 
   MATA3, MATA4 ). Manifestement les cas 2D ne sont pas traités. Soit il faut les 
   traiter, soit un arrêt <F> avec un UTMESS.
   --> le cas 2D est traité
   
   b) cette routine doit renvoyer les matrices non-symétriques de raideur, masse,
   amortissement en remplissant le ZR(JDM) associé au pointeur PMATUNS. Dans 
   Code_Aster les matrices utilisées par le solveur sont stockées en LIGNE. 
   --> passer la matrice en LIGNE dans ZR(JDM): 
   dans le cas des matrices non-symétriques, création d'un ZR(JTMP) de taille N et 
   utilisation pour stocker les différentes opérations, puis (après que toutes les 
   opérations de rotation soient réalisées) passage d'un stockage colonne à un 
   stockage ligne par ZR(JDM+(I-1)*NNO*NC+J-1) = ZR(JTMP +(J-1)*NNO*NC+I-1) avec 
   I,J dans [1,NNO*NC], destruction de ZR(JTMP).
   
   IMPACT_DOCUMENTAIRE : 
      DOC V2.02.125 :  Diagramme de Campbell d'une poutre avec 2 disques et 2 
   paliers non symétriques
      DOC U4.42.01 : AFFE_CARA_ELEM
   VALIDATION
      SDLL125a, SDLL125b
      + Un cas test de type ZZZZ**** avec des discrets non-symétriques 2D et 3D :
      a) modélisation 2D avec un discret avec axes locaux=globaux
      b) modélisation 2D avec un discret avec axes locaux<>globaux
      c) modélisation 3D avec un discret avec axes locaux=globaux
      d) modélisation 3D avec un discret avec axes locaux<>globaux
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 9.3.18
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 9.3.18
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.42.01, V2.02.125
VALIDATION
    SDLL125
NB_JOURS_TRAV  : 10.0
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST AJOUT hsnv136a                   debonnieres P.DE-BONNIERES     225    225      0
 CASTEST AJOUT hsnv136b                   debonnieres P.DE-BONNIERES     152    152      0
 CASTEST AJOUT ssnd111a                        proix J-M.PROIX          301    301      0
 CASTEST AJOUT zzzz274a                     torkhani M.TORKHANI         189    189      0
 CASTEST AJOUT zzzz274b                     torkhani M.TORKHANI         190    190      0
 CASTEST AJOUT zzzz274c                     torkhani M.TORKHANI         224    224      0
 CASTEST AJOUT zzzz274d                     torkhani M.TORKHANI         224    224      0
 CASTEST MODIF comp002a                        proix J-M.PROIX          325      1      1
 CASTEST MODIF comp002h                        proix J-M.PROIX          294      1      1
 CASTEST MODIF comp003a                   debonnieres P.DE-BONNIERES     270      1      1
 CASTEST MODIF fdlv102a                       nistor I.NISTOR           465      5      3
 CASTEST MODIF fdlv102b                       nistor I.NISTOR           302      5      3
 CASTEST MODIF fdlv102c                       nistor I.NISTOR           327      5      3
 CASTEST MODIF fdlv104a                       nistor I.NISTOR           310      5      3
 CASTEST MODIF fdlv110a                       nistor I.NISTOR           501      7      3
 CASTEST MODIF hslv304a                     sellenet N.SELLENET         260     16     13
 CASTEST MODIF hsnv125e                        proix J-M.PROIX          437      2      1
 CASTEST MODIF perf006a                       nistor I.NISTOR           213     10      5
 CASTEST MODIF perf006b                       nistor I.NISTOR           213     10      5
 CASTEST MODIF sdld102a                       nistor I.NISTOR           896      7      3
 CASTEST MODIF sdld102b                       nistor I.NISTOR           474      9      5
 CASTEST MODIF sdld102c                       nistor I.NISTOR           423      9      5
 CASTEST MODIF sdll113a                       nistor I.NISTOR           435      7      3
 CASTEST MODIF sdll113b                       nistor I.NISTOR           486      7      3
 CASTEST MODIF sdll124a                     torkhani M.TORKHANI         248      2      2
 CASTEST MODIF sdll125a                     torkhani M.TORKHANI         268     10     10
 CASTEST MODIF sdll125b                     torkhani M.TORKHANI         268     10     10
 CASTEST MODIF sdll141a                      boiteau O.BOITEAU          180      2      2
 CASTEST MODIF sdll141d                      boiteau O.BOITEAU          184      2      2
 CASTEST MODIF sdls01c                        nistor I.NISTOR           505     11      5
 CASTEST MODIF sdls106a                       nistor I.NISTOR           423      7      3
 CASTEST MODIF sdls106b                       nistor I.NISTOR           319      6      4
 CASTEST MODIF sdls106c                       nistor I.NISTOR           331      6      4
 CASTEST MODIF sdls106d                       nistor I.NISTOR           310     13      4
 CASTEST MODIF sdls111a                       nistor I.NISTOR           410     11      3
 CASTEST MODIF sdlv302b                       nistor I.NISTOR           385      7      3
 CASTEST MODIF sdlv402a                       nistor I.NISTOR           358      1      1
 CASTEST MODIF sdnl104b                       nistor I.NISTOR           499      6      3
 CASTEST MODIF sdnl105b                       nistor I.NISTOR           573     10      4
 CASTEST MODIF sdnl105d                       nistor I.NISTOR           568     10      4
 CASTEST MODIF senst05a                      boiteau O.BOITEAU          308      4      3
 CASTEST MODIF shll100a                       nistor I.NISTOR           708      7      3
 CASTEST MODIF shll100b                       nistor I.NISTOR           658      8      4
 CASTEST MODIF shll100c                       nistor I.NISTOR           592      8      4
 CASTEST MODIF shls200a                       nistor I.NISTOR           566      8      4
 CASTEST MODIF shlv301a                       nistor I.NISTOR           494      5      2
 CASTEST MODIF sslp105a                    desroches X.DESROCHES        549     20      2
 CASTEST MODIF ssna115a                       pellet J.PELLET           310     11      3
 CASTEST MODIF ssnd105a                        proix J-M.PROIX          208      1      1
 CASTEST MODIF ssnd105b                        proix J-M.PROIX          508      1      1
 CASTEST MODIF ssnd108a                        proix J-M.PROIX          257      1      1
 CASTEST MODIF ssnl133a                       desoza T.DESOZA           283     12      8
 CASTEST MODIF ssnv102c                       pellet J.PELLET           293      2      2
 CASTEST MODIF ssnv118d                        proix J-M.PROIX          320      1      1
 CASTEST MODIF ssnv212a                   debonnieres P.DE-BONNIERES     294      2      2
 CASTEST MODIF ssnv213a                   debonnieres P.DE-BONNIERES     346      2      2
 CASTEST MODIF ssnv214a                   debonnieres P.DE-BONNIERES     279      1      1
 CASTEST MODIF ssnv215a                   debonnieres P.DE-BONNIERES     300      1      1
 CASTEST MODIF ssnv216a                   debonnieres P.DE-BONNIERES     327      5      5
 CASTEST MODIF ssnv217b                        idoux L.IDOUX            232     31     23
 CASTEST MODIF zzzz121a                     gnicolas G.NICOLAS          269      3      3
 CASTEST MODIF zzzz208b                       nistor I.NISTOR           470     10      4
CATALOGU MODIF typelem/gener_mepct1         torkhani M.TORKHANI         267      3      1
CATALOPY MODIF commande/affe_cara_elem        delmas J.DELMAS           588      1      1
CATALOPY MODIF commande/affe_char_acou        delmas J.DELMAS            63      2      2
CATALOPY MODIF commande/affe_char_cine        delmas J.DELMAS           162      2      2
CATALOPY MODIF commande/affe_char_cine_f      delmas J.DELMAS           143      2      2
CATALOPY MODIF commande/affe_char_meca_c      delmas J.DELMAS            82      2      2
CATALOPY MODIF commande/affe_char_meca     desroches X.DESROCHES        748      4      4
CATALOPY MODIF commande/affe_char_meca_f      delmas J.DELMAS           457      2      2
CATALOPY MODIF commande/affe_char_ops011      delmas J.DELMAS            34      2      2
CATALOPY MODIF commande/affe_char_ther        delmas J.DELMAS           208      2      2
CATALOPY MODIF commande/affe_char_ther_f      delmas J.DELMAS           194      2      2
CATALOPY MODIF commande/affe_materiau         delmas J.DELMAS           169      1      1
CATALOPY MODIF commande/affe_modele           pellet J.PELLET           273      2      2
CATALOPY MODIF commande/aide                  delmas J.DELMAS            34      2      2
CATALOPY MODIF commande/asse_maillage         delmas J.DELMAS            33      1      1
CATALOPY MODIF commande/asse_matr_gene        delmas J.DELMAS            34      2      2
CATALOPY MODIF commande/asse_matrice          delmas J.DELMAS            36      2      2
CATALOPY MODIF commande/asse_vecteur          delmas J.DELMAS            27      2      2
CATALOPY MODIF commande/asse_vect_gene        delmas J.DELMAS            32      2      2
CATALOPY MODIF commande/calc_amor_modal       delmas J.DELMAS            71      2      2
CATALOPY MODIF commande/calc_cham_elem        delmas J.DELMAS            66      2      2
CATALOPY MODIF commande/calc_char_cine        delmas J.DELMAS            29      2      2
CATALOPY MODIF commande/calc_char_seisme      delmas J.DELMAS            38      2      2
CATALOPY MODIF commande/calc_ecrevisse        delmas J.DELMAS           174      2      2
CATALOPY MODIF commande/calc_elem             delmas J.DELMAS           551      2      2
CATALOPY MODIF commande/calc_essai            delmas J.DELMAS           128      2      2
CATALOPY MODIF commande/calc_europlexus       delmas J.DELMAS           149      2      2
CATALOPY MODIF commande/calc_fatigue          delmas J.DELMAS           119      2      2
CATALOPY MODIF commande/calc_ferraillage      delmas J.DELMAS            95      2      2
CATALOPY MODIF commande/calc_flui_stru        delmas J.DELMAS            45      2      2
CATALOPY MODIF commande/calc_fonc_interp      delmas J.DELMAS            61      3      3
CATALOPY MODIF commande/calc_fonction         delmas J.DELMAS           165      2      2
CATALOPY MODIF commande/calc_forc_ajou        delmas J.DELMAS           106      2      2
CATALOPY MODIF commande/calc_g                delmas J.DELMAS           150      2      2
CATALOPY MODIF commande/calc_inte_spec        delmas J.DELMAS            32      2      2
CATALOPY MODIF commande/calc_matr_ajou        delmas J.DELMAS            98      2      2
CATALOPY MODIF commande/calc_matr_elem        delmas J.DELMAS           155      2      2
CATALOPY MODIF commande/calc_meta             delmas J.DELMAS            54      2      2
CATALOPY MODIF commande/calc_miss             delmas J.DELMAS            67      2      2
CATALOPY MODIF commande/calc_modal            delmas J.DELMAS           102      2      3
CATALOPY MODIF commande/calc_mode_rotation     delmas J.DELMAS            56      3      3
CATALOPY MODIF commande/calc_no               delmas J.DELMAS           108      2      2
CATALOPY MODIF commande/calc_point_mat        delmas J.DELMAS           103      2      2
CATALOPY MODIF commande/calc_precont          delmas J.DELMAS            74      2      2
CATALOPY MODIF commande/calc_spec             delmas J.DELMAS            65      2      2
CATALOPY MODIF commande/calc_table            delmas J.DELMAS           130      2      1
CATALOPY MODIF commande/calc_theta            delmas J.DELMAS            66      2      2
CATALOPY MODIF commande/calcul                delmas J.DELMAS            57      1      1
CATALOPY MODIF commande/calc_vect_elem        delmas J.DELMAS            67      2      2
CATALOPY MODIF commande/comb_fourier          delmas J.DELMAS            27      2      2
CATALOPY MODIF commande/comb_matr_asse        delmas J.DELMAS            62      2      2
CATALOPY MODIF commande/comb_sism_modal       delmas J.DELMAS           128      2      2
CATALOPY MODIF commande/crea_champ            delmas J.DELMAS           205      1      1
CATALOPY MODIF commande/crea_maillage         delmas J.DELMAS           161      1      1
CATALOPY MODIF commande/crea_resu             delmas J.DELMAS           216      2      2
CATALOPY MODIF commande/crea_table            delmas J.DELMAS           105      3      2
CATALOPY MODIF commande/debug                 delmas J.DELMAS            33      1      1
CATALOPY MODIF commande/debut                 delmas J.DELMAS           106      1      1
CATALOPY MODIF commande/defi_base_modale      delmas J.DELMAS            89      2      2
CATALOPY MODIF commande/defi_cable_bp         delmas J.DELMAS            75      2      2
CATALOPY MODIF commande/defi_cable_op         delmas J.DELMAS            51      1      1
CATALOPY MODIF commande/defi_compor           delmas J.DELMAS            98      1      1
CATALOPY MODIF commande/defi_constante        delmas J.DELMAS            27      2      2
CATALOPY MODIF commande/defi_contact          delmas J.DELMAS           555      1      1
CATALOPY MODIF commande/defi_coqu_mult        delmas J.DELMAS            33      1      1
CATALOPY MODIF commande/defi_fichier          delmas J.DELMAS            69      1      1
CATALOPY MODIF commande/defi_fiss_xfem        delmas J.DELMAS           160      1      1
CATALOPY MODIF commande/defi_flui_stru        delmas J.DELMAS           106      2      2
CATALOPY MODIF commande/defi_fonc_elec        delmas J.DELMAS            73      2      2
CATALOPY MODIF commande/defi_fonc_flui        delmas J.DELMAS            40      2      2
CATALOPY MODIF commande/defi_fonction         delmas J.DELMAS            63      2      2
CATALOPY MODIF commande/defi_fond_fiss        delmas J.DELMAS           101      2      2
CATALOPY MODIF commande/defi_geom_fibre       delmas J.DELMAS            52      2      2
CATALOPY MODIF commande/defi_glrc             delmas J.DELMAS            79      2      2
CATALOPY MODIF commande/defi_group            delmas J.DELMAS           229      1      1
CATALOPY MODIF commande/defi_interf_dyna      delmas J.DELMAS            39      2      2
CATALOPY MODIF commande/defi_inte_spec        delmas J.DELMAS            64      2      2
CATALOPY MODIF commande/defi_list_enti        delmas J.DELMAS            55      2      2
CATALOPY MODIF commande/defi_list_inst        delmas J.DELMAS           235      2      2
CATALOPY MODIF commande/defi_list_reel        delmas J.DELMAS            37      2      2
CATALOPY MODIF commande/defi_maillage         delmas J.DELMAS            79      1      1
CATALOPY MODIF commande/defi_materiau         delmas J.DELMAS          3143      1      1
CATALOPY MODIF commande/defi_modele_gene      nistor I.NISTOR            50      4      4
CATALOPY MODIF commande/defi_nappe            delmas J.DELMAS            43      2      2
CATALOPY MODIF commande/defi_obstacle         delmas J.DELMAS            54      1      1
CATALOPY MODIF commande/defi_para_sensi       delmas J.DELMAS            32      2      2
CATALOPY MODIF commande/defi_part_feti        delmas J.DELMAS            64      2      2
CATALOPY MODIF commande/defi_part_ops         delmas J.DELMAS            36      2      2
CATALOPY MODIF commande/defi_part_pa_ops      delmas J.DELMAS            60      2      2
CATALOPY MODIF commande/defi_sol_miss         delmas J.DELMAS            46      2      2
CATALOPY MODIF commande/defi_spec_turb        delmas J.DELMAS           109      2      2
CATALOPY MODIF commande/defi_squelette        delmas J.DELMAS            77      2      2
CATALOPY MODIF commande/defi_trc              delmas J.DELMAS            37      2      2
CATALOPY MODIF commande/depl_interne          delmas J.DELMAS            35      2      2
CATALOPY MODIF commande/detruire              delmas J.DELMAS            39      1      1
CATALOPY MODIF commande/dyna_alea_modal       delmas J.DELMAS           103      2      2
CATALOPY MODIF commande/dyna_iss_vari         delmas J.DELMAS            54      2      2
CATALOPY MODIF commande/dyna_line_harm        delmas J.DELMAS           140      2      2
CATALOPY MODIF commande/dyna_line_tran        delmas J.DELMAS           194      2      2
CATALOPY MODIF commande/dyna_non_line         delmas J.DELMAS           318      2      2
CATALOPY MODIF commande/dyna_spec_modal       delmas J.DELMAS            30      2      2
CATALOPY MODIF commande/dyna_tran_modal       delmas J.DELMAS           257      2      2
CATALOPY MODIF commande/engendre_test         delmas J.DELMAS            40      2      2
CATALOPY MODIF commande/exec_logiciel         delmas J.DELMAS            50      2      2
CATALOPY MODIF commande/extr_mode             delmas J.DELMAS            57      2      2
CATALOPY MODIF commande/extr_resu             delmas J.DELMAS            76      1      1
CATALOPY MODIF commande/extr_table            delmas J.DELMAS            54      2      2
CATALOPY MODIF commande/factoriser            delmas J.DELMAS            74      1      1
CATALOPY MODIF commande/fin                   delmas J.DELMAS            35      1      1
CATALOPY MODIF commande/fonc_flui_stru        delmas J.DELMAS            24      3      3
CATALOPY MODIF commande/formule               delmas J.DELMAS            50      2      2
CATALOPY MODIF commande/gene_fonc_alea        delmas J.DELMAS            37      2      2
CATALOPY MODIF commande/gene_matr_alea        delmas J.DELMAS            50      2      2
CATALOPY MODIF commande/gene_vari_alea        delmas J.DELMAS            42      2      2
CATALOPY MODIF commande/impr_co               delmas J.DELMAS            39      2      2
CATALOPY MODIF commande/impr_diag_campbell   torkhani M.TORKHANI          36      4      4
CATALOPY MODIF commande/impr_fonction         delmas J.DELMAS           137      2      2
CATALOPY MODIF commande/impr_gene             delmas J.DELMAS            62      2      2
CATALOPY MODIF commande/impr_jeveux           delmas J.DELMAS            61      2      2
CATALOPY MODIF commande/impr_macr_elem        delmas J.DELMAS            63      2      2
CATALOPY MODIF commande/impr_miss_3d          delmas J.DELMAS            61      2      2
CATALOPY MODIF commande/impr_oar              delmas J.DELMAS            70      2      2
CATALOPY MODIF commande/impr_resu             delmas J.DELMAS           185      2      2
CATALOPY MODIF commande/impr_sturm            delmas J.DELMAS            64      2      2
CATALOPY MODIF commande/impr_table            delmas J.DELMAS           123      2      2
CATALOPY MODIF commande/include               delmas J.DELMAS            26      1      1
CATALOPY MODIF commande/include_materiau      delmas J.DELMAS            39      2      2
CATALOPY MODIF commande/info_exec_aster       delmas J.DELMAS            37      1      1
CATALOPY MODIF commande/info_fonction         delmas J.DELMAS           100      2      2
CATALOPY MODIF commande/info_resu             delmas J.DELMAS            25      2      2
CATALOPY MODIF commande/init_compo            delmas J.DELMAS            25      4      2
CATALOPY MODIF commande/inte_mail_2d          delmas J.DELMAS            82      2      2
CATALOPY MODIF commande/inte_mail_3d          delmas J.DELMAS            39      2      2
CATALOPY MODIF commande/lire_champ            delmas J.DELMAS            70      3      2
CATALOPY MODIF commande/lire_fonction         delmas J.DELMAS            65      3      3
CATALOPY MODIF commande/lire_forc_miss        delmas J.DELMAS            34      3      3
CATALOPY MODIF commande/lire_impe_miss        delmas J.DELMAS            32      2      2
CATALOPY MODIF commande/lire_inte_spec        delmas J.DELMAS            39      2      2
CATALOPY MODIF commande/lire_maillage         delmas J.DELMAS            63      2      2
CATALOPY MODIF commande/lire_miss_3d          delmas J.DELMAS            34      2      2
CATALOPY MODIF commande/lire_plexus           delmas J.DELMAS            43      2      2
CATALOPY MODIF commande/lire_resu             delmas J.DELMAS           216      2      2
CATALOPY MODIF commande/lire_table            delmas J.DELMAS            33      2      2
CATALOPY MODIF commande/mac_modes             delmas J.DELMAS            32      2      2
CATALOPY MODIF commande/macr_adap_mail      gnicolas G.NICOLAS          704      5      5
CATALOPY MODIF commande/macr_ascouf_calc      delmas J.DELMAS           157      2      2
CATALOPY MODIF commande/macr_ascouf_mail      delmas J.DELMAS           148      2      2
CATALOPY MODIF commande/macr_aspic_calc       delmas J.DELMAS           170      2      2
CATALOPY MODIF commande/macr_aspic_mail       delmas J.DELMAS            97      2      2
CATALOPY MODIF commande/macr_cara_poutre      delmas J.DELMAS            77      1      1
CATALOPY MODIF commande/macr_ecla_pg          delmas J.DELMAS            64      2      2
CATALOPY MODIF commande/macr_ecre_calc        delmas J.DELMAS           182      2      2
CATALOPY MODIF commande/macr_ecrevisse        delmas J.DELMAS           287      2      2
CATALOPY MODIF commande/macr_elem_dyna        delmas J.DELMAS            43      2      2
CATALOPY MODIF commande/macr_elem_stat        delmas J.DELMAS            56      2      2
CATALOPY MODIF commande/macr_fiabilite        delmas J.DELMAS           379      2      2
CATALOPY MODIF commande/macr_fiab_impr        delmas J.DELMAS            70      2      2
CATALOPY MODIF commande/macr_info_mail      gnicolas G.NICOLAS          125      4      4
CATALOPY MODIF commande/macr_lign_coupe       delmas J.DELMAS           123      2      2
CATALOPY MODIF commande/macro_elas_mult       delmas J.DELMAS            83      1      1
CATALOPY MODIF commande/macro_expans          delmas J.DELMAS            75      2      2
CATALOPY MODIF commande/macro_matr_ajou       delmas J.DELMAS           142      2      2
CATALOPY MODIF commande/macro_matr_asse       delmas J.DELMAS           112      2      2
CATALOPY MODIF commande/macro_miss_3d         delmas J.DELMAS            69      2      2
CATALOPY MODIF commande/macro_mode_meca       delmas J.DELMAS            90      2      2
CATALOPY MODIF commande/macro_proj_base       delmas J.DELMAS            54      2      2
CATALOPY MODIF commande/macr_recal            delmas J.DELMAS           111      2      2
CATALOPY MODIF commande/macr_spectre          delmas J.DELMAS            72      4      3
CATALOPY MODIF commande/maj_cata              delmas J.DELMAS            26      1      1
CATALOPY MODIF commande/meca_statique         delmas J.DELMAS           131      2      2
CATALOPY MODIF commande/mode_iter_cycl        delmas J.DELMAS            57      2      2
CATALOPY MODIF commande/mode_iter_inv         delmas J.DELMAS           143      2      2
CATALOPY MODIF commande/mode_iter_simult      delmas J.DELMAS           195      2      2
CATALOPY MODIF commande/mode_statique         delmas J.DELMAS           153      3      3
CATALOPY MODIF commande/modi_base_modale      delmas J.DELMAS            34      2      2
CATALOPY MODIF commande/modi_maillage         delmas J.DELMAS           159      1      1
CATALOPY MODIF commande/modi_modele           delmas J.DELMAS            38      1      1
CATALOPY MODIF commande/modi_modele_xfem      delmas J.DELMAS            31      2      2
CATALOPY MODIF commande/modi_obstacle         delmas J.DELMAS            36      1      1
CATALOPY MODIF commande/modi_repere           delmas J.DELMAS            79      2      2
CATALOPY MODIF commande/norm_mode             delmas J.DELMAS            63      2      2
CATALOPY MODIF commande/nume_ddl              delmas J.DELMAS            44      2      2
CATALOPY MODIF commande/nume_ddl_gene         delmas J.DELMAS            35      2      2
CATALOPY MODIF commande/observation           delmas J.DELMAS           168      2      2
CATALOPY MODIF commande/post_bordet           delmas J.DELMAS            66      2      1
CATALOPY MODIF commande/post_cham_xfem        delmas J.DELMAS            34      2      2
CATALOPY MODIF commande/post_coque            delmas J.DELMAS            38      3      3
CATALOPY MODIF commande/post_decollement      delmas J.DELMAS            32      2      2
CATALOPY MODIF commande/post_dyna_alea        delmas J.DELMAS            57      2      2
CATALOPY MODIF commande/post_dyna_moda_t      delmas J.DELMAS            43      2      2
CATALOPY MODIF commande/post_elem             delmas J.DELMAS           519      2      2
CATALOPY MODIF commande/post_endo_fiss        delmas J.DELMAS            79      2      2
CATALOPY MODIF commande/post_fati_alea        delmas J.DELMAS            36      2      2
CATALOPY MODIF commande/post_fatigue          delmas J.DELMAS            79      2      2
CATALOPY MODIF commande/post_gp               delmas J.DELMAS           127      2      2
CATALOPY MODIF commande/post_k1_k2_k3         delmas J.DELMAS            89      2      2
CATALOPY MODIF commande/post_k_beta           delmas J.DELMAS            42      2      2
CATALOPY MODIF commande/post_k_trans          delmas J.DELMAS            66      2      2
CATALOPY MODIF commande/post_mail_xfem        delmas J.DELMAS            33      2      2
CATALOPY MODIF commande/post_rccm             delmas J.DELMAS           279      2      2
CATALOPY MODIF commande/post_releve_t         delmas J.DELMAS           170      2      2
CATALOPY MODIF commande/post_usure            delmas J.DELMAS           120      2      2
CATALOPY MODIF commande/poursuite             delmas J.DELMAS           106      1      1
CATALOPY MODIF commande/pre_gibi              delmas J.DELMAS            26      1      1
CATALOPY MODIF commande/pre_gmsh              delmas J.DELMAS            26      1      1
CATALOPY MODIF commande/pre_ideas             delmas J.DELMAS            26      1      1
CATALOPY MODIF commande/prod_matr_cham        delmas J.DELMAS            28      2      2
CATALOPY MODIF commande/proj_champ            delmas J.DELMAS           152      1      1
CATALOPY MODIF commande/proj_matr_base        delmas J.DELMAS            37      2      2
CATALOPY MODIF commande/proj_mesu_modal       delmas J.DELMAS            65      1      1
CATALOPY MODIF commande/proj_spec_base        delmas J.DELMAS            40      2      2
CATALOPY MODIF commande/proj_vect_base        delmas J.DELMAS            31      2      2
CATALOPY MODIF commande/propa_fiss            delmas J.DELMAS           160      2      2
CATALOPY MODIF commande/propa_xfem            delmas J.DELMAS            71      2      2
CATALOPY MODIF commande/raff_xfem             delmas J.DELMAS            28      2      2
CATALOPY MODIF commande/reca_weibull          delmas J.DELMAS            47      2      2
CATALOPY MODIF commande/recu_fonction         delmas J.DELMAS           235      2      2
CATALOPY MODIF commande/recu_gene             delmas J.DELMAS            33      1      1
CATALOPY MODIF commande/recu_table            delmas J.DELMAS            29      2      2
CATALOPY MODIF commande/resoudre              delmas J.DELMAS            45      1      1
CATALOPY MODIF commande/rest_cond_tran        delmas J.DELMAS            57      2      2
CATALOPY MODIF commande/rest_gene_phys        delmas J.DELMAS            74      2      2
CATALOPY MODIF commande/rest_sous_struc       delmas J.DELMAS            87      2      2
CATALOPY MODIF commande/rest_spec_phys        delmas J.DELMAS            46      2      2
CATALOPY MODIF commande/rest_spec_temp        delmas J.DELMAS            39      2      2
CATALOPY MODIF commande/simu_point_mat        delmas J.DELMAS           171      1      1
CATALOPY MODIF commande/stanley               delmas J.DELMAS            35      2      2
CATALOPY MODIF commande/stat_non_line         delmas J.DELMAS           262      2      2
CATALOPY MODIF commande/test_fichier          delmas J.DELMAS            46      2      2
CATALOPY MODIF commande/test_fonction         delmas J.DELMAS            97      2      2
CATALOPY MODIF commande/test_resu             delmas J.DELMAS           175      2      2
CATALOPY MODIF commande/test_table            delmas J.DELMAS            61      2      2
CATALOPY MODIF commande/test_temps            delmas J.DELMAS            49      2      1
CATALOPY MODIF commande/ther_lineaire         delmas J.DELMAS           136      2      2
CATALOPY MODIF commande/ther_non_line         delmas J.DELMAS           180      2      2
CATALOPY MODIF commande/ther_non_line_mo      delmas J.DELMAS           103      2      2
CATALOPY MODIF commun/c_type_cham_into      gnicolas G.NICOLAS           38     15      4
FORTRAN90 MODIF utilitai/mpicm2                pellet J.PELLET           210     11      1
 FORTRAN AJOUT algorith/cudisd                desoza T.DESOZA            80     80      0
 FORTRAN AJOUT debug/cuimp1                   desoza T.DESOZA           125    125      0
 FORTRAN MODIF algeline/op0044               rezette C.REZETTE          773      3      1
 FORTRAN MODIF algeline/tldlg2               boiteau O.BOITEAU          488     11      8
 FORTRAN MODIF algeline/tldlg3               rezette C.REZETTE          492      2      2
 FORTRAN MODIF algeline/vpinte               rezette C.REZETTE          213      2      1
 FORTRAN MODIF algeline/vpmain                pellet J.PELLET           127      2      2
 FORTRAN MODIF algorith/ajlipa                pellet J.PELLET           313     43     30
 FORTRAN MODIF algorith/algocu                desoza T.DESOZA           515      5      4
 FORTRAN MODIF algorith/arg126                nistor I.NISTOR           267      5    135
 FORTRAN MODIF algorith/brag01            debonnieres P.DE-BONNIERES     858      4      4
 FORTRAN MODIF algorith/ca2mam                pellet J.PELLET           105      3      2
 FORTRAN MODIF algorith/cakg3d                pellet J.PELLET           439      2      2
 FORTRAN MODIF algorith/cakgmo                pellet J.PELLET           277      2      2
 FORTRAN MODIF algorith/calmaa                pellet J.PELLET            98      3      2
 FORTRAN MODIF algorith/crtype                pellet J.PELLET           518     11      1
 FORTRAN MODIF algorith/crvrc1                pellet J.PELLET           129      2      2
 FORTRAN MODIF algorith/crvrc2                pellet J.PELLET           122      2      2
 FORTRAN MODIF algorith/dlfext               andriam H.ANDRIAMBOLOLONA    374      9     13
 FORTRAN MODIF algorith/dy2mbr               andriam H.ANDRIAMBOLOLONA    333      5      9
 FORTRAN MODIF algorith/fimped                pellet J.PELLET            96      2      2
 FORTRAN MODIF algorith/fondpl                pellet J.PELLET           102      2      2
 FORTRAN MODIF algorith/hujres               rezette C.REZETTE          406      2      1
 FORTRAN MODIF algorith/ischar                pellet J.PELLET           252      4      1
 FORTRAN MODIF algorith/lc0021               rezette C.REZETTE           40      6      3
 FORTRAN MODIF algorith/lc0044            debonnieres P.DE-BONNIERES      50      4      4
 FORTRAN MODIF algorith/lcedga            debonnieres P.DE-BONNIERES     434      6      9
 FORTRAN MODIF algorith/liscad                pellet J.PELLET           163      5      2
 FORTRAN MODIF algorith/liscli                pellet J.PELLET           176      5      1
 FORTRAN MODIF algorith/majou                rezette C.REZETTE          374     16     20
 FORTRAN MODIF algorith/mecgme                pellet J.PELLET           317      3      3
 FORTRAN MODIF algorith/medime                pellet J.PELLET           172      2      2
 FORTRAN MODIF algorith/medith                pellet J.PELLET           110      2      2
 FORTRAN MODIF algorith/memokg                pellet J.PELLET           243      2      2
 FORTRAN MODIF algorith/memsth                pellet J.PELLET            92      3      2
 FORTRAN MODIF algorith/mergth                pellet J.PELLET           162      3      3
 FORTRAN MODIF algorith/merimo                pellet J.PELLET           295      2      2
 FORTRAN MODIF algorith/merxth                pellet J.PELLET           173      3      3
 FORTRAN MODIF algorith/mptran               rezette C.REZETTE          419      4      5
 FORTRAN MODIF algorith/nmcalv                pellet J.PELLET           317      2      3
 FORTRAN MODIF algorith/nmchcr                 proix J-M.PROIX          219     19      5
 FORTRAN MODIF algorith/nmdepr                pellet J.PELLET           256      4      4
 FORTRAN MODIF algorith/nmdoch                pellet J.PELLET           584     11      1
 FORTRAN MODIF algorith/nmdoet                pellet J.PELLET           495      2      2
 FORTRAN MODIF algorith/nmdomt                pellet J.PELLET           196      1      4
 FORTRAN MODIF algorith/nmelcm                pellet J.PELLET           317      2      2
 FORTRAN MODIF algorith/nmelcv                pellet J.PELLET           303      2      2
 FORTRAN MODIF algorith/nmetca                pellet J.PELLET           239      2      2
 FORTRAN MODIF algorith/nmfcor                pellet J.PELLET           207      8      1
 FORTRAN MODIF algorith/nmfgas               rezette C.REZETTE          213      2      1
 FORTRAN MODIF algorith/nmpipe                pellet J.PELLET           271      2      2
 FORTRAN MODIF algorith/nmprdc                pellet J.PELLET           120      6      1
 FORTRAN MODIF algorith/nmprde                pellet J.PELLET           165      5      1
 FORTRAN MODIF algorith/nmrefe                pellet J.PELLET           213      2      2
 FORTRAN MODIF algorith/nmsigi                pellet J.PELLET           101      2      2
 FORTRAN MODIF algorith/nmvccc                pellet J.PELLET           161      6      6
 FORTRAN MODIF algorith/nmvcfo                pellet J.PELLET           227      5      5
 FORTRAN MODIF algorith/nmvend               rezette C.REZETTE          297      2      2
 FORTRAN MODIF algorith/nmvgme                pellet J.PELLET           226      3      2
 FORTRAN MODIF algorith/nsldc                 pellet J.PELLET           282      2      2
 FORTRAN MODIF algorith/op0046                pellet J.PELLET           248     14      8
 FORTRAN MODIF algorith/pascou                pellet J.PELLET           195      2      3
 FORTRAN MODIF algorith/phi2el                pellet J.PELLET           139      5      3
 FORTRAN MODIF algorith/smevol                pellet J.PELLET           318      9      9
 FORTRAN MODIF algorith/vebtla                pellet J.PELLET           154      2      2
 FORTRAN MODIF algorith/vebume                pellet J.PELLET           151      2      2
 FORTRAN MODIF algorith/vecdid                pellet J.PELLET           174      2      2
 FORTRAN MODIF algorith/vecgme                pellet J.PELLET           255      2      3
 FORTRAN MODIF algorith/vechde                pellet J.PELLET           553      4      4
 FORTRAN MODIF algorith/vechmc                pellet J.PELLET           188      2      2
 FORTRAN MODIF algorith/vechme                pellet J.PELLET           463      2      2
 FORTRAN MODIF algorith/vechnl                pellet J.PELLET           433      5      5
 FORTRAN MODIF algorith/vechth                pellet J.PELLET           706      3      3
 FORTRAN MODIF algorith/vectfl                pellet J.PELLET           126      3      2
 FORTRAN MODIF algorith/vectme                pellet J.PELLET           125      3      2
 FORTRAN MODIF algorith/vecvme                pellet J.PELLET           161      3      2
 FORTRAN MODIF algorith/vedime                pellet J.PELLET           194      2      2
 FORTRAN MODIF algorith/vedith                pellet J.PELLET           173      2      2
 FORTRAN MODIF algorith/vedpme                pellet J.PELLET           134     31     24
 FORTRAN MODIF algorith/vefnme                pellet J.PELLET           298      2      2
 FORTRAN MODIF algorith/vefpme                pellet J.PELLET           197      2      2
 FORTRAN MODIF algorith/veimpd                pellet J.PELLET           137      2      2
 FORTRAN MODIF algorith/velame                pellet J.PELLET           159      2      2
 FORTRAN MODIF algorith/vemsme                pellet J.PELLET           319      2      2
 FORTRAN MODIF algorith/veondp                pellet J.PELLET           150      2      2
 FORTRAN MODIF algorith/verstp                pellet J.PELLET           196      7      6
 FORTRAN MODIF algorith/vethbt                pellet J.PELLET           110      2      2
 FORTRAN MODIF algorith/vethbu                pellet J.PELLET           110      2      2
 FORTRAN MODIF algorith/vetnth                pellet J.PELLET           379      2      2
 FORTRAN MODIF algorith/xcourb                pellet J.PELLET           148      2      2
 FORTRAN MODIF algorith/xgecfi                pellet J.PELLET           139      2      3
 FORTRAN MODIF algorith/xgrals                pellet J.PELLET           111      3      3
 FORTRAN MODIF algorith/xmmbca                pellet J.PELLET           224      2      2
 FORTRAN MODIF algorith/xmtbca                pellet J.PELLET           255      2      2
 FORTRAN MODIF algorith/xprcfl                pellet J.PELLET            97      2      2
 FORTRAN MODIF algorith/xprini                pellet J.PELLET           262      2      2
 FORTRAN MODIF algorith/xprls                 pellet J.PELLET           317      3      3
 FORTRAN MODIF algorith/xprpls                pellet J.PELLET           278      3      3
 FORTRAN MODIF algorith/xprrei                pellet J.PELLET           578      5      5
 FORTRAN MODIF algorith/xprreo                pellet J.PELLET           586      4      4
 FORTRAN MODIF algorith/xprtor                pellet J.PELLET           663      3      3
 FORTRAN MODIF algorith/xprupw                pellet J.PELLET           628      2      2
 FORTRAN MODIF algorith/xreacl                pellet J.PELLET           189      2      2
 FORTRAN MODIF algorith/xtopoc                pellet J.PELLET           151      2      2
 FORTRAN MODIF algorith/xtopoi                pellet J.PELLET           142      2      2
 FORTRAN MODIF assembla/resyme                pellet J.PELLET           148      8     11
 FORTRAN MODIF calculel/assach                pellet J.PELLET           268     17      4
 FORTRAN MODIF calculel/calcul                pellet J.PELLET           561     20      5
 FORTRAN MODIF calculel/ccliop               rezette C.REZETTE          231      3      1
 FORTRAN MODIF calculel/cesvar                pellet J.PELLET            70      2      2
 FORTRAN MODIF calculel/erglme                delmas J.DELMAS           252     18      1
 FORTRAN MODIF calculel/exresl                pellet J.PELLET           131     11      7
 FORTRAN MODIF calculel/manopx                pellet J.PELLET           179      2      3
 FORTRAN MODIF calculel/mbilgl                pellet J.PELLET           386      2      2
 FORTRAN MODIF calculel/me2mac                pellet J.PELLET           155      3      3
 FORTRAN MODIF calculel/me2mme                pellet J.PELLET           607     20     20
 FORTRAN MODIF calculel/me2mth                pellet J.PELLET           260      7      7
 FORTRAN MODIF calculel/me2zme                pellet J.PELLET           109      3      2
 FORTRAN MODIF calculel/meama2                pellet J.PELLET           122      2      2
 FORTRAN MODIF calculel/meamgy                pellet J.PELLET           102      3      2
 FORTRAN MODIF calculel/meamme                pellet J.PELLET           279      4      3
 FORTRAN MODIF calculel/mebilg                pellet J.PELLET           246      2      2
 FORTRAN MODIF calculel/mecagl                pellet J.PELLET           481      2      2
 FORTRAN MODIF calculel/mecalg                pellet J.PELLET           511      2      2
 FORTRAN MODIF calculel/mecanb                pellet J.PELLET            88      3      2
 FORTRAN MODIF calculel/meceuc                pellet J.PELLET           284     13      8
 FORTRAN MODIF calculel/mecoa1                pellet J.PELLET            58      3      2
 FORTRAN MODIF calculel/mecoac                pellet J.PELLET            93     11      6
 FORTRAN MODIF calculel/mecoel                pellet J.PELLET           334      5      3
 FORTRAN MODIF calculel/medom1               rezette C.REZETTE          213      2      1
 FORTRAN MODIF calculel/medome             desroches X.DESROCHES        229     22      4
 FORTRAN MODIF calculel/meficg                pellet J.PELLET           435      2      2
 FORTRAN MODIF calculel/meimme                pellet J.PELLET           117      2      2
 FORTRAN MODIF calculel/memaac                pellet J.PELLET           104      3      2
 FORTRAN MODIF calculel/memam2                pellet J.PELLET           143      3      2
 FORTRAN MODIF calculel/memame                pellet J.PELLET           265      3      3
 FORTRAN MODIF calculel/memath                pellet J.PELLET           111      3      2
 FORTRAN MODIF calculel/memzme                pellet J.PELLET            75      3      2
 FORTRAN MODIF calculel/menoga                pellet J.PELLET            96      3      2
 FORTRAN MODIF calculel/meonme                pellet J.PELLET           119      2      2
 FORTRAN MODIF calculel/meria1                pellet J.PELLET           126      4      3
 FORTRAN MODIF calculel/merifs                pellet J.PELLET           145      4      3
 FORTRAN MODIF calculel/merige                pellet J.PELLET           155      3      3
 FORTRAN MODIF calculel/merime                pellet J.PELLET           247      6      6
 FORTRAN MODIF calculel/meriro                pellet J.PELLET           134      3      2
 FORTRAN MODIF calculel/merit1                pellet J.PELLET           140      3      3
 FORTRAN MODIF calculel/merit2                pellet J.PELLET           154      2      2
 FORTRAN MODIF calculel/merit3                pellet J.PELLET           159      2      2
 FORTRAN MODIF calculel/mertth                pellet J.PELLET           179      3      3
 FORTRAN MODIF calculel/metnth                pellet J.PELLET           162      2      2
 FORTRAN MODIF calculel/nttcmv               rezette C.REZETTE          208      2      1
 FORTRAN MODIF calculel/op0038                pellet J.PELLET           163      2      2
 FORTRAN MODIF calculel/op0177                pellet J.PELLET           292      2     28
 FORTRAN MODIF calculel/pjma2p                pellet J.PELLET           272      2      3
 FORTRAN MODIF calculel/qintzz                pellet J.PELLET           100      3      2
 FORTRAN MODIF calculel/qires1                pellet J.PELLET           556      2      2
 FORTRAN MODIF calculel/reslgn                pellet J.PELLET            46      3      2
 FORTRAN MODIF calculel/reslo2                pellet J.PELLET           195      5      3
 FORTRAN MODIF calculel/resloc                pellet J.PELLET           572      2      2
 FORTRAN MODIF calculel/resth2                pellet J.PELLET           210      2      2
 FORTRAN MODIF calculel/resthe                pellet J.PELLET           254      2      2
 FORTRAN MODIF calculel/vetrth                pellet J.PELLET           172      5      4
 FORTRAN MODIF calculel/w175ca                pellet J.PELLET            60      3      2
 FORTRAN MODIF calculel/zzloca                pellet J.PELLET            75      3      2
 FORTRAN MODIF elements/coendo                pellet J.PELLET           102      3      2
 FORTRAN MODIF elements/endole                pellet J.PELLET           136      2      2
 FORTRAN MODIF elements/enetot                pellet J.PELLET           108      3      3
 FORTRAN MODIF elements/ggdtet                pellet J.PELLET           110      2      2
 FORTRAN MODIF elements/impfic               rezette C.REZETTE          190      2      2
 FORTRAN MODIF elements/indrad                pellet J.PELLET           121      2      2
 FORTRAN MODIF elements/resu74                boyere E.BOYERE           248     13      7
 FORTRAN MODIF elements/te0027               rezette C.REZETTE          577      3      2
 FORTRAN MODIF elements/te0041              torkhani M.TORKHANI         590     17      9
 FORTRAN MODIF elements/te0042              torkhani M.TORKHANI         274      2      6
 FORTRAN MODIF elements/te0205               rezette C.REZETTE          619      3      2
 FORTRAN MODIF elements/te0222                pellet J.PELLET            99     12      3
 FORTRAN MODIF elements/te0375                delmas J.DELMAS           597     21      7
 FORTRAN MODIF elements/te0377                delmas J.DELMAS           620     33      1
 FORTRAN MODIF modelisa/accep1                pellet J.PELLET           284      8      3
 FORTRAN MODIF modelisa/arlclc                pellet J.PELLET           151      2      2
 FORTRAN MODIF modelisa/cafond                pellet J.PELLET           223      2      2
 FORTRAN MODIF modelisa/lrmmno               rezette C.REZETTE          230      7      4
 FORTRAN MODIF modelisa/op0018                pellet J.PELLET           610      2      2
 FORTRAN MODIF modelisa/racotu                pellet J.PELLET           289      3      3
 FORTRAN MODIF modelisa/rapo3d                pellet J.PELLET           834      3      3
 FORTRAN MODIF modelisa/rapoco                pellet J.PELLET           783      3      3
 FORTRAN MODIF modelisa/ratu3d                pellet J.PELLET           313      4      4
 FORTRAN MODIF modelisa/rcvala               rezette C.REZETTE          171      2      2
 FORTRAN MODIF modelisa/tomabe               rezette C.REZETTE          355      5      3
 FORTRAN MODIF modelisa/xlenri               rezette C.REZETTE          107      2      1
 FORTRAN MODIF prepost/ircmec                rezette C.REZETTE          217      6      4
 FORTRAN MODIF prepost/irmpg1                rezette C.REZETTE          457      2      1
 FORTRAN MODIF prepost/lrcomm                rezette C.REZETTE          162      2      1
 FORTRAN MODIF prepost/lrensi                 pellet J.PELLET           344      3      2
 FORTRAN MODIF prepost/mdchii                rezette C.REZETTE          294      2      1
 FORTRAN MODIF prepost/op0162                rezette C.REZETTE          349      2      1
 FORTRAN MODIF prepost/usuvus                rezette C.REZETTE          225     12     11
 FORTRAN MODIF supervis/debut                rezette C.REZETTE          103      3      1
 FORTRAN MODIF utilitai/chpond                pellet J.PELLET           212      2      2
 FORTRAN MODIF utilitai/ctdata                pellet J.PELLET           199      2      2
 FORTRAN MODIF utilitai/mapvec              torkhani M.TORKHANI          39      3      3
 FORTRAN MODIF utilitai/op0184                pellet J.PELLET           417      3      2
 FORTRAN MODIF utilitai/pecage                pellet J.PELLET           204      3      2
 FORTRAN MODIF utilitai/pecap1                pellet J.PELLET           332      2      2
 FORTRAN MODIF utilitai/pecap2                pellet J.PELLET           245      2      2
 FORTRAN MODIF utilitai/pecap3                pellet J.PELLET           159      2      2
 FORTRAN MODIF utilitai/pechli                pellet J.PELLET           195      3      2
 FORTRAN MODIF utilitai/peingl                pellet J.PELLET           754      3      3
 FORTRAN MODIF utilitai/pemain                pellet J.PELLET           221      2      2
 FORTRAN MODIF utilitai/peritr                pellet J.PELLET           405      2      2
 FORTRAN MODIF utilitai/peweib                pellet J.PELLET           437      2      2
 FORTRAN MODIF utilitai/rsutnu                pellet J.PELLET           451      7      2
 FORTRAN MODIF utilitai/tbliva               rezette C.REZETTE          343      6      1
  PYTHON MODIF Cata/ops                     courtois M.COURTOIS         504      5      3
  PYTHON MODIF Execution/E_JDC              courtois M.COURTOIS         366      4      1
  PYTHON MODIF Macro/impr_diag_campbell_ops   torkhani M.TORKHANI        1212     10     10
  PYTHON MODIF Macro/impr_diag_campbell_utils   torkhani M.TORKHANI         823      5      5
  PYTHON MODIF Messages/algorith12            nistor I.NISTOR           365      1      4
  PYTHON MODIF Messages/algorith16            pellet J.PELLET           490     30      6
  PYTHON MODIF Messages/algorith17            pellet J.PELLET            76      6      4
  PYTHON MODIF Messages/calculel2             pellet J.PELLET           434     18      5
  PYTHON MODIF Messages/calculel6             pellet J.PELLET           460     15      2
  PYTHON MODIF Messages/calculel7          desroches X.DESROCHES         42      6      1
  PYTHON MODIF Messages/calculel              pellet J.PELLET           392     12      2
  PYTHON MODIF Messages/supervis            courtois M.COURTOIS         451     11      2
  PYTHON MODIF Messages/utilitai8             pellet J.PELLET           281     11      2
  PYTHON MODIF Noyau/basetype               courtois M.COURTOIS         173     18      2
  PYTHON MODIF Noyau/N_ASSD                 courtois M.COURTOIS         181     37      6
  PYTHON MODIF Validation/V_AU_PLUS_UN      courtois M.COURTOIS          60     17      7


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    9        1710      1710             +1710
 MODIF :  520      110627      2022    1559      +463
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :  529      112337      3732    1559     +2173 
