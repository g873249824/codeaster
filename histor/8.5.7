

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR fournier     FOURNIER Isabelle      DATE 20/11/2007 - 09:22:34

--------------------------------------------------------------------------------
RESTITUTION FICHE 011476 DU 2007-11-19 09:30:17
TYPE express concernant Code_Aster (VERSION 2.x)
TITRE
   V8 : Liste de tests ?asser en VISU_EFICAS='NON'
FONCTIONNALITE
   Liste des cas-tests présentant du python en version 8 et donc à passer 
   en VISU_EFICAS='NON'
   miss02a.comm   sensd10b.comm  sensd11c.comm  ssnv185i.comm  
   zzzz208b.comm  miss07a.comm   sensd10c.comm  sensd11d.comm  
   ssnv185j.comm  zzzz213a.comm
   sdnl105c.comm  sensd10d.comm  ssnv185a.comm  ssnv192a.comm
   sensd09b.comm  sensd11a.comm  ssnv185e.comm  zmat004a.comm
   sensd10a.comm  sensd11b.comm  ssnv185f.comm  zzzz208a.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   Sans objet
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR abbas        ABBAS Mickael          DATE 21/11/2007 - 13:13:14

--------------------------------------------------------------------------------
RESTITUTION FICHE 011428 DU 2007-11-05 13:01:14
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   NEW9.1.17, les cas tests rccm02a et rccm03a s'arretent en ARRET_ANORMAL (B)
FONCTIONNALITE
   La variable K8B (CHARACTER*8 bidon censé etre blanc) n'était pas initialisée dans 
   rc36ma.
   Ca faisait planter salement EXISD.
   A faire en 8.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   rccm02a et rccm03a
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 011431 DU 2007-11-05 15:40:08
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   nmresi.f : calcul du vecteur force de reference (option refe_forc_noda)
FONCTIONNALITE
   Dans nmresi, ligne 237 on a :
   
    IF (ZI(JDEEQ-1 + 2*I + 2).GT.0) THEN
   
   ou I est le numero de l'equation et ZI est dimensionné à 2*Neq (la première valeur
   correspond au numero du noeud, et la deuxieme a son ddl cf. Doc D4.06.07 p.7)
   
   pour tester le ddl de la ième équation on devrait faire:
   
    IF (ZI(JDEEQ-1+ 2*I).GT.0) THEN
   
   cette erreur conduit a des résultats faux car on teste le ddl de l'équation d'après 
   donc on calcule mal le résidu
   
   On teste sur tous les cas-tests utilisant RESI_REFE_RELA (14 dans la base)
   
   Correction à faire en 8
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   ssnl106f
ssnl125a
ssnp102a
ssnp122a
ssnv108a
ssnv108b
ssnv108c
ssnv112a
ssnv112b
ssnv112c
ssnv112d
ssnv140c
wtnv123b
wtnv123c
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR assire       ASSIRE Aimery          DATE 21/11/2007 - 13:13:15

--------------------------------------------------------------------------------
RESTITUTION FICHE 011050 DU 2007-07-05 15:34:47
TYPE express concernant Code_Aster (VERSION 2.x)
TITRE
   stanley.py
FONCTIONNALITE
   Modif pour salome-meca : on utilise la variable rcstanley qui vaut ~/.stanley_salome dans
   le cas ou l'on vient de salome. 
   Permet d'eviter de melanger les config de stanley pour salome avec les autres.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   manuelle avec stanley et salome-meca
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroches    DESROCHES Xavier       DATE 21/11/2007 - 13:13:15

--------------------------------------------------------------------------------
RESTITUTION FICHE 010376 DU 2006-12-12 09:13:46
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   CISA_2D et les xc3xa9lxc3xa9ments 3D
FONCTIONNALITE
   Si on essaie d'affecter un chargement CISA_2D sur un 
   modèle 3D on émet un message d'erreur fatale.
   Par contre, c'est bien dit dans la doc de AFFE_CHAR_MECA
   PRES_REP : CISA_2D s'applique sur les éléments 2D.
   La routine modifiée est CAPRES.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   cas test 3D
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR lefebvre     LEFEBVRE Jean-Pierre   DATE 21/11/2007 - 13:13:15

--------------------------------------------------------------------------------
RESTITUTION FICHE 011398 DU 2007-10-25 15:25:05
TYPE anomalie concernant Code_Aster (VERSION 8.5)
TITRE
   TAILLE TROP FAIBLE DU REPERTOIRE DE TRAVAIL
FONCTIONNALITE
   En version 8, la relecture d'une base au format hdf calculait mal le nombre
   d'enregistrement par extension de fichier, ce qui provoquait l'erreur :  
   
   <S> <JXECRB01> ERREUR ECRITURE DE L'ENREGISTREMENT: 5243                                 
                                             
        SUR LA BASE : >GLOBALE <  0                                                         
                                              
        CODE RETOUR WRITDR : -4                                                             
                                              
        ERREUR PROBABLEMENT PROVOQUEE PAR UNE TAILLE TROP FAIBLE DU REPERTOIRE DE           
                                              
        TRAVAIL > <                                                                         
                                              
   En corrigeant la routine jelihd.f l'étude fonctionne correctement. Le parametre -max_base
   passé sur la ligne de commande n'était pas pris en compte correctement et la valeur
   n'était pas stockée dans la base hdf, une correction est introduite dans jeimhd.f.
   
   Les corrections sont aussi à réaliser en version NEW9.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   l'xc3xa9tude fournie
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 011434 DU 2007-11-06 15:36:15
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   une erreur dans jjallc.f
FONCTIONNALITE
   Il s'agit d'un problème lié à l'usage de la gestion mémoire "COMPACTE" et des collections.
   Les appels à la routine NOCART effectue des allocations et des destructions de collections
   contiguës. L'anomalie rencontrée mettait en évidence un défaut de stockage dans le vecteur
   des longueurs cumulées. En instrumentant le code Jacques s'est rendu compte que les objets
   sytème de collection n'avaient pas toujours le même statut en mémoire. Certains étaient de
   type U A (utilisé non déchargeable sur disque) ou U D (utilisé déchargeable sur disque) ce
   qui ne devrait pas se produire, le traitement devant être identique sur ce type d'objet
   pour une collection donnée. Cette anomalie provenait du traitement des allocations en
   mémoire, la gestion "COMPACTE" conduisant au déchargement d'une partie des objets de
   collection, et plus particulièrement l'objet descripteur de collection. Lors d'une
   nouvelle requête en lecture, certains objets de collection, dont le pointeur de longueurs
   cumulées étaient ramenés en mémoire avec le statut U A, le descripteur de collection qui
   possédait le statut X D était passé en U D. Lors de la requête suivante en écriture, on ne
   controlait que le statut du descripteur de collection, l'objet $$LONO des longueurs
   cumulées restait donc en U A et les éventuelles modifications apportées n'étaient donc pas
   écrites sur disque lors du prochain déchargement.
   
   On a modifie la routine JJALLC, pour balayer l'ensemble des objets sytème de collection
   même si le descripteur de collection est présent en mémoire.
   
   Cette anomalie aurait pu se produire avec la gestion mémoire normale, elle conduit le plus
   souvent à un plantage brutal, la collection étant mal construite.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   Etude fournie avec la fiche
NB_JOURS_TRAV  : 5.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR pellet       PELLET Jacques         DATE 21/11/2007 - 13:13:16

--------------------------------------------------------------------------------
RESTITUTION FICHE 011414 DU 2007-10-30 14:56:32
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   CALC_NO + ECRASEMENT AMONT
FONCTIONNALITE
   Problème:
   ---------
   Une étude (la même que celle de la fiche 11413)
   CALCULC = STAT_NON_LINE(       charge1, charge2            Linst1 ....)
   CALCULC = STAT_NON_LINE(reuse, charge1, charge2, charge3 , Linst2 ....)
    
   Et je fais sans précautions,
   CALCULC = CALC_NO( 'REAC_NODA' ) :
      !-------------------------------------------------!
      ! <F> <JEVEUX_01>                                 !
      !   ECRASEMENT AMONT POSSIBLE ADRESSE > 251278089 !
      ! Cette erreur est fatale. Le code s'arrete.      !
      !-------------------------------------------------!
    
    
    
    
   Analyse :
   ----------
   Il y a effectivement un bug dans STAT_NON_LINE, MECA_STATIQUE, THER_LINEAIRE et THER_NON_LINE
    
   Ce bug a été introduit en 7.3.7 pour la fiche 2003-223 (7383) : "Transmission de concepts
   MODELE, CARA_ELEM, CHAM_MATER et EXCIT (charge) aux opérateurs de post-traitement
   CALC_ELEM, CALC_NO et POST_ELEM."
    
   L'erreur consiste à programmer (par exemple dans op0046.f ou nmini0.f) :
         NOOBJ ='12345678'//'.1234'//'.EXCIT.1234'
         CALL GNOMSD(NOOBJ,10,13)
   au lieu de :
         NOOBJ ='12345678'//'.1234'//'.EXCIT.INFC'
         CALL GNOMSD(NOOBJ,10,13)
    
   Le résultat de cette erreur est que la SD "EXCIT" stockée pour les différents numéros
   d'ordre de l'evol_noli a toujours le même nom (.0000.EXCIT). Quand on fait un "reuse" sur
   un STAT_NON_LINE, on recrée un nouvel EXCIT (avec le même nom que l'ancien). Du coup, tout
   se passe comme si tous les instants du transitoire avaient été calculés avec l'EXCIT de la
   dernière poursuite.
    
    
   Validation:
   -----------
   Rien de particulier.
   Je n'ai pas cherché à comprendre pourquoi l'étude de Jean-Luc provoquait un écrasement
   JEVEUX (amont).
    
    
    
   Routines à corriger :
   ---------------------
   nmini0   dyna_non_line(0070) stat_non_line(0070)
   op0025   ther_lineaire(0025)
   op0046   meca_statique(0046)
   op0150   lire_resu(0150)
   op0171   ther_non_line_mo(0171)
   op0186   ther_non_line(0186)
    
    
    
   Modifications à reporter en NEW8 :
   ----------------------------------
   F/nmini0.f:152c152
   F/nmini0.f:<       NOOBJ ='12345678'//'.1234'//'.EXCIT01234'
   F/nmini0.f:---
   F/nmini0.f:>       NOOBJ ='12345678'//'.1234'//'.EXCIT.INFC'
   F/op0025.f:128c128
   F/op0025.f:<       NOOBJ ='12345678'//'.1234'//'.EXCIT01234'
   F/op0025.f:---
   F/op0025.f:>       NOOBJ ='12345678'//'.1234'//'.EXCIT.INFC'
   F/op0046.f:252c252
   F/op0046.f:<       NOOBJ ='12345678'//'.1234'//'.EXCIT01234'
   F/op0046.f:---
   F/op0046.f:>       NOOBJ ='12345678'//'.1234'//'.EXCIT.INFC'
   F/op0150.f:902c902
   F/op0150.f:<          NOOBJ ='12345678'//'.1234'//'.EXCIT01234'
   F/op0150.f:---
   F/op0150.f:>          NOOBJ ='12345678'//'.1234'//'.EXCIT.INFC'
   F/op0171.f:119c119
   F/op0171.f:<       NOOBJ ='12345678'//'.1234'//'.EXCIT01234'
   F/op0171.f:---
   F/op0171.f:>       NOOBJ ='12345678'//'.1234'//'.EXCIT.INFC'
   F/op0186.f:123c123
   F/op0186.f:<       NOOBJ ='12345678'//'.1234'//'.EXCIT01234'
   F/op0186.f:---
   F/op0186.f:>       NOOBJ ='12345678'//'.1234'//'.EXCIT.INFC'
    
    
    
    
    
    
    
    
   Résultats faux :
   ================
    
   Conditions d'apparition de l'anomalie :
    
     *  usage de STAT_NON_LINE, DYNA_NON_LINE, MECA_STATIQUE, THER_LINEAIRE et THER_NON_LINE
   en "poursuite" (reuse).
     *  AVEC modification du chargement (mot clé EXCIT) entre les "poursuites"
    
   L'anomalie concerne les calculs de post-traitement faits avec les commandes : CALC_ELEM,
   CALC_NO et CALC_G.
   L'erreur consistait lors d'un post-traitement, à calculer TOUS les numéros d'ordre avec
   (par défaut) le mot clé EXCIT de la dernière "poursuite" (au moment du calcul de
   post-traitement).
    
    
    
   Remarques :
   -----------
   1) les derniers numéros d'ordre post-traités étaient donc toujours "justes".
   2) Le problème concerne le choix du chargement par défaut (qui était mal fait par le
   code). L'utilisateur qui définit le mot clé EXCIT dans les commandes CALC_ELEM, CALC_NO et
   CALC_G n'est pas concerné par cette anomalie.
    
    
    
    
   Les résultats peuvent être faux pour les post-traitements suivants :
    
   En thermique (THER_LINEAIRE ou THER_NON_LINE):
     *  usage de CALC_ELEM :
       - calcul des estimateurs d'erreur ERRE*
                                                                                            
                           
   En mécanique (MECA_STATIQUE, STAT_NON_LINE et DYNA_NON_LINE) :
     *  usage de CALC_ELEM :
       - options EFGE_ELNO_DEPL, SIGM_ELNO_DEPL, SIPO_ELNO_DEPL avec les éléments de poutres
   POU_D_E, POU_D_T, POU_C_T si des chargements répartis sont appliqués sur ces éléments de
   poutre.
    
       - calcul des estimateurs d'erreur ERRE*
    
       - Influence de la température :
         Des résultats faux ont pu etre obtenus si les charges utilisées (sous EXCIT)
   utilisaient le mot clé TEMP_CALCULEE et si les arguments donnés derrière ce mot clé
   étaient différents. Par exemple, utilisation d'un champ pour plusieurs instants et d'un
   transitoire pour le reste du calcul.
    
    
    
     * usage de CALC_G :
       - pour les chargements pris en compte dans le calcul de G et K, pression sur les
   lèvres de la fissure et forces volumiques.
    
     * usage de CALC_NO :
        - le calcul des réactions (REAC_NODA) si les chargements en "force" étaient
   différents selon les "poursuites".
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 7.3.7
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 7.3.7
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   rien de particulier
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 21/11/2007 - 13:13:16

--------------------------------------------------------------------------------
RESTITUTION FICHE 011410 DU 2007-10-26 17:33:28
TYPE anomalie concernant Code_Aster (VERSION 8.5)
TITRE
   stanley ne trouve pas les concepts
FONCTIONNALITE
   Effectivement, en NEW8, çà ne fonctionnait plus. Il faut revenir en arrière sur la fiche
   11015 (dont le problème réapparait).
   
   Modif de stanley.py en 8 uniquement (fait en 9 lors de la fiche 11135) :
   
   -      if concept.__class__.__name__ in types and getattr(concept.etape, 'executed', 0) == 1:
   +      if concept.__class__.__name__ in types:
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   stanley en poursuite
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 011331 DU 2007-10-08 07:28:06
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   En NEW8.5.4., le cas-test forma04c s'arrxc3xaate en arret Anormal (B)
FONCTIONNALITE
   Le test forma04c passe en interactif et en batch. Pas de problème observé dans homard.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   forma04c
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR durand       DURAND Christophe      DATE 21/11/2007 - 13:13:17

--------------------------------------------------------------------------------
RESTITUTION FICHE 011340 DU 2007-10-10 13:49:37
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   corrections asse_maillage
FONCTIONNALITE
   En complément de la réalisation de l'évolution 11323 (à rentrer ultérieurement en v9),
   correction en v9 et report en v8 de d'ASSE_MAILLAGE / COLLAGE : cas des group_ma se
   retrouvant vides du fait de l'élimination des mailles de collage, problèmes de
   dimensionnement de tableaux.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   tests utilisant ASSE_MAILLAGE
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 21/11/2007 - 13:13:17

--------------------------------------------------------------------------------
RESTITUTION FICHE 011474 DU 2007-11-16 14:12:16
TYPE express concernant Code_Aster (VERSION 2.x)
TITRE
   Modif pour eficas
FONCTIONNALITE
   Ajout de protection lors des imports pour eficas :
   - ops.py (v8 uniquement)
   - impr_oar_ops.py
   - macr_ascouf_mail_ops.py
   - macr_spectre_ops.py
   - Sensibilite.py
   
   
   
   diff -urBb ORIG/ops.py v8.PY/ops.py
   --- ORIG/ops.py	2007-11-16 15:14:02.000000000 +0100
   +++ v8.PY/ops.py	2007-11-16 15:11:45.000000000 +0100
   @@ -27,7 +27,6 @@
    # Modules Eficas
    import Accas
    from Accas import ASSD
   -from Utilitai.Utmess import UTMESS
    
    try:
       import aster
   @@ -35,6 +34,8 @@
       # au JDC
       import Build.B_CODE
       Build.B_CODE.CODE.codex=aster
   +
   +   from Utilitai.Utmess import UTMESS
    except:
       pass
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   ras
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR flejou       FLEJOU Jean Luc        DATE 21/11/2007 - 13:13:18

--------------------------------------------------------------------------------
RESTITUTION FICHE 011182 DU 2007-08-28 07:35:16
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
   Elements POU_D_TG en ELAS avec STAT_NON_LINE
FONCTIONNALITE
   Effectivement le comportement ELAS sous COMP_INCR, pour les POU_D_TG, n'était pas licite,
   et est conforme à la documentation U3.11.04. Le seul comportement était VMIS_POUTRE avec 2
   choix pour l'écrouissage de la fonction seuil de plasticité.
   Aucun blindage du code n'était prévu dans le cas d'une utilisation non licite.
   
   La correction/évolution consiste à autoriser le comportement ELAS sous COMP_INCR, sans
   être obligé de renseigner dans DEFI_MATERIAU un comportement de type VMIS_POUTRE.
   
   Validation :
   Ajout dans le test ssnl106a, d'un nouveau cas :
   CHMATE : nouveau matériau avec seulement la définition ELAS
   RESE : recopie d'un STAT_NON_LINE précédent, avec modification du COMP_INCR=_F(RELATION =
   'ELAS')
   TEST_RESU: sur l'effort normal N=ES*Du/L
   
   Impact sur la doc :
   Indiquer dans V6.02.106, modélisation a, qu'un test_resu existe sur le comportement élastique.
   Indiquer dans U3.11.04, qu'il est maintenant possible d'affecter un comportement ELAS sous
   COMP_INCR.
   
   
   Impact sur le code :
   te0346.f : dans le cas ou COMPOR=ELAS, il n'y a pas de variables internes. Il ne faut donc
   plus chercher les pointeurs correspondant.
   nmvmpo.f : dans le cas ELAS il faut rendre, la matrice élastique et le vecteur d'efforts
   F(+)=F(-) + HELAS*DEPS
   nmvmpm.f : affectations des paramètres matériau pour l'intégration. Création d'un nouveau
   cas NUMLOI=0 qui correspond au comportement ELAS. Blindage avec erreur <F> si on essaye
   d'affecter un comportement et un matériau non conforme à la doc.
   algorith8.py : réécriture des messages 80, 81 avec plus de détails et suppression des
   messages 82 et 83
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.02.106, U3.11.04
VALIDATION
   cas tests
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR proix        PROIX Jean-Michel      DATE 21/11/2007 - 13:13:18

--------------------------------------------------------------------------------
RESTITUTION FICHE 011438 DU 2007-11-07 11:19:36
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   STAT_NON_LINE - comportement ECRO_PUIS
FONCTIONNALITE
   Il y avait effectivement un problème de conception de la loi : au tout début de la
   plastification, on n'arrivait pas à converger, car sur la courbe de traction déduite de 
   la loi en puissance, la pente à l'origine est infinie. La résolution itérative locale
   prenant des centaines d'itérations pour calculer des valeurs de l'incrément de déformation
   plastique de l'ordre de 1.E-40. (on voit bien la forme de la courbe sur les fichiers joints).
   
   La solution proposée consiste à linéariser la fonction d'écrouissage entre 0 et une valeur
   arbitraire p0 (j'ai choisi p0 = 1.E-10, valeur indépendante des unités car c'est une
   déformation). 
   La courbe obtenue est comparée à la courbe 'analytique' dans les fichiers joints. 
   
   Les calculs passent alors (cf fichiers .resu), en 
    * STAT_NON_LINE    :    1885.34 :       7.17 :    1892.51 :    1892.84 *
   au lieu de 
    * STAT_NON_LINE    :    1522.72 :      10.79 :    1533.51 :    1535.96 *
   avec un comportement VMIS_ISOT_TRAC. Les résultats sont quasi-identiques.
   
   Cette différence de temps calcul est normale : avec VMIS_ISOT_TRAC, on tire parti de la
   linéarité par morceaux de la courbe de traction pour résoudre. La résolution est immédiate
   et ne nécessite aucune itération (cf R5.03.02).
   Par contre avec VMIS_ISOT_PUIS, il faut nécessairement un procédé itératif pour résoudre,
   d'où un accroissement de temps calcul.
   
   Je propose de restituer cette modification (seule la routine nmcri2 est modifiée). Elle
   est testée dans l'étude jointe et dans COMP001H.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : R5.03.02
VALIDATION
   comp001h, xc3xa9tude jointe
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR durand       DURAND Christophe      DATE 21/11/2007 - 13:13:18

--------------------------------------------------------------------------------
RESTITUTION FICHE 011451 DU 2007-11-12 10:39:15
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TMA : CS
TITRE
   champ initial hydratation abusivement crxc3xa9xc3xa9
FONCTIONNALITE
   Problème :
   ==========
   
   Suite à un signalement sur le forum, on a remarqué que pour TNL, le champ d'hydratation du
   premier instant (nul) est abusivement créé si on fait une résolution purement thermique
   (voir infos dans .mess suite au premier pas de temps, ou infos sur champs archivés).
   
   Solution :
   ==========
   
   On s'assure de bien faire un calcul thermo-hydrique avant de créer ce champ.
   On sait qu'on est dans un calcul hydrique si le comportement est THER_HYDR (utilitaire
   nthydr).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   passage de tous les tests THER_XXX
--------------------------------------------------------------------------------
RESTITUTION FICHE 010955 DU 2007-06-07 15:40:19
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TMA : CS
TITRE
   ther_non_line poursuite avec hydratation
FONCTIONNALITE
   Comme le suggère Jacques, on scrute la SD evol_ther fournie comme état initial.
   Si cette SD possède un champ HYDR_NOEU_ELGA mais pas de champ HYDR_ELNO_ELGA, on emet un
   message d'alarme pour prévenir l'utilisateur que ce champ ne sera pas pris en compte et
   que l'état initial hydrique est nul.
   
   Le message d'alarme est le suivant :
   
   8 : _("""
    La SD evol_ther fournie comme état initial (via THER_NON_LINE / ETAT_INIT / EVOL_THER )
   contient un champ HYDR_NOEU_ELGA mais pas de champ HYDR_ELNO_ELGA.
    L'état hydrique initial sera pris "vierge" (0.).
   """),
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.54.02
VALIDATION
   passage de tous les cas tests THER_NON_LINE
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroches    DESROCHES Xavier       DATE 21/11/2007 - 13:13:19

--------------------------------------------------------------------------------
RESTITUTION FICHE 010704 DU 2007-03-28 16:14:02
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   CALC_ELEM / REPE_COQUE
FONCTIONNALITE
   On modifie la routine mechn2 pour qu'elle initialise aux 
   valeurs par défaut les entités non affectées , ce qui 
   n'était pas le cas et expliquait le plantage.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   fichiers associxc3xa9s a la fiche
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF miss02a                      fournier I.FOURNIER         527      1      1
 CASTEST MODIF miss07a                      fournier I.FOURNIER         358      1      1
 CASTEST MODIF sdnl105c                     fournier I.FOURNIER         620      1      1
 CASTEST MODIF sensd09b                     fournier I.FOURNIER         192      1      1
 CASTEST MODIF sensd10a                     fournier I.FOURNIER         155      1      1
 CASTEST MODIF sensd10b                     fournier I.FOURNIER         155      1      1
 CASTEST MODIF sensd10c                     fournier I.FOURNIER         155      1      1
 CASTEST MODIF sensd10d                     fournier I.FOURNIER         144      1      1
 CASTEST MODIF sensd11a                     fournier I.FOURNIER         214      1      1
 CASTEST MODIF sensd11b                     fournier I.FOURNIER         214      1      1
 CASTEST MODIF sensd11c                     fournier I.FOURNIER         214      1      1
 CASTEST MODIF sensd11d                     fournier I.FOURNIER         216      1      1
 CASTEST MODIF ssnv185a                     fournier I.FOURNIER         240      1      1
 CASTEST MODIF ssnv185e                     fournier I.FOURNIER         221      1      1
 CASTEST MODIF ssnv185f                     fournier I.FOURNIER         205      1      1
 CASTEST MODIF ssnv185i                     fournier I.FOURNIER         274      1      1
 CASTEST MODIF ssnv185j                     fournier I.FOURNIER         250      1      1
 CASTEST MODIF ssnv192a                     fournier I.FOURNIER         414      1      1
 CASTEST MODIF zmat004a                     fournier I.FOURNIER         429      1      1
 CASTEST MODIF zzzz208a                     fournier I.FOURNIER         427      1      1
 CASTEST MODIF zzzz208b                     fournier I.FOURNIER         455      1      1
 CASTEST MODIF zzzz213a                     fournier I.FOURNIER         234      1      1
 FORTRAN AJOUT algorith/ecpuis               macocco K.MACOCCO           46     46      0
 FORTRAN MODIF algorith/nmcri2               macocco K.MACOCCO           52      3      7
 FORTRAN MODIF algorith/nmini0               macocco K.MACOCCO          153      2      2
 FORTRAN MODIF algorith/nmisot               macocco K.MACOCCO          521      7      9
 FORTRAN MODIF algorith/nmresi               macocco K.MACOCCO          266      2      2
 FORTRAN MODIF algorith/nmvmpm               macocco K.MACOCCO          220     92      6
 FORTRAN MODIF algorith/nmvmpo               macocco K.MACOCCO          323      5      3
 FORTRAN MODIF algorith/ntdoet               macocco K.MACOCCO          253      6      2
 FORTRAN MODIF algorith/ntrepr               macocco K.MACOCCO          126      5      1
 FORTRAN MODIF algorith/op0025               macocco K.MACOCCO          338      2      2
 FORTRAN MODIF algorith/op0046               macocco K.MACOCCO          279      2      2
 FORTRAN MODIF algorith/op0186               macocco K.MACOCCO          635      2      2
 FORTRAN MODIF calculel/mechn2               macocco K.MACOCCO          171     44     27
 FORTRAN MODIF calculel/op0171               macocco K.MACOCCO          398      2      2
 FORTRAN MODIF elements/te0346               macocco K.MACOCCO          196     17      5
 FORTRAN MODIF jeveux/jeimhd                 macocco K.MACOCCO          334      8      1
 FORTRAN MODIF jeveux/jelihd                 macocco K.MACOCCO          581     17     15
 FORTRAN MODIF jeveux/jjallc                 macocco K.MACOCCO          172      4      7
 FORTRAN MODIF modelisa/asmaco               macocco K.MACOCCO          622    107     35
 FORTRAN MODIF modelisa/capres               macocco K.MACOCCO          130      2      1
 FORTRAN MODIF postrele/rc36ma               macocco K.MACOCCO          289      2      1
  PYTHON MODIF Cata/ops                      macocco K.MACOCCO          455      3      2
  PYTHON MODIF Macro/impr_oar_ops            macocco K.MACOCCO          773      9      5
  PYTHON MODIF Macro/macr_ascouf_mail_ops    macocco K.MACOCCO         2795      8      3
  PYTHON MODIF Macro/macr_spectre_ops        macocco K.MACOCCO          363      9      3
  PYTHON MODIF Messages/algorith8            macocco K.MACOCCO          420     16     13
  PYTHON MODIF Messages/jeveux               macocco K.MACOCCO          172      6      1
  PYTHON MODIF Messages/modelisa7            macocco K.MACOCCO          418     12      1
  PYTHON MODIF Stanley/stanley               macocco K.MACOCCO         3175     14     12
  PYTHON MODIF Utilitai/Sensibilite          macocco K.MACOCCO           83      8      3


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    1          46        46               +46
 MODIF :   51       21026       438     197      +241
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   52       21072       484     197      +287 
