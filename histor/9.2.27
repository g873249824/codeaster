

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR abbas        ABBAS Mickael          DATE 02/06/2008 - 13:45:02

--------------------------------------------------------------------------------
RESTITUTION FICHE 012127 DU 2008-05-27 12:40:59
TYPE express concernant Code_Aster (VERSION 7.0)
TITRE
   MN10 - COQUE_3D (ssnv129c)
FONCTIONNALITE
   Lors des modifs des FF pour le contact discret, le cas des COQUE_3D TRIA7 a été "oublié".
   On utilisait les FF du TRIA3
             CALL ELRFVF('TR3',KSI,3,FF,IBID)                
             COEFNO(1) = - FF(1)
             COEFNO(2) = - FF(2)
             COEFNO(3) = - FF(3) 
   On modifie pour utiliser les FF de TRIA6
             CALL ELRFVF('TR6',KSI,6,FF,IBID)        
             COEFNO(1) = - FF(1)
             COEFNO(2) = - FF(2)
             COEFNO(3) = - FF(3)
             COEFNO(4) = - FF(4)
             COEFNO(5) = - FF(5)
             COEFNO(6) = - FF(6) 
   Cas-test impacté: ssnv129c
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   ssnv129c
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 012107 DU 2008-05-21 11:15:12
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   Erreur CONTACT3_13 dxc3xa8s la premixc3xa8re itxc3xa9ration
FONCTIONNALITE
   Je n'ai pas trouvé de solution ultime.
   Le problème est qu'on cherche à MINIMISER une distance et non à rendre une valeur nulle
   (comme le résidu d'équilibre).
   Du coup, le critère d'arrêt sur l'incrément de déplacement est le seul accessible.
   Je propose une correction qui semble bien fonctionner.
   A l'issue du processus itératif de Newton lors de la projection, si on n'a pas "convergé"
   (c'est-à-dire si l'incrément de déplacement n'a pas diminué), on garde le meilleur
   résultat obtenu par le processus: celui pour lequel la distance est minimale.
   Avec 200 itérations, la probabilité que ce ne soit pas la bonne solution est quasi-nulle.
   En passant la liste complète des cas-tests méthodes continue avec cette correction, tout
   est OK, et l'étude Dudgeonnage ne s'arrête plus.
   A titre de référence, voici le résultat obtenu par la méthode au bout de 200 (!) itérations
    ITER:                    200
    KSI :   7.313356446121277E-002   1.88010814180672        (on est sorti de la maille)
    DISTANCE:    1.29029577287724
   Alors qu'à la quatrième itération, on avait déjà une très bonne solution:
    ITER:                      4
    KSI :  -0.995891071331889        1.06282407661005        (on est quasi sur le noeud)
    DIST:   0.105470387504226     
   
   On remarquera que le point esclave à projeter a la mauvaise idée d'être quasiment sur un
   noeud de la maille maître.
   Ce qui provoque des oscillations. On part à l'extérieur de la maille et là, on est foutu
   (les FF à l'extérieur de la maille ne sont pas définies)
   J'ai émis une fiche (11924) qui devrait améliorer sensiblement les performances de la méthode.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   liste complxc3xa8te contact
NB_JOURS_TRAV  : 4.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 012049 DU 2008-04-29 14:20:12
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   Stockage en double dans STAT_NON_LINE
FONCTIONNALITE
   Symptome.
   Instant 0.14s - Convergé
      CHAMP STOCKE : DEPL             INSTANT :  1.40000E-01  NUMERO D'ORDRE :     7
      CHAMP STOCKE : SIEF_ELGA        INSTANT :  1.40000E-01  NUMERO D'ORDRE :     7
      CHAMP STOCKE : VARI_ELGA        INSTANT :  1.40000E-01  NUMERO D'ORDRE :     7
   Instant 0.16s - Manque de temps CPU
      CHAMP STOCKE : DEPL             INSTANT :  1.40000E-01  NUMERO D'ORDRE :     8
      CHAMP STOCKE : SIEF_ELGA        INSTANT :  1.40000E-01  NUMERO D'ORDRE :     8
      CHAMP STOCKE : VARI_ELGA        INSTANT :  1.40000E-01  NUMERO D'ORDRE :     8
   
   On stocke effectivement en double
   
   
   Quand on manque de temps CPU au milieu d'un pas de temps ou que l'on a un défaut de
   convergence quelconque (comportement, contact, etc), on force l'archivage du pas de temps
   précédent.
   Si l'utilisateur a choisi de tout archiver, l'opération est inutile car on a déjà stocké
   le aps de temps précédent et l'on va stocker en double le même pas de temps (mais avec un
   numéro d'ordre différent).
   Si l'utilisateur n'a pas choisi de tout archiver. L'opération est utile (elle permettra de
   faire une poursuite).
   
   Proposition  de correction
   
   Le principe et de tester si l'instant n'a pas déjà été sauvé.
   Lors de l'archivage dans nmarch, on compare l'instant au numéro d'ordre précédent avec
   celui qu'on veut stocker.
   S'il s'avère être EXACTEMENT (Différence: 0.D0) le même, on n'archive pas.
   
   C
   C --- INSTANT DEJA ARCHIVE ?
   C
   IF (NUMARC.GE.2) THEN
     CALL RSADPA(RESULT,'L',1,'INST',NUMARC-1,0,JINST,K8BID)
     INSTAN = ZR(JINST)
     IF (INSTAP.EQ.INSTAN)) THEN
       GOTO 999
     ENDIF
   ENDIF 
   
   A faire en 8.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   ssnp125a en CPU limite
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR bodel        BODEL Charles          DATE 03/06/2008 - 14:23:54

--------------------------------------------------------------------------------
RESTITUTION FICHE 012100 DU 2008-05-19 11:38:41
TYPE anomalie concernant Code_Aster (VERSION 9.2)
TITRE
   En NEW9.2.24, les cas-tests sdll137b et sdlv125a ont un fichier .resu tronquxc3xa9 sur Bull, Calibre et Rocks.
FONCTIONNALITE
   Problème : 
   ----------
   En NEW9.2.24, les cas-tests sdll137b et sdlv125a ont un fichier .resu tronqué sur les
   machines Bull, Calibre et Rocks.
   Ils ne commencent pas par l'entête standard :
   "
                                           -- CODE_ASTER -- VERSION DE DEVELOPPEMENT  9.02.24 --
   
                                                      COPYRIGHT  EDF-R&D 1991 - 2008
   
                                                  EXECUTION DU : JE-15-MAI -2008 00:54:16
   "
   et contiennent des caractères non affichables.
   
   Solution : 
   ----------
   Les messages affiches par MACRO_VISU_MEIDEE le sont pas defaut dans le .mess. On supprime
   cet affichage : 
    - en enlevant le mot-clé UNITE_RESU dans le fichier de commande des cas-tests sdll13b,
   sdll137c, sdlv125a et sdls139a,
    - en supprimant la valeur donnee au parametre par defaut (6) dans macro_visu_meidee.capy
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   sdls139a, sdlv125a, sdll137b, sdll137c
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR boiteau      BOITEAU Olivier        DATE 03/06/2008 - 11:01:36

--------------------------------------------------------------------------------
RESTITUTION FICHE 012130 DU 2008-05-28 05:41:59
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   Erreur de compilation de la routine vpqzla en version 9.2.26 sous Calibre 4
FONCTIONNALITE
   En NEW9
   --------
   Restit de vpqzla pour pb FORMAT.
   Machine: claui2t2 sous calibre 4 avec gcc/g77 3.3.
   + Suite demande de Mathieu:
   Rajout du cas-test sensd09b: modif des valeurs de TEST_RESU
   qui ont un peu bougé sur CALIBRE 5 (2.10-4 pour une tolérance
   à 1.10-4 en absolu, valeur de référence=0).
   
   En NEW8
   -------
   Lors de la restit précédente (en 8.6.7) j'ai oublié de 
   joindre le test modifié SENSD09B (on change 
   l'approche 'COMPLEXE' en approche 'REEL', cf. fiche AL12125).
   je corrige ici cet impair.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 9.2.26
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   non rxc3xa9gression, informatique
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR nistor       NISTOR Ionel           DATE 02/06/2008 - 13:39:12

--------------------------------------------------------------------------------
RESTITUTION FICHE 012121 DU 2008-05-26 07:54:16
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   l'alarme ALGORITH16_49 est abusive
FONCTIONNALITE
   Jacques a remarqué que lors d'un calcul avec sous-
   structuration dynamique l'alarme suivante est émise:
   
   <A>ALGORITH16_49>                                        
      "les noeuds des interfaces ne sont pas alignes en vis-
   a-vis  (suivent les noms des interfaces...)
      les noeuds ont ete reordonnes"
   
   On a trouvé qu'elle est abusive, l'opération signalée 
   est tout à fait normale lorsqu'on définie un modèle gene 
   à partir de plusieurs sous-structures. Les noeuds des 
   interfaces perdent leur ordre initial lors de la 
   rotation d'une sous-structure et c'est le rôle du code 
   de les re-appariés (le verbe "reordonner" est utilisé 
   aussi abusif dans le texte de l'alarme) lors de la 
   vérification, comme signalé déjà dans la doc de la 
   commande DEFI_MODELE_GENE. Donc l'utilisateur n'est pas 
   tenu de faire quelque chose ici.
   En conséquence on élimine cette alarme.
   J'ai vérifié aussi pour le 3D, tout se passe bien.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   sdls111a
NB_JOURS_TRAV  : 0.3
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 02/06/2008 - 17:08:25

--------------------------------------------------------------------------------
RESTITUTION FICHE 011418 DU 2007-10-31 20:42:03
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   Retour d'erreur differents en sequentiel et en //
FONCTIONNALITE
   Le diagnostic pouvait être différent en séquentiel et en parallèle (et même sans doute
   entre deux exécutions parallèles).
   
   En effet, l'impression des messages n'était faite que sur le processeur maitre (0). Donc
   une alarme déclenchée sur un proc autre que le 0 n'était pas visible.
   
   On affiche maintenant les messages sur tous les processeurs.
   
   Inconvénient : on passe par le meme chemin pour imprimer les débuts/fins de commande. On
   les répétera donc autant de fois que de procs (mais l'output est déjà mélangée !).
   
   Impact : affich.f  (appelée par aster.affiche).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   test en //
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 012142 DU 2008-05-30 09:14:15
TYPE express concernant Code_Aster (VERSION 7.0)
TITRE
   Cas-tests en 9.2.26
FONCTIONNALITE
   sur Calibre 4 :
   - sslv313b : manque de temps
   
   sur Calibre 5 :
   - yyyy104e : léger NOOK, il faut augmenter la précision de demandée à GCPC (RESI_RELA
   diminué à 1.e-8)
   - sslp104d : arlequin, très léger nook (0.007%), on passe la tolérance à 1.e-4
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   tests concernxc3xa9s
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 012143 DU 2008-05-30 14:22:31
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   En NEW9.2.26, le cas-test sdlv302c s?arrete en ERREUR_<F> sur Bull.
FONCTIONNALITE
   Les deux tests sdlv302c et d ont consommé énormément de temps system lors de l'astout
   suite à la mise à jour.
   Relancés (dans un astout), ils passent sans problème (moins de 1 s syst).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   ras
NB_JOURS_TRAV  : 0.01
--------------------------------------------------------------------------------
RESTITUTION FICHE 011015 DU 2007-06-25 15:30:34
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   Comportement anormal de Stanley en PAR_LOT='OUI'
FONCTIONNALITE
   Fiche restituée une première fois en 8.5.2 et 9.1.5, puis retour en arrière via la 11135.
   
   Dans un jeu de commandes qui calcule plusieurs concepts résultat :
   RESU1 = MECA_STATIQUE(...)
   RESU2 = MECA_STATIQUE(...)
   
   Si on insère STANLEY() entre les deux et qu'on est en PAR_LOT='OUI', Stanley nous propose
   de choisir parmi RESU1 et RESU2 alors que RESU2 n'a pas encore été calculé.
   
   Pour corriger cela, on ajoute un attribut "executed" aux ASSDs (concepts). Dans la
   première réalisation, on utilisait l'attribut "executed" de l'étape qui produit le
   concept... mais l'étape est perdue en POURSUITE.
   
   On fait de même pour tous les concepts récupérés dans le jdc (modèle, cham_mater...).
   
   
   Impacts :
   - N_ASSD.py : ajout de l'attribut "executed", initialisé à 0,
   
   - E_ETAPE.py : on marque le concept : self.sd.executed=1,
   
   - ops.py : après avoir lu le pick.1, il faut mettre à jour jdc.sds_dict dont les ASSDs ne
   contiennent pas les attributs dépicklés,
   
   - stanley.py : on utilise la valeur de "concept.executed" pour savoir si on propose le
   concept à l'utilisateur.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   xc3xa9tude jointe
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroches    DESROCHES Xavier       DATE 03/06/2008 - 13:09:08

--------------------------------------------------------------------------------
RESTITUTION FICHE 012069 DU 2008-05-07 06:42:53
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   COQUE_AXIS en linxc3xa9aire => calcul de FORC_NODA impossible
FONCTIONNALITE
   FORC_NODA sur un modèle de COQUE_AXIS est possible en 
   non-linéaire mais pas en linéaire : message d'erreur.
   
   La raison en est qu'en linéaire, SIEF_ELGA_DEPL calcule 
   des efforts généralisés alors que FORC_NODA attend des 
   contraintes dans les couches.
   
   
   La programmation de SIEF_ELGA_DEPL était mauvaise (on 
   faisait la même chose que EFGE_ELGA_DEPL). On 
   reprogramme correctement  SIEF_ELGA_DEPL (TE0237).
   Test de FORC_NODA sur un modèle de coques 1D : SSLS114J
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   ssls114j
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR durand       DURAND Christophe      DATE 03/06/2008 - 15:53:27

--------------------------------------------------------------------------------
RESTITUTION FICHE 012102 DU 2008-05-19 13:44:36
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   Mauvaise convergence en thermique NL
FONCTIONNALITE
   Je n'ai pas suffisament aprofondi la recette de la fiche 10741 (recherche linéaire par
   méthode mixte partagée entre thermique et mécanique).
   
   Après examen du source, j'estime qu'il est préférable de revenir dans l'état antérieur à
   la version 9.1.3 : recherche linéaire par méthode corde seule.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   cas tests de thermique
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR geniaut      GENIAUT Samuel         DATE 02/06/2008 - 18:00:49

--------------------------------------------------------------------------------
RESTITUTION FICHE 012139 DU 2008-05-29 13:23:08
TYPE express concernant Code_Aster (VERSION 9.3)
TITRE
   correction de bugs pour X-FEM
FONCTIONNALITE
   Problème :
   ----------
   
   Lors de passage de gros calculs avec X-FEM, on se rend compte que certains paramètres en
   dur ne conviennent pas.
   
   Solutions :
   -----------
   
   xbaslo.f : avant de diviser par un réel, on s'assure que celui-ci n'set pas nul. le test
   vérifie que ce réel est supérieur à 1e-10. On remplace 1e-10 par R8PREM.
   
   xenrch.f : le nombre maximal de mailles traversées par la fissure est limité en dur à
   20000. On augmente ce nombre à max(20000,NBMA/10).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   tests x-fem
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR greffet      GREFFET Nicolas        DATE 02/06/2008 - 11:38:36

--------------------------------------------------------------------------------
RESTITUTION FICHE 012131 DU 2008-05-28 06:39:21
TYPE anomalie concernant Code_Aster (VERSION 9.2)
TITRE
   Test miss03a sous Rocks (clpaster)
FONCTIONNALITE
   Ce cas-test va deux fois plus vite sur Bull que sur Calibre4.1 et Rocks...
   Je propose de passer le temps CPU dans le .para à 1400 secondes.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   miss03a
NB_JOURS_TRAV  : 0.05
--------------------------------------------------------------------------------
RESTITUTION FICHE 012132 DU 2008-05-28 07:18:59
TYPE evolution concernant Code_Aster (VERSION )
TITRE
   Bascule de tous les cas-tests MISS en V1_4
FONCTIONNALITE
   On modifie macro_miss_3D.capy pour mettre comme valeur par défaut à VERSION la 
   valeur V1_4.
   Je modifie la version dans les cas-tests :
   miss02a, miss06b, miss07a, miss07b, miss08a, miss09a et zzzz108a
   
   Je modifie les allocations mémoires en les augmentant de 400 Mo pour les cas-
   tests :
   miss02a, miss06b, miss07a, miss07b, miss08a et zzzz108a.
   Le cas-test miss09a passe de 1800 Mo à 1900 Mo.
   
   On porte aussi le temps CPU de miss07b de 1800 à 2000 car sur clpaster on est limite : 1802 
   secondes...
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U7.03.11
VALIDATION
   miss02a, miss06b, miss07a, miss07b, miss08a, zzzz108a
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR lefebvre     LEFEBVRE Jean-Pierre   DATE 02/06/2008 - 13:53:21

--------------------------------------------------------------------------------
RESTITUTION FICHE 012146 DU 2008-06-02 11:13:53
TYPE express concernant Code_Aster (VERSION 7.0)
TITRE
   Correction tests wtnp111b, wtna105a et ssns108a pour Calibre 5
FONCTIONNALITE
   Corrections effectuées :
   
   wtnp111b : modififcation du .para associé : 128Mo -> 256Mo et mem_aster 50
   
   wtna105a : ITER_GLOB_MAXI = 25 au lieu de 15 (mot clé CONVERGENCE sous STAT_NON_LINE)
   
   ssns108a : ITER_MAXI_DEBORST = 20 au lieu de 15
              ITER_GLOB_MAXI = 100 au lieu de 80
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   wtnp111b, wtna105a et ssns108a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR meunier      MEUNIER Sébastien      DATE 02/06/2008 - 13:41:47

--------------------------------------------------------------------------------
RESTITUTION FICHE 012108 DU 2008-05-21 17:03:55
TYPE anomalie concernant Code_Aster (VERSION 9.2)
TITRE
   estimateur d'erreur en THM
FONCTIONNALITE
   On réorganise les composantes des estimateurs d'erreur dans le catalogue
   grandeur_simple.cata et dans le te0497.f des estimateurs en THM. On fait passer esterg1
   (erreur globale / méthode par stabilité) et esterg2 (erreur globale / méthode par dualité)
   au début de la liste des composantes THM.
   
   Dans le même temps, on a découvert un bug dans le calcul des termes de bord en THM pour
   l'hydraulique. On allait chercher en stationnaire le flux hydraulique à l'instant
   précédent, ce qui n'a pas de sens. On distingue donc le cas stationnaire du cas
   instationnaire. Les valeurs des test_resu de non-régression sur esterg1 et esterg2 des
   tests wtnp116a et wtnp116b sont donc modifiées.
   
   Suite à la demande de Jacques, on blinde le lecteur de catalogue :
   
   fichier Lecture_Cata_Ele/imprime.py : 
   617c617
   <           if rangcmp < rangav : ERR.mess('A'," CMPS dans un ordre incorrect.
   "+repr(lcmp)+" type_element: "+note)
   ---
   >           if rangcmp < rangav : ERR.mess('E'," CMPS dans un ordre incorrect.
   "+repr(lcmp)+" type_element: "+note)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   wtnl100e,wtnp116a,wtnp116b
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 012137 DU 2008-05-28 15:42:44
TYPE anomalie concernant Code_Aster (VERSION 9.3)
TITRE
   ARLEQUIN - Mxc3xa9thode de tri
FONCTIONNALITE
   Dans Arlequin, on a besoin de trier les mailles par numéro de maille croissant au début de
   l'algorithme (c'est caché dans la routine arllec.f). Ce tri peut être fait par insertion
   (si peu de mailles) ou par une méthode de tri rapide. Dans ce cas, on fait intervenir une
   pile qui est dimensionnée au maximum à 59. Si on cherche un élément en dehors de la pile,
   l'utilisateur a le message d'alarme algeline3_52 qui lui signale qu'il faut qu'il augmente
   la taille de la pile.
   
   Cela me paraît inadapté car l'utilisateur ne pourra de toute façon pas augmenter la taille
   de la pile puisqu'elle est paramétrée en dur à 59 dans le fortran. Je propose donc de
   supprimer cette alarme et de la remplacer par un CALL ASSERT. Si un jour quelqu'un passe
   dans cet endroit (ce qui n'est jamais arrivé pour l'instant à ma connaissance), on se
   posera la question de la taille de la pile.
   
   En supprimant le message algeline3_52, on supprime les messages doublons
   algeline3_35, _36 et _59.
   
   Remarque Olivier Boiteau :
   --------------------------
   
   Si on met par exemple 2 messages 'toto' et 'tata' qui portent le même numéro dans un
   catalogue python, 
   
   cata_msg={
   
   1: _("""
    toto
   """),
   
   1: _("""
    tata
   """),
   
   on n'est arrêté nulle part. L'agla ne pourrait-il pas vérifier l'ordre strictement
   croissant des messages ?
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   RIen de particulier
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR pellet       PELLET Jacques         DATE 02/06/2008 - 14:02:04

--------------------------------------------------------------------------------
RESTITUTION FICHE 011896 DU 2008-03-31 10:48:37
TYPE express concernant Code_Aster (VERSION 7.0)
TITRE
   penser xc3xa0 "blinder" la NEW8 (jjlibp) aprxc3xa8s correction de 11859 et 11860
FONCTIONNALITE
   Problème:
   ---------
   La routine jjlibp.f a été modifiée en NEW9 (fiche 8315) pour permettre de détecter plus
   rapidement des erreurs de programmation liées à un mauvais usage de JEVEUX.
                                                                                            
                           
   La correction n'a pas été reportée en NEW8 en attendant que les 2 AL (fiches 11859 et
   11860) soient corrigées en version 8.
                                                                                            
                           
   Solution:
   ----------
   Maintenant que les corrections de 11859 et 1860 ont été reportées en NEW8, on peut
   également reporter le "blindage" de jjlibp.f :
   
   110d109
   <         IF ( IDEBUG .EQ. 1 ) THEN
   114d112
   <         ENDIF
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   rien de particulier
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 012028 DU 2008-04-24 07:44:43
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   POST_RELEVE_T et repere CYLINDRIQUE
FONCTIONNALITE
   Problème:
   ----------
                                                                                            
                           
   Le problème vient du fait que LIRE_RESU / FORMAT='MED' crée tous ses cham_elem 'ELNO' avec
   l'option 'TOU_INI_ELNO'.
                                                                                            
                           
   En général, ce n'est pas genant, mais POST_RELEVE se sert de cette information pour
   déterminer les CMPS à traiter.
                                                                                            
                           
   Extrait de rvche2.f (POST_RELEVE_T):
   ....................................
                                                                                            
                           
   C
         CALL DISMOI('F','NOM_OPTION', CHELEZ, 'CHAM_ELEM',IBID,OPTION,IER)
         IF  ( OPTION(1:14) .EQ. 'SIGM_ELNO_DEPL'  .OR.
        &      OPTION(1:14) .EQ. 'SIEF_ELNO_ELGA'  )THEN
   C         COMPOSANTE:  SIXX SIYY SIZZ SIXY SIXZ SIYZ
         ELSEIF ( OPTION(1:14) .EQ. 'EPSI_ELNO_DEPL'  .OR.
        &         OPTION(1:14) .EQ. 'EPSG_ELNO_DEPL'  .OR.
        &         OPTION(1:14) .EQ. 'EPME_ELNO_DEPL'  .OR.
        &         OPTION(1:14) .EQ. 'EPMG_ELNO_DEPL'  )THEN
   C         COMPOSANTE:  EPXX EPYY EPZZ EPXY EPXZ EPYZ
         ELSE IF ( OPTION(1:14) .EQ. 'EFGE_ELNO_DEPL' ) THEN
   C         COMPOSANTE:  NXX NYY NXY MXX MYY MXY
         ELSE IF ( OPTION(1:14) .EQ. 'DEGE_ELNO_DEPL' ) THEN
   C         COMPOSANTE:  N  VY VZ MT MFY MFZ
         ELSE
            VALK (1) = CHELM
            VALK (2) = OPTION
            CALL U2MESK('F', 'POSTRELE_26',2,VALK)
         ENDIF
                                                                                            
                           
                                                                                            
                           
   Solution :
   ----------
   On corrige LIRE_RESU (routine lrceme.f) pour transmettre à cescel.f les 2 arguments OPTION
   et PARAM.
   Pour que ces arguments soient renseignés dans le cas des champs ELNO, je dois compléter
   op0150.f
                                                                                            
                           
   Détail :
   --------
   Je suis obligé de modifier également op0192.f (LIRE_CHAMP/MED) pour initialiser à ' ' les
   2 arguments OPTION et PARAM. En revanche, les champs 'ELNO'obtenus par LIRE_CHAMP restent
   associés à l'option 'TOU_INI_ELNO'.
                                                                                            
                           
   NEW8 :
   ------
   Je propose de ne pas corriger cette AL en version 8 car elle ne se produit que dans un cas
   assez particulier :
                                                                                            
                           
   - écriture MED de cham_elem ELNO
   - relecture des champs MED
   - commande POST_RELEVE sur ces champs.
                                                                                            
                           
   Pour s'en sortir en NEW8, il suffit de conserver sa base Globale.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   xc3xa9tude fournie par CD
NB_JOURS_TRAV  : 0.7
--------------------------------------------------------------------------------
RESTITUTION FICHE 012134 DU 2008-05-28 08:37:53
TYPE express concernant Code_Aster (VERSION 7.0)
TITRE
   Usage de -checkbounds
FONCTIONNALITE
   Questionnement:
   ---------------
   L'usage de l'option de compilation -CheckBounds (ou -CB) peut-il nous aider à trouver des
   bugs dans Code_Aster ?
                                                                                            
                                   
   Analyse:
   --------
   J'ai recompilé avec -CB les 2400 routines qui n'utisent les commons JEVEUX ZI, ...
   J'ai ensuite fait passer 350 petits tests.
                                                                                            
                                   
   Après analyse des problèmes détectés, les routines posant problème sont :
                                                                                            
                                   
    * mkkvec  variable RESU
    * chpve2  variable CHAINE
                                                                                            
                                   
    * u2mesg  variable CH1
                                                                                            
                                   
    * preml2  variable DEBFAC
                                                                                            
                                   
    * dxhmft  variable HMFT2
    * dsxhlt  variable HLT2
    * dsqcis  variable TB
    * dsqci2  variable TB
    * dstcis  variable TA
    * dsqbfb  variable BFB
    * dstbfb  variable BFB
    * dxqfor  variable FNO
                                                                                            
                                   
    En réalité, seules les 2 premières routines sont vraiment bugguées et doivent etre corrigées.
                                                                                            
                                   
    Pour u2mesg, le problème vient de l'instruction :
         SUITE = (LEN(CH1) .GT. 1) .AND. (CH1(2:2) .EQ. '+')
         En effet, la norme de fortran77 indique que l'expression booléenne doit etre
   entièrement évaluée.
         Si LEN(CH1)=1, on va évaluer CH1(2:2) ce qui n'est pas très sain.
                                                                                            
                                   
    Pour preml2.f, le problème vient de :
         SUBROUTINE PREML2(N1,DIAG,COL,DELG,XADJ1,ADJNC1,
        +     ESTIM,ADRESS,PAREND,FILS,FRERE,ANC,NOUV,SUPND,
        +     DHEAD,QSIZE,LLIST,MARKER,
        +     DECAL,LGSN,DEBFAC,DEBFSN,SEQ,LMAT,ADPILE,
        ...
         INTEGER LFRONT(N1),NBLIGN(N1),LGSN(N1),DEBFAC(N1),DEBFSN(N1)
        ...
        *        'LONGUEUR DE LA FACTORISEE ',(DEBFAC(N1+1)-1)
                                                                                            
                                   
        Le tableau DEBFAC, argument de la routine est déclaré de longueur N1 mais on cherche
        à imprimer DEBFAC(N1+1)
                                                                                            
                                   
        En réalité, il n'y a pas de problème car le tableau passé en argument est bien de
   longueur N1+1 (routine mltpre.f).
        Il suffit juste de corriger la décalaration de DEBFAC dans preml2 : DEBFAC(N1+1)
                                                                                            
                                   
                                                                                            
                                   
    Pour les 8 autres, le problème est lié à l'initialisation d'un tableau à 2 dimensions.
         Par exemple pour la routine dsqcis.f :
         REAL*8 TA(6,12)
                                                                                            
                                   
         DO 100 K = 1 , 72
            TB(K,1) = 0.D0
    100  CONTINUE
                                                                                            
                                   
   Correction :
   ------------
   On corrige toutes ces routines. Ainsi, si on souhaite retenter un passage en -CheckBounds,
   ces routines ne nous arreteront plus.
                                                                                            
                                   
                                                                                            
                                   
   Impact documentaire:
   --------------------
   Un paragraphe "Wiki" a été ajouté par TDS et JP sur l'usage (et les limites) de
   -CheckBounds dans le document D10: Pour déboguer Aster.
                                                                                            
                                   
                                                                                            
                                   
   NEW8 :
   -----
   Les routines chpve2 et mkkvec doivent etre egalement corrigées en NEW8.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   passage de 350 petits tests
NB_JOURS_TRAV  : 1.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR delmas       DELMAS Josselin        DATE 02/06/2008 - 14:02:05

--------------------------------------------------------------------------------
RESTITUTION FICHE 012057 DU 2008-04-30 12:25:07
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   Souci de changement de type des concepts pendant l'ecriture en MED
FONCTIONNALITE
   Problème :
   ==========
   Il n'est pas possible de faire un LIRE_RESU au format MED sans plantage avec le message :
      !----------------------------------------------------------------------------!
      ! <F> <UTILITAI6_80>                                                         !
      !                                                                            !
      !                                                                            !
      ! Concept résultat T : la variable INST est inconnue pour le type 
   MODE_MECA. !
      !                                                                            !
      !                                                                            !
      !                                                                            !
      ! Cette erreur est fatale. Le code s'arrete.                                 !
      !----------------------------------------------------------------------------!
   
   Le problème survient au moment de l'écriture des variables d'accès. Pour un concept du
   type MODE_MECA les variables d'accès peuvent être FREQ ou NUME_MODE. Or on ne prévoyait
   que le cas où la variable d'accès est INST.
   
   Correction :
   ============
   Après enquêtes et investigations, il semble qu'en dynamique les paramètres sont
   nécessaires à de nombreuses commandes. Malheureusement les fichiers med ne permettent pas
   de stocker ces paramètres. Aucun test n'a pas permis de faire remonter d'erreur (il n'y a
   pas de test en fait...)
   
   On décide donc d'interdire au niveau du fortran l'utilisation de LIRE_RESU pour les
   structures de données de type :
   - DYNA_TRAN
   - DYNA_HARMO
   - HARM_GENE
   - MODE_MECA
   - MODE_MECA_C
   
   On s'arrête en erreur fatale avec le message suivant :
      !-------------------------------------------------------------------------!
      ! <F> <UTILITAI5_40>                                                      !
      !                                                                         !
      !                                                                         !
      !  LIRE_RESU ne sait pas lire les structures de données de type MODE_MECA !
      !                                                                         !
      !                                                                         !
      !                                                                         !
      ! Cette erreur est fatale. Le code s'arrete.                              !
      !-------------------------------------------------------------------------!
   
   Impact :
   ========
   op0150.f
   utilitai5.py
   
   Nota :
   ======
   * Il n'existe pas de cas test validant LIRE_RESU format MED pour des SD autres que
   evol_noli ou evol_ther.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U7.02.01
VALIDATION
   xc3xa9tude fournie
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 012099 DU 2008-05-19 07:22:03
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TMA : DeltaCad
TITRE
   Problxc3xa8me avec LIRE_RESU format MED en NEW9
FONCTIONNALITE
   Problème :
   ==========
   La relecture d'un champ VARI_ELGA au format MED se passe mal en NEW9, alors qu'elle est
   correcte en STA9. Le message NEW9 est le suivant :
      !----------------------------------------------------------------!
      ! <A> <MED_83>                                                   !
      !                                                                !
      !                                                                !
      !   -  valeurs lues dans le fichier        : 4538                !
      !   -  valeurs non affectees dans le champ : 4538                !
      !                                                                !
      !                                                                !
      !                                                                !
      ! Ceci est une alarme. Si vous ne comprenez pas le sens de cette !
      ! alarme, vous pouvez obtenir des rÃ©sultats inattendus !         !
      !----------------------------------------------------------------!
   
   De plus, quand on essaie d'utiliser le champ, il contient des NaN.
   
   Par contre en STA9.2, tout se passe bien.
   
   La différence de fonctionnement entre les deux versions s'explique par le fait qu'en NEW9,
   un mot clé PROL_ZERO a été ajouté pour donner le choix d'écrire des zéros ou NaN quand on
   ne relit que certaines composantes.
   
   Le message MED est dû au mauvais comptage des composantes et donc cela implique un mauvais
   remplissage.
   
   Correction :
   ==========
   Un bug était présent dans la routine cescel.f
   281
   <             ICMPMX = NBCMP
   ---
   >             ICMPMX = NCMPMX
   
   De plus on bascule PROL_ZERO='OUI' par défaut.
   
   Avant la correction on a pour une maille :
   Avec PROL_ZERO=OUI
    M200      V1           V2           V3           V4           V5           V6         
              V7           V8           V9           V10          V11          V12        
              V13          V14          V15          V16          V17          V18        
              V19          V20          V21          V22          V23          V24        
              V25          V26          V27          V28          V29          V30        
              V31          V32          V33          V34          V35          V36        
              V37          V38          V39          V40          V41          V42        
              V43          V44          V45          V46          V47          V48        
              V49          V50          V51          V52          V53          V54        
              V55          V56          V57          V58          V59          V60        
              V61          V62          V63          V64          V65          V66        
              V67          V68          V69          V70          V71          V72        
              V73          V74          V75          V76          V77          V78        
              V79          V80        
           1  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00
   
   Avec PROL_ZERO=NON
    M200      V1           V2         
           1  NaN          NaN        
   
   Après la correction : 
   Avec PROL_ZERO=OUI
    M200      V1           V2           V3           V4           V5           V6         
              V7           V8           V9           V10          V11          V12        
              V13          V14          V15          V16          V17          V18        
              V19          V20          V21          V22          V23          V24        
              V25          V26          V27          V28          V29          V30        
              V31          V32          V33          V34          V35          V36        
              V37          V38          V39          V40          V41          V42        
              V43          V44          V45          V46          V47          V48        
              V49          V50          V51          V52          V53          V54        
              V55          V56          V57          V58          V59          V60        
              V61          V62          V63          V64          V65          V66        
              V67          V68          V69          V70          V71          V72        
              V73          V74          V75          V76          V77          V78        
              V79          V80        
           1  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
              0.00000E+00  0.00000E+00
   
   Avec PROL_ZERO=NON
    M200      V1           V2           V3           V4           V5           V6         
              V7           V8           V9           V10          V11          V12        
              V13          V14          V15          V16          V17          V18        
              V19          V20          V21          V22          V23          V24        
              V25          V26          V27          V28          V29          V30        
              V31          V32          V33          V34          V35          V36        
              V37          V38          V39          V40          V41          V42        
              V43          V44          V45          V46          V47          V48        
              V49          V50          V51          V52          V53          V54        
              V55          V56          V57          V58          V59          V60        
              V61          V62          V63          V64          V65          V66        
              V67          V68          V69          V70          V71          V72        
              V73          V74          V75          V76          V77          V78        
              V79          V80        
           1  NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              NaN          NaN          NaN          NaN          NaN          NaN        
              0.00000E+00  0.00000E+00
   
   Impact :
   ========
   cescel.f
   lire_resu.capy
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   Cas-test associxc3xa9
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR proix        PROIX Jean-Michel      DATE 02/06/2008 - 16:53:02

--------------------------------------------------------------------------------
RESTITUTION FICHE 012140 DU 2008-05-30 08:12:02
TYPE express concernant Code_Aster (VERSION 9.2)
TITRE
   Calibre5 : tests hsns101b, ssls124a
FONCTIONNALITE
   1. le test hsns101b s'arrete dans STAT_NON_LINE avec le message :
   
   |     2        X | 1.64003E-04  X | 2.24918E-02   |TANGENTE        |
      !--------------------------------------------!
      ! <F> <ELEMENTS4_61>                         !
      !  préconditions non remplies                !
      ! Cette erreur est fatale. Le code s'arrete. !
      !--------------------------------------------!
   
   Analyse : il s'agit d'une vérification dans la routine zeroco (recherche de zero de
   fonction par la méthode de cordes). Les valeurs de la fonction pour les bornes extremes
   doivent etre de signe contraire (on vérifie que Y(1) < 0 et  Y(2) > 0). Cette routine est
   appelée dans le cas présent par nmchdp (intégration du comportement de Chaboche). 
   
   il se trouve que dans ce test (hsns101) on compare VMIS_CINE_LINE avec VMIS_CIN1_CHAB en
   annulant certains coefficients de la loi CIN1_CHAB.
   Du coup dans nmchdp, la borne X(2) initiale conduit à Y(2)= 0 (à la  précision machine
   près), au lieu d'une valeur Y(2) > 0 (on obtient en fait immédiatement la solution). Du
   coup on active l'erreur (et cela se passait seulement sur calibre5).
   
   La solution consiste à vérifier que Y(1) et Y(2) sont non nulles (à la  précision
   RESI_INTE_RELA) avant l'appeler zeroco. Sinon, on sort de la routine puisque l'on a trouvé
   la solution.
   
   Validation : tous les tests _CIN1_ et _CIN2_
   
   RESTITUTION: NEW9 SEULEMENT
   
   2. Le test ssls124a plante en pivot presque nul. Jacques a regardé : dans ce test (SHB8)
   on cherche à évaluer la robustesse de l'élément pour une épaisseur relative de plus en
   plus petite. Cela se traduit par des décimales perdues dans la résolution par MULT_FRONT.
   Pour le cas incriminé, on en perdait 12. On met NPREC=18 (sans que cela dégrade la solution !)
    
   RESTITUTION : NEW9 et NEW8
   
   3. test sdls114b : Jacques a trouvé : erreur de dimensionnement :
   52c52
   <       REAL*8 DU1DL(3,3),DU2DL(3,3),DU3DL(3,3),COURB(3,3,3)
   ---
   >       REAL*8 DU1DL(3,4),DU2DL(3,4),DU3DL(3,4),COURB(3,3,3)
   
   RESTITUTION : NEW9 et NEW8
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   hsns101b, ssls124a
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------
RESTITUTION FICHE 011977 DU 2008-04-14 06:55:40
TYPE anomalie concernant Code_Aster (VERSION 9.3)
TITRE
   En NEW9.2.19, le cas-test sdnv105a s'arrete en ERREUR_<F> sur Calibre.
FONCTIONNALITE
   Il s'agit d'une mauvaise initialisation des variables DEFAM 
   et DEFAP dans NMISOT, pour les composantes 5 et 6, pour les 
   problèmes plans. On est ici en C_PLAN, et on initialise 
   seulement les 4 premières composantes. 
   
   or on fait :
         DO 110 K=1,3
           DEPSTH(K)   = DEPS(K) -COEF
        &                -(DEFAP(K)-DEFAM(K))
           DEPSTH(K+3) = DEPS(K+3)-(DEFAP(K+3)-DEFAM(K+3))
           DEPSMO = DEPSMO + DEPSTH(K)
    110  CONTINUE
   
   j'initialise donc tout à zero, et cela se passe bien.
   
   Cette mauvaise initialisation existait seulement depuis la 
   9.2.11.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   sdnv105a
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 03/06/2008 - 11:40:32

--------------------------------------------------------------------------------
RESTITUTION FICHE 011899 DU 2008-03-31 13:41:35
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TMA : DeltaCad
TITRE
   IMPR_RESU au format MED pour les QU8 xc3xa0 4 points de Gauss
FONCTIONNALITE
   Anomalie
   --------
   Code_Aster s'interrompt dans IMPR_RESU/MED lors de l'ecriture d'un champ de contraintes
   aux points de gauss sur des elements ayant pour mailles des QUAD8 et pour famille de
   points de Gauss la famille FPG4.
   
   Explication
   ------------
   Lors du passage de l'etude fournie avec la demande en INFO=2, nous avons 
   decele une anomalie lors de la creation d'un profil.
   Dans cette etude, Code-Aster cree un profil med pour permettre de distinguer les mailles
   QUAD8 a 9 points de Gauss de celles a 4 points de Gauss.
   Le profil des QUAD8 a 9 points de Gauss etait incorrect.
   Il s'agissait d'un probleme de pointeur dans le tableau PROMED de la routine ircmpe.f.
   
   Concernant le probleme initial, il n'etait pas lie aux mailles QUAD8 a 4 points de Gauss
   mais plutôt a l'impression d'un champ de QUAD8 ayant 2 profils et 2 localisations de
   points de Gauss pour le meme numero d'ordre.
   
   Or il est specifie dans la doc med que:
   " A etape de calcul fixee (couple <numero du pas de temps, numero d'ordre>) et maillage fixe:
   - une seule selection par profil est possible et,
   - une seule definition de points de Gauss est possible".
   
   Ce n'etait pas le cas avec l'etude fournie !
   Au numero d'ordre 29, on cherchait a stocker un champ aux points de
   Gauss portant sur des mailles de type QUAD8, alors qu'on y avait deja
   stocke un champ (celui correspondant au profil de la famille de points de gauss FPG9).
   
   Nous avons donc introduit une verification pour blinder le code:
   Avant d'ecrire un cham_elem dans le fichier med, on verifie que pour une
   sequence de calcul donnee et maillage fixe, aucun champ n'est present.
   En d'autres termes, avant d'ecrire un champ, on verifie que la "place est libre", i.e.
   pour un numero d'ordre donne et type geometrique donne et type d'entite donne, aucun champ
   ne doit être present.
   
   Nous avons effectue cette verification dans ircam1.f :
   - tout d'abord, on fait appel a la routine EFNPDT de la librairie med pour recuperer les
   indices du pas de temps dans le champ (= nombre de numeros d'ordre) pour un champ, type
   d'entite et type geometrique donnes.
   - ensuite, on boucle sur ces indices et on appelle la routine med EFPDTI
   afin de recuperer les numeros d'ordre relatifs aux donnees precedentes.
   - enfin on verifie si le numero d'ordre associe au champ que l'on veut ecrire ne fait pas
   partie de la liste des numeros d'ordre issue de EFPDTI.
   
   Dans le cas où il y a identification du numero d'ordre, on emet une erreur fatale dont le
   contenu du message est le suivant:
     -> Des elements finis differents s'appuient sur un meme type de maille   
       (QUAD8). 
        Le nombre de valeurs a ecrire est different entre ces deux types     
        d'elements, on ne peut pas ecrire le champ complet au format med.    
     -> Risque & Conseil:
        Veuillez utiliser la restriction geometrique GROUP_MA de l'operateur
        IMPR_RESU pour specifier les mailles a considerer.
   
   impact: ircmpe.f, ircam1.f
   
   Validation
   ----------
   - passage de l'etude fournie
   - liste de cas-tests restreinte a la commande IMPR_RESU/MED (83 cas-tests).
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   tests MED
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF epicu01a                       durand C.DURAND           900      2      2
 CASTEST MODIF epicu01b                       durand C.DURAND           867      2      2
 CASTEST MODIF hsns101b                        proix J-M.PROIX          412      1      1
 CASTEST MODIF miss02a                       greffet N.GREFFET          529      2      2
 CASTEST MODIF miss03a                       greffet N.GREFFET         1006      1      1
 CASTEST MODIF miss06b                       greffet N.GREFFET          798      3      2
 CASTEST MODIF miss07a                       greffet N.GREFFET          359      2      2
 CASTEST MODIF miss07b                       greffet N.GREFFET          416      2      2
 CASTEST MODIF miss08a                       greffet N.GREFFET          372      2      2
 CASTEST MODIF miss09a                       greffet N.GREFFET          849      2      2
 CASTEST MODIF sdll137b                        bodel C.BODEL            590      7      8
 CASTEST MODIF sdll137c                        bodel C.BODEL            589      3      3
 CASTEST MODIF sdls114b                        proix J-M.PROIX          317      1      1
 CASTEST MODIF sdls139a                        bodel C.BODEL            655      3      4
 CASTEST MODIF sdlv125a                        bodel C.BODEL            610      3      3
 CASTEST MODIF sensd09b                      boiteau O.BOITEAU          265      7      7
 CASTEST MODIF sslp104d                     courtois M.COURTOIS         249      2      2
 CASTEST MODIF ssls114j                    desroches X.DESROCHES        502      2      2
 CASTEST MODIF ssls124a                        proix J-M.PROIX          412      2      2
 CASTEST MODIF sslv313b                     courtois M.COURTOIS         244      1      1
 CASTEST MODIF ssns108a                     lefebvre J-P.LEFEBVRE       410      3      3
 CASTEST MODIF ssnv129c                        abbas M.ABBAS            227     25     19
 CASTEST MODIF wtna105a                     lefebvre J-P.LEFEBVRE       761      2      2
 CASTEST MODIF wtnp111b                     lefebvre J-P.LEFEBVRE       172      1      1
 CASTEST MODIF wtnp116a                      meunier S.MEUNIER          490      9      9
 CASTEST MODIF wtnp116b                      meunier S.MEUNIER          531      9     28
 CASTEST MODIF yyyy104e                     courtois M.COURTOIS         303    269    140
 CASTEST MODIF zzzz108a                      greffet N.GREFFET         1147      3      3
CATALOGU MODIF compelem/grandeur_simple__    meunier S.MEUNIER          741      6      6
CATALOGU MODIF typelem/gener_mecqd1        desroches X.DESROCHES        215      5      4
CATALOGU MODIF typelem/gener_medhb2          meunier S.MEUNIER          207      3      3
CATALOPY MODIF commande/lire_resu             pellet J.PELLET           208      2      2
CATALOPY MODIF commande/macro_miss_3d        greffet N.GREFFET           68      2      2
CATALOPY MODIF commande/macro_visu_meidee      bodel C.BODEL            140      2      2
CATALOPY MODIF commande/post_k_beta           durand C.DURAND            42      2      2
 FORTRAN AJOUT elements/te0237             desroches X.DESROCHES        191    191      0
 FORTRAN MODIF algeline/pcldlt               meunier S.MEUNIER          217      6      6
 FORTRAN MODIF algeline/preml2                pellet J.PELLET           157      2      2
 FORTRAN MODIF algeline/resgra               meunier S.MEUNIER          196      4      7
 FORTRAN MODIF algeline/tri                  meunier S.MEUNIER          117      2      2
 FORTRAN MODIF algeline/vpbosc               meunier S.MEUNIER          256      3      4
 FORTRAN MODIF algeline/vpbost               meunier S.MEUNIER          254      3      3
 FORTRAN MODIF algeline/vpqzla               boiteau O.BOITEAU          931     12     12
 FORTRAN MODIF algeline/vpsorc               meunier S.MEUNIER          340      4      6
 FORTRAN MODIF algeline/wpsorc               meunier S.MEUNIER          383      3      4
 FORTRAN MODIF algeline/wpsorn               meunier S.MEUNIER          412      3      5
 FORTRAN MODIF algorith/cfreli                 abbas M.ABBAS            165      5      2
 FORTRAN MODIF algorith/mmnewt                 abbas M.ABBAS            267     14      7
 FORTRAN MODIF algorith/nmarch                 abbas M.ABBAS            432     21      3
 FORTRAN MODIF algorith/nmchdp                 proix J-M.PROIX          271     11      3
 FORTRAN MODIF algorith/nmisot                 proix J-M.PROIX          538      8      3
 FORTRAN MODIF algorith/nxrech                durand C.DURAND           163     30     48
 FORTRAN MODIF algorith/vecomo                boyere E.BOYERE           396      1      8
 FORTRAN MODIF algorith/xbaslo               geniaut S.GENIAUT          211      3      3
 FORTRAN MODIF algorith/xenrch               geniaut S.GENIAUT          503      4      2
 FORTRAN MODIF calculel/arlgei               meunier S.MEUNIER          105      3      3
 FORTRAN MODIF calculel/arlger               meunier S.MEUNIER          107      3      3
 FORTRAN MODIF calculel/cescel                pellet J.PELLET           633      2      2
 FORTRAN MODIF calculel/erglhm               meunier S.MEUNIER          176      3      3
 FORTRAN MODIF elements/dsqbfb                pellet J.PELLET            61      6      4
 FORTRAN MODIF elements/dsqci2                pellet J.PELLET           119      5      3
 FORTRAN MODIF elements/dsqcis                pellet J.PELLET           117      5      3
 FORTRAN MODIF elements/dstbfb                pellet J.PELLET            51      6      4
 FORTRAN MODIF elements/dstcis                pellet J.PELLET           124      5      3
 FORTRAN MODIF elements/dsxhlt                pellet J.PELLET            79      5      3
 FORTRAN MODIF elements/dxhmft                pellet J.PELLET            68      5      3
 FORTRAN MODIF elements/dxqfor                pellet J.PELLET            95      7      3
 FORTRAN MODIF elements/erhmb2               meunier S.MEUNIER          577     37     17
 FORTRAN MODIF elements/te0231             desroches X.DESROCHES        209      2      7
 FORTRAN MODIF elements/te0461                 proix J-M.PROIX          479      2      2
 FORTRAN MODIF elements/te0497               meunier S.MEUNIER          591      3      3
 FORTRAN MODIF prepost/ircam1                rezette C.REZETTE          342     19      5
 FORTRAN MODIF prepost/ircmpe                rezette C.REZETTE          478      9      3
 FORTRAN MODIF prepost/lrceme                 pellet J.PELLET           257      3      2
 FORTRAN MODIF supervis/affich              courtois M.COURTOIS          41      1      4
 FORTRAN MODIF utilifor/u2mesg                pellet J.PELLET           122      6      2
 FORTRAN MODIF utilitai/chpve2                pellet J.PELLET            86      4      4
 FORTRAN MODIF utilitai/op0150                pellet J.PELLET          1093     67     25
 FORTRAN MODIF utilitai/op0192                pellet J.PELLET           317      6      2
  PYTHON MODIF Cata/ops                     courtois M.COURTOIS         473      6      2
  PYTHON MODIF Execution/E_ETAPE            courtois M.COURTOIS         297      4      1
  PYTHON MODIF Execution/E_MACRO_ETAPE      courtois M.COURTOIS         242      2      2
  PYTHON MODIF Lecture_Cata_Ele/imprime      meunier S.MEUNIER         1098      6      6
  PYTHON MODIF Meidee/meidee_calcul_fludela      bodel C.BODEL            750      1      4
  PYTHON MODIF Meidee/meidee_calcul_modifstruct      bodel C.BODEL           1064      1     14
  PYTHON MODIF Messages/algeline3            meunier S.MEUNIER          432      1     20
  PYTHON MODIF Messages/algeline4            meunier S.MEUNIER          281      4      5
  PYTHON MODIF Messages/algorith16            boyere E.BOYERE           521      1     10
  PYTHON MODIF Messages/arlequin             meunier S.MEUNIER          184      1      5
  PYTHON MODIF Messages/med                  rezette C.REZETTE          489     10      1
  PYTHON MODIF Messages/utilitai5             pellet J.PELLET           294      4      5
  PYTHON MODIF Noyau/N_ASSD                 courtois M.COURTOIS         140      3      2
  PYTHON MODIF Stanley/stanley              courtois M.COURTOIS        3224      3      3


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    1         191       191              +191
 MODIF :   92       38628       793     600      +193
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   93       38819       984     600      +384 
