

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroche     DESROCHES Xavier       DATE 04/12/2011 - 10:24:32

--------------------------------------------------------------------------------
RESTITUTION FICHE 016638 DU 2011-03-23 10:03:21
TYPE anomalie concernant Documentation (VERSION *)
TITRE
    Erreur dans la doc U4.81.22 (POST_ELEM)
FONCTIONNALITE
   Correction d'une erreur dans l'expression du tenseur 
   d'inertie : les coefficients hors diagonale I_xy, I_xz et I_yz
   ne sont pas corrects : les termes dans l'intégrale ne sont 
   pas sommés, mais multipliés.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.81.22
VALIDATION
    sans
NB_JOURS_TRAV  : 0.01
--------------------------------------------------------------------------------
RESTITUTION FICHE 016248 DU 2011-01-21 08:51:52
TYPE evolution concernant Documentation (VERSION )
TITRE
    V6.03.014: Format des équations à reprendre pour la solution de référence + type de reference pour les valeurs testees
FONCTIONNALITE
   Le travail sur la doc V6.03.014 a déjà été fait par Alexandre (révision 5424 du 
   02/02/2011).
   Par contre, il faut ajouter le type des valeurs testées dans les fichiers de
   commande (REFERENCE='NON_REGRESSION') en concordance avec la doc.
   On modifie les fichiers ssnp14a,...,g.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    SSNP14A
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 016169 DU 2011-01-07 14:18:50
TYPE anomalie concernant Documentation (VERSION *)
TITRE
    V3.03.111 - SSLS111 : Manque d'informations sur le graphe descriptif de la géométrie
FONCTIONNALITE
   Dans le texte concernant les chargements appliqués, il existe 
   un renvoi à un dessin pour situer les mailles où le 
   chargement est appliqué. On localise les mailles sur le 
   dessin.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V3.03.111
VALIDATION
    sans
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR greffet      GREFFET Nicolas        DATE 04/11/2011 - 03:23:21

--------------------------------------------------------------------------------
RESTITUTION FICHE 016762 DU 2011-04-11 07:52:18
TYPE express concernant Code_Aster (VERSION 9.1)
TITRE
    FDLV112b : correction valeurs de non-regression
FONCTIONNALITE
   Suite à la fiche 16690, on a corrgié un bug en ISFS dans miss3d.
   Il faut donc corriger deux valeurs de non-regression qui sont impactées par 
   cette correction.
   Impact : fdlv112b
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    fdlv112b
NB_JOURS_TRAV  : 0.01
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroche     DESROCHES Xavier       DATE 04/12/2011 - 12:12:56

--------------------------------------------------------------------------------
RESTITUTION FICHE 011142 DU 2007-07-26 15:24:24
TYPE evolution concernant Code_Aster (VERSION 2.x)
TMA : DeltaCad
TITRE
    Utilisation de DTAN sur une arete de structure 3D
FONCTIONNALITE
   Objectif
   ========
   Enrichir AFFE_CHAR_MECA du mot-cle facteur ARETE_IMPO afin d'imposer des 
   conditions sur :
   - les ddls classiques (DX,DY,DZ,...),
   - le ddl DTAN (tangente)
   aux noeuds des aretes des elements 3d.
   
   Syntaxe 
   =======
   ARETE_IMPO =  o   | GROUP_MA
                     | MAILLE
                 f   | SANS_GROUP_MA
                     | SANS_MAILLE
                     | SANS_GROUP_NO
                     | SANS_NOEUD
                 o   /  |  DX
                        |  DY
                        |  DZ
                        |  PRES
                        |  PRE1
                        |  PRE2
                        |  PHI
                        |  TEMP
                     /   DTAN 
                    
   
   Developpement
   =============
   a) catapy:
   Enrichissement du catalogue affe_char_meca.capy par l'ajout du mot-cle facteur 
   ARETE_IMPO
   
   b) bibfor
   - charme.f : ajout d'un appel a une nouvelle routine (caarei.f) specifique au mot-
   cle ARETE_IMPO,
   - caarei.f : realise l'affectation du chargement aux aretes des elements 3D 
   fournis, et fait appel a la
   nouvelle routine catang.f dans le cas ou DTAN est fourni,
   - catang.f : calcule les vecteurs tangents aux noeuds des aretes des elements 3D.
   
   c) astest
   Ajout d'un nouveau cas-test (zzzz286a) dans lequel on met en evidence le mot-cle 
   facteur ARETE_IMPO.
   On y teste les valeurs de deplacement a partir de resultats produits avec ou sans 
   ARETE_IMPO. 
   
   Validation
   ==========
   - nouveau cas-test zzzz286a
   
   Documentation
   =============
   - Enrichissement de la documentation U4.44.01 (AFFE_CHAR_MECA)
   - Creation de la doc V1.01.286 relative au nouveau cas-test
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V1.01.286,U4.44.01
VALIDATION
    zzzz286a
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR tardieu      TARDIEU Nicolas        DATE 04/12/2011 - 01:49:11

--------------------------------------------------------------------------------
RESTITUTION FICHE 016627 DU 2011-03-18 15:22:26
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    parallèle
FONCTIONNALITE
   Problème :
   ---------
   Un calcul ne converge pas lorsque l'on utilise PETSc + LDLT_SP alors qu'il converge avec
   MUMPS.
   
   Analyse :
   --------
   En réalisant un grand nombre de tests (tracés dans les différents messages de cette
   fiche), nous nous sommes  aperçu que le problème apparaissait aussi en utilisant MUMPS
   comme solveur direct en simple précision en //. De manière aléatoire, bien que la matrice
   et le second membre soient systématiquement les mêmes, les solutions rendues par MUMPS
   sont parfois complètement fausses. 
   Nous avons tenté de nombreuses analyses à l'aide de nos outils (Valgrind, recherche de
   variables non initialisées) et elles n'ont rien donné.
   
   En s'apercevant que ce problème n'apparaissait pas sur d'autres plate-formes, nous avons
   examiné le fichier de configuration de la compilation de Code_Aster où a été détectée un
   élément inutile.
   
   Lors de l'édition de liens avec la librairie Scotch, on se lie contre une librairie
   appelée scotchmetis.so. Il s'agit d'une librairie dont l'interface est la même que celle
   de Metis mais pour utiliser Scotch. Son utilisation est donc proscrite dans le cadre
   d'Aster. Nous l'avons supprimée et depuis tous les lancements de l'étude en question se
   sont bien terminés.
   
   Enfin, les réglages du mot-clé SOLVEUR recommandés sont les suivants :
   
   SOLVEUR=_F(METHODE = 'PETSC',
   . . . . .  ALGORITHME = 'GMRES',
   . . . . .  PRE_COND = 'LDLT_SP',
   . . . . .  ),
   
   Ainsi, en 3mn, sur 2 procs, on résout 12 pas de temps, alors que MUMPS en résout 3.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    Sans objet
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------
RESTITUTION FICHE 016739 DU 2011-04-05 15:45:46
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
    Erreur DYNA_NON_LINE et PETSc ou GCPC
FONCTIONNALITE
   Problème :
   ---------
   Si on veut utiliser PETSc avec DYNA_NON_LINE, le calcul échoue dans une assertion.
   
   Analyse :
   --------
   Dans la routine nmprac.f l.152, pour garantir le calcul de l'accélération initiale par
   résolution d'un système linéaire avec la matrice de masse, on va écrire dans la
   SD solveur à une adresse qui gère le mot-clé STOP_SINGULIER pour les solveurs directs.
   Malheureusement, pour les solveurs itératifs, il a des significations diverses : niveau de
   remplissage,
   compteur du nombre d'itérations.
   
   Solution :
   ---------
   On met (encore un peu plus) en cohérence les différentes SD solveurs. A savoir, on
   s'efforce de ne pas utiliser les adresses correspondant à des fonctionnalités très
   particulières d'un solveur pour les autres.
   De plus, on propose une nouvelles modélisation du cas test petsc01 qui utilise
   DYNA_NON_LINE.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : D4.06.11,V1.04.116
VALIDATION
    Passage de l'étude
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR brie         BRIE Nicolas           DATE 04/12/2011 - 01:49:12

--------------------------------------------------------------------------------
RESTITUTION FICHE 016350 DU 2011-02-02 12:47:17
TYPE anomalie concernant Documentation (VERSION *)
TITRE
    Correction de la doc R7.10.02 suite à la suppresion du POST_DYNA_MODAL
FONCTIONNALITE
   j'ai mis a jour la doc R7.10.02. En fait elle ne concerne que l'operateur POST_DYNA_MODA_T
   car l'operateur POST_USURE a sa propre doc R.
   La mise a jour de la doc R7.10.02 a consiste a :
   - remplacer POST_DYNA_MODAL par POST_DYNA_MODA_T
   - verifier (par un lancement de calcul) que les mot-cles mentionnes existent toujours
   - corriger quelques fautes et mises en page
   - mettre a jour l'exemple d'impression de post-traitement (annexe 1) car il datait d'une
   (tres) ancienne version d'Aster.
   
   J'ai soumis la nouvelle version dans la GED.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 4.3.17
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : R7.10.02
VALIDATION
    cas-test avec POST_DYNA_MODA_T
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST AJOUT petsc01h                      tardieu N.TARDIEU          119    119      0
 CASTEST AJOUT zzzz286a                      rezette C.REZETTE          290    290      0
 CASTEST MODIF fdlv112b                      greffet N.GREFFET          462      6      5
 CASTEST MODIF ssnp14a                      desroche X.DESROCHES        281     10      1
 CASTEST MODIF ssnp14b                      desroche X.DESROCHES        285     14      1
 CASTEST MODIF ssnp14c                      desroche X.DESROCHES        390     14      1
 CASTEST MODIF ssnp14d                      desroche X.DESROCHES        285     14      1
 CASTEST MODIF ssnp14e                      desroche X.DESROCHES        290     14      1
 CASTEST MODIF ssnp14f                      desroche X.DESROCHES        284     14      1
 CASTEST MODIF ssnp14g                      desroche X.DESROCHES        289     14      1
CATALOPY MODIF commande/affe_char_meca       rezette C.REZETTE          759     25      2
 FORTRAN AJOUT algeline/lspini               tardieu N.TARDIEU           65     65      0
 FORTRAN AJOUT modelisa/caarei               rezette C.REZETTE          399    399      0
 FORTRAN AJOUT modelisa/catang               rezette C.REZETTE          207    207      0
 FORTRAN MODIF algeline/crsvgc               tardieu N.TARDIEU          139      5      5
 FORTRAN MODIF algeline/crsvpe               tardieu N.TARDIEU          136      6      6
 FORTRAN MODIF algeline/gcpc                 tardieu N.TARDIEU          273      2      2
 FORTRAN MODIF algeline/op0014               tardieu N.TARDIEU          323      5      5
 FORTRAN MODIF algeline/pcmump               tardieu N.TARDIEU          102      3      3
 FORTRAN MODIF algorith/accel0               tardieu N.TARDIEU          166      6      2
 FORTRAN MODIF modelisa/charme               rezette C.REZETTE          321      7      4
FORTRAN90 MODIF petsc/apets3                  tardieu N.TARDIEU          208      2      2
FORTRAN90 MODIF petsc/apetsr                  tardieu N.TARDIEU          379      3      3


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    5        1080      1080             +1080
 MODIF :   18        5372       164      46      +118
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   23        6452      1244      46     +1198 
