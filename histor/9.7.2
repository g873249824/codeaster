

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR elgharib     EL-GHARIB Joumana      DATE 09/07/2010 - 14:08:36

--------------------------------------------------------------------------------
RESTITUTION FICHE 015255 DU 2010-06-25 08:06:24
TYPE aide utilisation concernant Code_Aster (VERSION 9.8)
TITRE
   probleme de convergence en analyse limite
FONCTIONNALITE
   Complément au premier message et récapitulatif des échanges par mail:
   
   Le fichier de commandes que j'ai attaché à la fiche fait appel à modélisation= 3D_SI. 
   Le maillage (fichier med attaché à la fiche), contient des éléments qui ne sont pas sous
   intégrés, remplacer par modélisation = 3D
   
   
   Vous remarquez que la valeur de PRES sous les mots clés PRES_REP et EFFE_FOND est égale à
   1. A ne pas modifier. La charge limite serait déduite directement du calcul. 
   
   charge limite inf = eta_pilotage * pres 
   
   eta_pilotage stabilisée en fin de calcul donne directement la valeur de la charge limite
   par multiplication par 1MPA.
   
   ci joint les fichiers de l'étude qui a tourné jusqu'au bout en ~2200s avec une charge
   limite inf de 8,22 MPa.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
   etude jointe
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 02/08/2010 - 14:32:47

--------------------------------------------------------------------------------
RESTITUTION FICHE 015248 DU 2010-06-23 15:40:58
TYPE aide utilisation concernant Code_Aster (VERSION 7.0)
TITRE
   Evaluation d'un champ de fonctions
FONCTIONNALITE
   Un utilisateur ne peut pas évaluer son champ de formule.
   La raison est que les noms des paramètres de la formule 
   contiennent des espaces : ' SIXX' !
   
   On fait deux améliorations :
   
   1. dans l'affichage du message, on fait ressortir l'erreur :
   
   ...!--------------------------------------------------------
   ---------------------------------!
   ...!.<A>.<FONCT0_51>........................................
   .................................!
   ...!........................................................
   .................................!
   ...!.Erreur.lors.de.l'interprétation.de.la.formule.'Pression
   '................................!
   ...!........................................................
   .................................!
   ...!.Les.paramètres.de.la.formule.n'ont.pas.été.fournis.....
   .................................!
   ...!.Paramètres.manquants.:.'.SIXY',.'.SIYY',.'.X'..........
   .................................!
   ...!........................................................
   .................................!
   ...!.Conseils.:.............................................
   .................................!
   ...!...Si.le.problème.reporté.ci-
   dessus.ressemble.à.'NameError:.name.'XXX'.is.not.defined.',.
   !
   ...!...vérifiez.que.le.paramètre.'XXX'.fait.bien.partie.des.
   paramètres.de.définition.de......!
   ...!...la.formule.(mot.clé.FORMULE./.NOM_PARA)..............
   .................................!
   ...!........................................................
   .................................!
   ...!........................................................
   .................................!
   ...!.Ceci.est.une.alarme..Si.vous.ne.comprenez.pas.le.sens.d
   e.cette..........................!
   ...!.alarme,.vous.pouvez.obtenir.des.résultats.inattendus.!.
   .................................!
   ...!--------------------------------------------------------
   ---------------------------------!
   
   
   2. mais ce message ne devrait plus se produire, on interdit 
   la création de la formule avec ces paramètres :
   
    Etape  FORMULE ligne :  3 fichier :  fort.1 nom de 
   paramètre invalide (contient des blancs) : ' SIXX'
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   test xc3xa9lxc3xa9mentaire + xc3xa9tude jointe
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desoza       DE SOZA Thomas         DATE 02/08/2010 - 14:32:47

--------------------------------------------------------------------------------
RESTITUTION FICHE 015148 DU 2010-06-03 12:53:58
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   initialisation dans mmnewd
FONCTIONNALITE
   Anomalie
   ========
   
   Martin G. (IFP) a trouvé un bug dans l'algorithme de projection avec direction de
   recherche imposée (l'algorithme n'est alors plus un Newton). Il est appelable pour toutes
   les méthodes de contact en spécifiant TYPE_APPA='FIXE'.
   
   Correction
   ==========
   
   En 3D, on initialisait une matrice de taille 2x2 comme si elle était de dimension 3x3 d'où
   un possible écrasement mémoire.
   On corrige dans MMNEWD.f
   
   Résultats faux
   ==============
   
   L'écrasement a pu produire de mauvais projetés et donc de mauvaises conditions de contact.
   Néanmoins ce type d'appariement est très peu utilisé.
   
   Correction à reporter en V9 (routine inchangée)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   astout tests avec TYPE_APPA='FIXE'
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR laverne      LAVERNE Jérôme       DATE 02/08/2010 - 14:32:48

--------------------------------------------------------------------------------
RESTITUTION FICHE 015149 DU 2010-06-03 13:11:01
TYPE anomalie concernant Code_Aster (VERSION 10.2)
TITRE
   xfem et forces volumiques : rotation, gravite, force interne
FONCTIONNALITE
   CONTEXTE :
   ---------
   Une approximation avait été réalisée dans le calcul des seconds membres 
   pour les chargements volumiques sur mailles xfem (non prise en compte 
   les termes enrichis fiche 12470, version 9.3.16 ). Si on prenait en 
   compte ces termes le résidu stagnait.
   La validation avait permis de constater que malgré l'approximation les 
   résultats étaient assez bon comparés à une fissure maillée.
   
   PROBLEME :
   ---------
   Survient un problème dans la visualisation des déformées avec chargement 
   pesanteur sur les éléments x-fem. Cela a permis de mettre en lumière une 
   mauvaise élimination des ddls en trop après le calcul des seconds 
   membres des forces volumiques. Si on réalise bien cette opération, cela 
   résout le problème rencontré mais également celui du résidu qui stagne 
   avec les termes enrichis.
   
   SOLUTION : 
   ---------
   - On réalise correctement l'élimination : dans xteddl.f il faut dire 
   explicitement que l'on élimine les ddl en trop (mise à zéro de la valeur 
   dans ZR(IVECTU)) pour une option donnée qui influence le second membre.
   - On ajoute les termes enrichis dans le calcul des forces volumiques : 
   FORCE_INTERNE, PESANTEUR ET ROTATION : modif de xfovol.f et xpesro.f
   - On a également constaté une coquille dans le te0440.f (option 
   FORCE_INTERNE) lors de l'appel de xteddl.f : passage du nombre noeud 
   sommet du sous-élément (NNOS) plutôt que du nombre de noeud sommet de 
   l'élément parent (NNOPS). Ce bug n'avait pas de conséquences jusqu'ici 
   puisqu'on ne faisait pas l'élimination.
   - Modifications à faire également en version 9.
   
   VALIDATION :
   ------------
   - passage perso de tous les tests xfem sur aster, calibre5, clpaster.
   
   - tests avec forces volumiques, Globalement impact négligeable sur les 
   tests aster :
   
   SSNV185t : ROTATION 3D (avec propa_fiss upwind), l'erreur reste dans la 
   tolérence de non-regression de 0.1% mais on ajuste quand même les vals 
   de référence.
   
   SSNV185s : ROTATION 3D (avec propa_fiss simplexe), l'erreur est de 0.7% 
   sur le KI par rapport à la non-regression, on ajuste les vals de 
   référence.
   
   SSLP323a : ROTATION 2D (avec propa_fiss simplexe), l'erreur reste de 
   l'ordre de 3% par rapport à une solution analytique, on ne touche a rien.
   
   SSNV185p : FORCE_INTERNE et PESANTEUR 3D, pas de sortie de tolérance sur 
   les calculs de KI en comparaison avec fissure maillée, petite différence 
   sur la non regression de la somme des déplacements, on ajuste les vals 
   de référence.
   
   SSNP138b : FORCE_INTERNE et PESANTEUR 2D, erreur de 0.35% sur certains 
   KI par rapport à la non regression, on ajuste toutes les vals de 
   référence, même celles qui ne sortent pas.
   
   SOURCES : 
   ---------
   MODIFS : te0440.f, xteddl.f, xfovol. xpesro.f, SSNV185t.comm, 
   SSNV185s.comm, SSNV185p.comm, SSNP138b.comm
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.04.185, V6.03.138
VALIDATION
   ssnv185pst, sslp323a,ssnp138b,tests xfem
NB_JOURS_TRAV  : 3.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR lefebvre     LEFEBVRE Jean-Pierre   DATE 02/08/2010 - 14:32:48

--------------------------------------------------------------------------------
RESTITUTION FICHE 015244 DU 2010-06-23 11:43:25
TYPE anomalie concernant Code_Aster (VERSION 7.0)
TITRE
   utilitai5_21 pas clair
FONCTIONNALITE
   Problème
   
   le message UTILITAI5_21 n'est pas clair : ''' nombre d'unites logiques ouvertes superieur
   a //k4b'''
   
   Analyse
   
   L'appel à UTMESS a été brutalement remplacé par U2MESS dans la routine ULOPEN et le
   catalogue attend un argument de type caractère. Autrefois on ajoutait une valeur entière
   codée en caractère dans le message à l'aide de //.
   
   Solution
   
   On passe un argument entier et on appelle U2MESI pour que le message affiche le nombre
   maximum autorisé (100).
   
   Le même type d'erreur est présent dans la routine SSDEIN et concerne le message
   SOUSTRUCT_44, je corrige dans la foulée.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   sans objet
NB_JOURS_TRAV  : 0.01
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR geniaut      GENIAUT Samuel         DATE 02/08/2010 - 14:32:48

--------------------------------------------------------------------------------
RESTITUTION FICHE 015359 DU 2010-07-19 11:48:14
TYPE express concernant Code_Aster (VERSION 9.8)
TITRE
   X-FEM : bug affichage XFEM_20 en NEW9
FONCTIONNALITE
   Problème :
   ----------
   
   P. Le Delliou a repéré un bug d'affichage du message xfem_20 dans xlorie en NEW9.
   
   
   
   Solution :
   ----------
   
   En cause, un 'blanc' en trop (qui a déjà été corrigé en NEW10)
               CALL U2MESS('F','XFEM _20')
   On corrige.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   test
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF ssnp138b                      macocco K.MACOCCO          390      5      5
 CASTEST MODIF ssnv185p                      macocco K.MACOCCO          368     15     14
CATALOPY MODIF commande/formule              macocco K.MACOCCO           50      6      3
 FORTRAN MODIF algorith/mmnewd               macocco K.MACOCCO          212      3      7
 FORTRAN MODIF elements/te0440               macocco K.MACOCCO          181      5      5
 FORTRAN MODIF elements/xfovol               macocco K.MACOCCO          241      3      5
 FORTRAN MODIF elements/xpesro               macocco K.MACOCCO          199      3      6
 FORTRAN MODIF elements/xteddl               macocco K.MACOCCO          242      8      2
 FORTRAN MODIF modelisa/xlorie               macocco K.MACOCCO          157      2      2
 FORTRAN MODIF soustruc/ssdein               macocco K.MACOCCO          252      7      3
 FORTRAN MODIF utilitai/ulopen               macocco K.MACOCCO          232      3      4
  PYTHON MODIF Build/B_ETAPE                 macocco K.MACOCCO          722      4      4
  PYTHON MODIF Messages/soustruc             macocco K.MACOCCO          438      2      2
  PYTHON MODIF Messages/utilitai5            macocco K.MACOCCO          300      2      2
  PYTHON MODIF Messages/xfem                 macocco K.MACOCCO          220      7      1


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    0           0         0                +0
 MODIF :   15        4204        75      65       +10
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   15        4204        75      65       +10 
