

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR boiteau      BOITEAU O.             DATE 12/06/2006 - 11:48:51

--------------------------------------------------------------------------------
RESTITUTION FICHE 009829 DU 2006-06-09 15:20:32
TYPE express concernant Code_Aster (VERSION 2.x)
NB_JOURS_TRAV  : 1.0
TITRE
   Rajout de mot-cle dans SOLVEUR pour MUMPS
FONCTIONNALITE
   Contexte
   ---------
   Collaboration CERFACS/EDF R&D autour de Code_Aster (affaire A119L)
   
   Fonctionnalite
   ---------------
   Il s'agit de la restitution d'un petit travail fait au CERFACS par X.Vasseur pour
   s'immerger en douceur dans l'installation, la programmation et l'utilisation de
   Code_Aster. Il a fait remonter au niveau de l'utilisateur Aster, dans le mot-cle SOLVEUR,
   deux nouveaux mot-cles: SCALING et RENUM:
   
   b_mumps   =BLOC(condition = "METHODE == 'MUMPS' ",fr="Parametres de la methode MUMPS",
   TYPE_RESOL=SIMP(statut='f',typ='TXM',defaut="AUTO",into=("NONSYM","SYMGEN","SYMDEF","AUTO"
   )),
   SCALING =SIMP(statut='f',typ='TXM',defaut="AUTO",into=("SANS","AUTO")),
   RENUM=SIMP(statut='f',typ='TXM',defaut="AUTO",into=("AMD","AMF","PORD","METIS","QAMD","AUT
   O")),
   PCENT_PIVOT=SIMP(statut='f',typ='I',defaut=80,),
   RESI_RELA=SIMP(statut='f',typ='R',defaut=1.E-6,),),
   
   Le premier, controle le type de pretraitement a operer au systeme pour
   "l'equilibrer".
   Pour l'instant, on laisse que deux possibilites: pas de scaling ('SANS') ou la meilleure
   combinaison de parametres choisie par MUMPS en fonction du pb ('AUTO').
   
   Le second, le type de renumeroteur: AMD, AMF, PORD, METIS (a linker en tant que
   librairie
   externe avec l'appel a MUMPS dans le config.txt), QAMD et la meilleure strategie retenue
   par MUMPS suivant le pb ('AUTO').
   
   L'espace par defaut alloue au pivotage a aussi ete augmente, passant de 20 a 80%.
   Valeur
   moyenne conseille par les utilisateurs du CERFACS.
   
   Validation
   -----------
   
   Tests fonctionnels et de non regression sur les cas-tests mumps01a/02a/03a/04a
   + cas-tests diffi* du benchmark de la note HI-23/06/04
   
   Perimetres des sources
   ----------------------
   dyna_non_line.capy,dyna_line_tran.capy,meca_statique.capy,nume_ddl.capy,
   stat_non_line.capy,ther_lineaire.capy,ther_non_line.capy,stat_non_line.capy,
   amumpc.f,amumpr.f,creso3.f,cresol.f,renuno.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.50.01,D4.06.11
VALIDATION
   fonctionnelle et de non-regression
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

9743


-----------------------------------------------------------------------

9687


-----------------------------------------------------------------------

9832


-----------------------------------------------------------------------

9766
9828


-----------------------------------------------------------------------

9670
9733
9757


========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF sdld313a                      cibhhlv L.VIVAN            128     18     27
 CASTEST MODIF sdnv107a                      greffet N.GREFFET          617      5     47
 CASTEST MODIF ssnv182f                      rezette C.REZETTE          201     22      1
 CASTEST MODIF ssnv185i                      rezette C.REZETTE          267     18      1
 CASTEST MODIF ssnv191a                      rezette C.REZETTE          477     21      2
 CASTEST MODIF ssnv191b                      rezette C.REZETTE          493     18      1
CATALOGU MODIF typelem/gener_me_x_2          rezette C.REZETTE          163     11      2
CATALOGU MODIF typelem/gener_me_xh_2         rezette C.REZETTE          124     19      9
CATALOGU MODIF typelem/gener_me_xht_2        rezette C.REZETTE          121     15      5
CATALOGU MODIF typelem/gener_me_xt_2         rezette C.REZETTE          122     16      5
CATALOPY MODIF commande/dyna_line_tran       boiteau O.BOITEAU          157      6      5
CATALOPY MODIF commande/dyna_non_line        boiteau O.BOITEAU          375      9      5
CATALOPY MODIF commande/macro_matr_asse      cibhhlv L.VIVAN             98      2      1
CATALOPY MODIF commande/meca_statique        boiteau O.BOITEAU          101      6      4
CATALOPY MODIF commande/modi_modele_xfem     geniaut S.GENIAUT           29      2      2
CATALOPY MODIF commande/nume_ddl             boiteau O.BOITEAU           44      3      3
CATALOPY MODIF commande/stat_non_line        boiteau O.BOITEAU          345     10      6
CATALOPY MODIF commande/ther_lineaire        boiteau O.BOITEAU           95      5      3
CATALOPY MODIF commande/ther_non_line        boiteau O.BOITEAU          118      6      4
 FORTRAN MODIF algeline/creso3               boiteau O.BOITEAU          129     20      7
 FORTRAN MODIF algorith/bmnbmd                boyere E.BOYERE           146      4      1
 FORTRAN MODIF algorith/cresol               boiteau O.BOITEAU          375      5      3
 FORTRAN MODIF algorith/pascom               greffet N.GREFFET          126      9      9
 FORTRAN MODIF algorith/xcrvol               geniaut S.GENIAUT          121      2      2
 FORTRAN MODIF algorith/xjacf2               geniaut S.GENIAUT          133      9      7
 FORTRAN MODIF algorith/xnrch3               geniaut S.GENIAUT          428      3      3
 FORTRAN MODIF algorith/xoripe               geniaut S.GENIAUT          312      5      5
 FORTRAN MODIF algorith/xrell2               geniaut S.GENIAUT          315      7      4
 FORTRAN MODIF algorith/xstan2               geniaut S.GENIAUT          247     33      9
 FORTRAN MODIF assembla/renuno               boiteau O.BOITEAU          186      9      3
 FORTRAN MODIF elements/te0515               rezette C.REZETTE          364    190     23
 FORTRAN MODIF elements/te0533               geniaut S.GENIAUT          597      3      3
 FORTRAN MODIF jeveux/jjimpo                 greffet N.GREFFET          210      3      3
 FORTRAN MODIF prepost/op0187                rezette C.REZETTE          890     66     28
 FORTRAN MODIF prepost/op0196                rezette C.REZETTE          554     46     14
FORTRAN90 MODIF mumps/amumpc                  boiteau O.BOITEAU          506     30      2
FORTRAN90 MODIF mumps/amumpr                  boiteau O.BOITEAU          509     31      2
  PYTHON MODIF Macro/macro_matr_asse_ops     cibhhlv L.VIVAN            158     11      2


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    0           0         0                +0
 MODIF :   38       10381       698     263      +435
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   38       10381       698     263      +435 
