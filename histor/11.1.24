

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desoza       DE SOZA Thomas         DATE 05/29/2012 - 01:22:47

--------------------------------------------------------------------------------
RESTITUTION FICHE 018877 DU 2012-05-18 15:42:10
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Regression entre STA11 et NEW11 : HYPER_ELAS/Charge suiveuse
FONCTIONNALITE
   Anomalie
   ========
   
   '''
   cette fiche est emise suite a l'analyse de la fiche EL 17881: Cas-test ELAS_HYPER avec
   chargement suiveur
   
   Les fichiers fournis dans le cadre de issue17881 avec chargement suiveur fonctionne bien
   avec la STA11 mais pas du tout avec la NEW11, la convergence n'est pas atteinte dès le
   premier pas => regression !!!
   '''
   
   Analyse
   =======
   
   Ce qui a changé concernant les chargements de type pression suiveuse entre la STA11 et la
   NEW11 c'est la restitution de issue18664 qui a modifié la manière de stocker la matrice de
   rigidité non symétrique : elle était en effet donnée en colonnes alors que CALCUL l'attend
   en lignes.
   
   Il s'est avéré que cette correction n'était bonne pour deux raisons :
   - d'une part cette correction a été mal faite (coquille dans l'écriture conduisant à lire
   n'importe quoi J*(NDDL-1) au lieu de (J-1)*NDDL)
   - d'autre part la routine NMPR.D qui produit la matrice de rigidité, calculait en fait la
   transposée et donc le fait de stocker la matrice en colonne la remettait "dans le bon sens"
   
   Deux autres problèmes ont été corrigés : 
   - en axisymétrique, la matrice de correction ne fonctionnait pas (cf issue17692). Bien que
   le terme additionnel rajouté n'est pas documenté, il semble qu'il était "mal" ajouté à la
   matrice de correction (problème de transposée encore)
   - lorsque l'on essayait de symétriser la matrice tangente globale avec un chargement
   suiveur, une erreur de programmation apparaissait. Il a suffi de rajouter l'option
   SYME_MDNS_R aux catalogues d'éléments 2D (sur lesquels sont calculés les termes de pression)
   
   Correction
   ==========
   
   On calcule désormais la vraie matrice de rigidité suiveuse et plus sa transposée. On la
   stocker en lignes comme demandé par CALCUL.
   On fusionne les TE de seconds membres et de matrices : 4 routines en moins.
   
   On réarrange globalement la programmation pour supprimer les passages d'adresses JEVEUX et
   travailler sur des tableaux à 2 entrées quand cela est possible.
   
   Validation
   ==========
   
   Tous les tests utilisant une pression suiveuse sont OK.
   
   La future fiche issue17881 validera le chargement suiveur plus en profondeur en 3D. Une
   fiche sera émise pour faire de même en 2D.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    liste suiveuse + test perso
NB_JOURS_TRAV  : 1.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR assire       ASSIRE Aimery          DATE 05/29/2012 - 04:00:39

--------------------------------------------------------------------------------
RESTITUTION FICHE 018826 DU 2012-05-07 09:14:34
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    CALC_EUROPLEXUS : problème avec la création des ORTS
FONCTIONNALITE
   Problème dans CALC_EUROPLEXUS :
   -------------------------------
   
   L'opérateur ne définit pas de "ORTS" pour tous les groupes affectés par GLRC. Le problème
   se produit lorsqu'on affecte le même matériau à deux lignes distinctes :
   
   AFFE=(._F(GROUP_MA.=.('DALQ1'),MATER.=.MAT1),
   ......._F(GROUP_MA.=.('DALQ2'),MATER.=.MAT1),
   
   
   Correction :
   ------------
   
   ligne 1061 :    self.gmaGLRC.extend(group_ma)
   n'est appelé que si le matériau n'était pas déjà présent dans dic_mater.
    ( ligne 1045 :   if not dic_mater.has_key(nom_mater):
   
   Il faut donc ajouter un else à ce if : 
   
   else :
   ....if beton:
   ........self.gmaGLRC.extend(group_ma)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    plexu02a
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR brie         BRIE Nicolas           DATE 05/29/2012 - 05:22:32

--------------------------------------------------------------------------------
RESTITUTION FICHE 018868 DU 2012-05-15 09:52:00
TYPE anomalie concernant Code_Aster (VERSION 11.1)
TITRE
    NORM_MODE : bug si modes issus de DEFI_BASE_MODALE et norme par rapport xc3xa0 une matrice
FONCTIONNALITE
   Probleme:
   l'operateur NORM_MODE plante avec un message pas clair lorsqu'on essaie de normer des
   modes issus de DEFI_BASE_MODALE, mais qu'on n'a pas donne en entree de NORME_MODE les deux
   matrices MASSE et RAIDE. Le message (variant selon le cas) est du type :
      !-----------------------------------------------------------------------------------!
      ! <EXCEPTION> <JEVEUX_26>                                                           !
      !                                                                                   !
      !      Objet JEVEUX inexistant dans les bases ouvertes : >????????           .REFA< !
      !      l'objet n'a pas Ã©tÃ© crÃ©Ã© ou il a Ã©tÃ© dÃ©truit                            
       !
      !-----------------------------------------------------------------------------------!
   Si la base modale contient des modes complexes et qu'on n'a pas donne de matrice AMOR en
   entree, on obtient un message similaire.
   
   ---------------------
   Solution:
   On ajoute des filtres dans les sources fortran (ce n'est pas possible dans le catalogue de
   commande).
   Au cours d'une boucle deja existante sur les modes presents dans le concept d'entree, on
   teste le caractere reel ou complexe des modes.
   Si la base ne contient que des modes reels, on renvoie le nouveau message suivant
   (ALGELINE_6) si l'utilisateur n'a pas renseigne a la fois RAIDE et MASSE (les deux sont
   necessaires pour recalculer les parametres modaux) :
     
   !-----------------------------------------------------------------------------------------------------------------!
      ! <F> <ALGELINE_6>                                                                    
                              !
      !                                                                                     
                              !
      !  La base modale Ã  normer est issue de DEFI_BASE_MODALE.                            
                               !
      !  Pour pouvoir mettre à jour les paramÃ¨tres modaux, il faut donc donner les matrices
   de raideur et de masse. !
      !  ---------                                                                          
                              !
      !  Conseil :                                                                          
                              !
      !  Renseignez les mot-clÃ©s RAIDE et MASSE.                                           
                               !
      !                                                                                     
                              !
      !                                                                                     
                              !
      ! Cette erreur est fatale. Le code s'arrÃªte.                                         
                               !
     
   !-----------------------------------------------------------------------------------------------------------------!
   
   Si la base contient des modes complexes, et que l'utilisateur n'a pas renseigne en plus le
   mot-cle AMOR, un nouveau message (ALGELINE_8) est emis :
      !--------------------------------------------------------------------------------!
      ! <F> <ALGELINE_8>                                                               !
      !                                                                                !
      !  La base modale est issue de DEFI_BASE_MODALE et contient des modes complexes. !
      !  Pour normer par rapport Ã  RIGI_GENE ou MASS_GENE,                             !
      !  il faut donner une matrice d'amortissement.                                   !
      !  ---------                                                                     !
      !  Conseil :                                                                     !
      !  Renseignez le mot-clÃ© AMOR.                                                   !
      !                                                                                !
      !                                                                                !
      ! Cette erreur est fatale. Le code s'arrÃªte.                                     !
      !--------------------------------------------------------------------------------!
   
   --------------
   Impacts
   * fortran :  op0037.f
   * python :   algeline.py
   * doc :      U4.52.11 (NORM_MODE)
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : U4.52.11
VALIDATION
    cas-test avec NORM_MODE + test personnel
NB_JOURS_TRAV  : 2.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 29/05/2012 - 17:09:47

--------------------------------------------------------------------------------
RESTITUTION FICHE 018891 DU 2012-05-22 14:02:50
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    STANLEY plante sur la base issue du wizzard CrackAnalysis
FONCTIONNALITE
   Problème
   ========
   
   Stanley s'arrête brutalement (KeyError) lors de l'analyse de la base produite par 
   le *wizard xfem crack analysis*.
   
   Correction
   ==========
   
   Le problème est lié au concept 'RE_VISU' dans lequel on ne retrouve pas la 
   référence au cham_mater.
   Stanley repère deux evol_noli 'RESU' et 'RE_VISU', il ne garde pas 'RE_VISU' à 
   cause de l'absence du cham_mater, mais il ne met pas la liste des evol_noli à jour. 
   D'où l'erreur fatale.
   
   Il faut donc également supprimer le concept de la liste si on ne le conserve pas 
   pour d'autres raisons.
   
   Rem : issue18900 trace le fait que POST_CHAM_XFEM ne renseigne pas le cham_mater 
   dans le résultat qu'il construit.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    xc3xa9tude jointe
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 018728 DU 2012-04-16 12:09:35
TYPE aide utilisation concernant Code_Aster (VERSION 10.5)
TITRE
    <F>_ABNORMAL_ABORT inattendu
FONCTIONNALITE
   D'après l'output fourni, le calcul se termine anormalement mais sans qu'on ait la 
   trace de l'erreur.
   On n'a pas les fichiers pour rejouer. On classe sans suite.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    neant
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 018894 DU 2012-05-23 06:57:29
TYPE evolution concernant Code_Aster (VERSION )
TITRE
    message modelisa4_18
FONCTIONNALITE
   On supprime les espaces en trop dans le message MODELISA4_18.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    ras
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 018909 DU 2012-05-24 10:07:38
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.01.23, le cas-test erreu09b est NOOK sur Calibre7.
FONCTIONNALITE
   Le cas-test passe correctement.
   L'exception ArretCPUError est bien levée et interceptée.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    erreu09b
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR delmas       DELMAS Josselin        DATE 29/05/2012 - 16:53:37

--------------------------------------------------------------------------------
RESTITUTION FICHE 018906 DU 2012-05-24 09:25:32
TYPE express concernant Code_Aster (VERSION 11.1)
TITRE
    Write de debug a supprimer
FONCTIONNALITE
   Suite à la restitution de la fiche issue18639, des instructions WRITE de debug ont été
   oubliées.
   
   On les supprime.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    *
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 018897 DU 2012-05-23 07:30:13
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Plantage dans CREA_MAILLAGE / ECLA_PG
FONCTIONNALITE
   Problème :
   ========
   À l'occasion de la recette de Stanley, un problème a été détecté dans sdnv103d : le champ
   VARI_ELGA conduit à un plantage.
   
   Correction :
   ==========
   Le problème vient de la commande CREA_MAILLAGE / ECLA_PG.
   On calcule pour chaque grel le nombre de sous-élément à créer (eclaty.f). On considère le
   cas 2D et 3D. Mais le cas 1D est mal prévu et conduit à des variables non initialisées qui
   sont sommées produisant un nombre trop grand.
   
   Pour y remédier, lorsqu'on n'est ni dans dans le cas 2D ou 3D, la routine renvoie un
   nombre de sous-élément nul.
   
   Impact :
   ======
   F:
   eclaty.f
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    passge de sdnv103d + stanley
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR geniaut      GENIAUT Samuel         DATE 05/29/2012 - 05:03:07

--------------------------------------------------------------------------------
RESTITUTION FICHE 018861 DU 2012-05-14 09:45:18
TYPE express concernant Code_Aster (VERSION 11.2)
TITRE
    scripts de maillage salome pour crack01a et b
FONCTIONNALITE
   Les fichiers crack01a.datg et crack01b.datg sont de siimples "dump study" réalisés à
   partir de manipulations graphiques.
   
   On met à jour ces fichiers de telles sorte qu'ils soient de "vrais" scripts salomé.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    tests
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 018516 DU 2012-03-07 10:04:23
TYPE evolution concernant Documentation (VERSION )
TITRE
    U2.05.01 : restriction a l'approche classique pour la rupture + doc u2 GTP
FONCTIONNALITE
   En complément de la fiche 18515 qui consiste à créer une doc d'aiguillage pour la rupture
   (u2.05.00), La doc U2.05.01 est désormais restreinte à l'approche classique (élasticité
   non linéaire).
   La doc U2.05.01 n'est plus une doc d'aiguillage.
   
   nouveau titre de u2.05.01 : Notice d'utilisation des opérateurs de mécanique de la rupture
   pour l'approche classique (élasticité non-linéaire)
   
   De plus, on en profite pour créer une nouvelle doc U2, pour l'approche GTP : 
   u2.05.09 : "Notice d'utilisation de l'approche GTP"
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : U2.05.01, U2.05.09
VALIDATION
    neant
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 018641 DU 2012-03-30 10:05:25
TYPE anomalie concernant Code_Aster (VERSION 11.2)
TITRE
    Codes retour des LDC mal traites pas STAT_NON_LINE + ARRET=NON + DIVE_ERRE
FONCTIONNALITE
   Problème
   ========
   
   Le processus ARRET='NON' ne semble pas fonctionner en cas d'erreur dans l'intégration de
   la loi de comportement, on tombe sur un call assert(.false.)
   
   asteru             0000000000563E4C  assert_                    30  assert.f
   asteru             00000000012EFA40  nmactp_                   105  nmactp.f
   asteru             0000000000EADD06  nmpost_                   189  nmpost.f
   asteru             00000000007036F6  op0070_                   248  op0070.f
   
   Solution
   ========
   
   C'était effectivement le cas à la date de cette fiche en NEW11 (soit, probablement, la
   version 11.1.15).
   En essayant en NEW11 (après la ré-écriture de la gestion de convergence dans
   STAT_NON_LINE), tout se passe normalement.
   On classe donc la fiche sans suite.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    test
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR granet       GRANET Sylvie          DATE 05/29/2012 - 09:54:43

--------------------------------------------------------------------------------
RESTITUTION FICHE 018847 DU 2012-05-10 18:08:42
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.01.21, le cas-test wtnp119e est NOOK sur Rocks.
FONCTIONNALITE
   Dans le wtnp119e, il y a un TEST_RESU sur une valeur de contrainte dont le résultat est
   nul. Il faut donc faire un TEST_RESU avec un critère absolu sur zéro. 
   Ce n'était pas le cas (critère relatif sur un epsilon) : du coup les valeurs obtenues
   (proches de zéro) différant suivant les machines entrainent des erreurs sur rocks. 
   ON passe en critère absolu.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V7.32.119
VALIDATION
    Passage de wtnp119e sur les différentes machines
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR greffet      GREFFET Nicolas        DATE 29/05/2012 - 14:14:15

--------------------------------------------------------------------------------
RESTITUTION FICHE 018862 DU 2012-05-14 11:35:26
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.1.22, le test miss03c a vu son temps CPU augmenter
FONCTIONNALITE
   Probl?me : suite ? la restitution de la fiche issue18763 , le temps CPU du 
   cas-test miss03c a beaucoup augment? (facteur 10 environ).
   
   
   Analyse : lors de l'EDA de la fiche issue18763 j'avais pr?venu que le 
   temps CPU de miss03c allait fortement augmenter : en effet, au lieu de 
   lire les fichiers de sol (imp?dance et force sismique) on va les 
   recalculer compl?tement, ce qui n'a rien ? voir en termes de calculs ? 
   faire.
   Cette augmentation du temps CPU est encore plus probl?matique sur la 
   machine la plus lente : clpaster (on d?passe 2 h de CPU).
   
   Si on veut calculer une solution transitoire dont la qualit? reste bonne 
   (l'?cart aux valeurs de r?f?rence restant inf?rieur ? 16 %) on peut 
   optimiser le temps CPU pour arriver ? 1000 s sur Calibre 7 (760 s sur 
   aster4). Pour cela on joue sur les param?tres suivants du test :
   - coupure en fr?quence de la base modale,
   - pas de temps de calcul (et donc archivage de DNL) et temps final pour 
   CALC_MISS en mode Temps-Laplace,
   - temps final pour DNL.
   Si on veut encore baisser le temps CPU, alors la solution obtenue ne peut 
   plus ?tre compar?e directement aux valeurs de r?f?rence d'origine.
   
   
   Solution : 
   on veut encore baisser le temps CPU donc on va utiliser des instants 
   finaux encore plus petits et on va modifier les tests pour n'avoir que des 
   tests de non-regression.
   Le temps CPU passe alors ? 120 s sur aster4, 150 s sur Calibre 7 et 340 s 
   sur clpaster.
   Au niveau des r?sultats (valeurs de r?f?rences de non r?gression obtenues 
   sur aster4) on remarque que :
   - sur aster4, Calibre 5 et Calibre 7 les r?sultats sont tr?s proches : une 
   tol?rance de 1.E-10 % passe,
   - sur clpaster les r?sultats bougent un peu : on doit augmenter la 
   tol?rance ? 2.E-5 % pour passer.
   
   
   Impacts :
   miss03c.comm (on a mis en commentaire toutes les informations pour 
   retrouver les valeurs de r?f?rence du cas-test dans sa version longue, 
   ainsi que les tests correspondants)
   miss03c.para (on passe le temps CPU ? 400 s et la m?moire de 2000 ? 1000 
   Mo)
   V1.10.122
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : V1.10.122
VALIDATION
    miss03c
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR sfayolle     FAYOLLE Sebastien      DATE 05/29/2012 - 11:06:24

--------------------------------------------------------------------------------
RESTITUTION FICHE 018902 DU 2012-05-24 07:12:23
TYPE anomalie concernant Code_Aster (VERSION 11.1)
TITRE
    Plantage dans plexu02a
FONCTIONNALITE
   Problème
   ~~~~~~~~~
   
   Suite à ma restitution 18677, le cas test plexu02a ne fonctionne plus.
   En effet, les mesages d'erreur sont explicites :
   _il manque EAT
   _le type attendu pour MPIJ n'est pas le bon.
   
   Correction
   ~~~~~~~~~~~
   
   Le premier problème vient du fait que j'ai rendu obligatoire le renseignement de EAT (module d'Young des 
   aciers transverses) quand on renseigne une densité de ferraillage d'aciers transverse OMT.
   
   Le deuxième problème vient du fait que pour une plus grande lisibilité, dans la fiche 18677, j'ai introduit 
   des nouveaux mots clés. En effet, les MPIJ sont des réels et les MPIJ_FO sont des fonctions. Ils suffit de 
   remplacer dans le cas test MPIJ par MPIJ_FO et transformer les DEFI_LIST_REEL en DEFI_FONCTION.
   
   Impact
   ~~~~~~~~
   
   plexu02a.comm
   
   Validation
   ~~~~~~~~~~~~
   
   Cas test plexu02a
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    cas test
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR massin       MASSIN Patrick         DATE 05/29/2012 - 03:49:13

--------------------------------------------------------------------------------
RESTITUTION FICHE 018725 DU 2012-04-16 11:51:27
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.01.17, le cas-test ssnp505b s'arrete anormalement sur Aster4, Rocks, Calibre5 et Calibre7.
FONCTIONNALITE
   Problème
   ==========
   En NEW11.01.17, le cas-test ssnp505b s'arrête anormalement sur Aster4, Rocks, Calibre5 et
   Calibre7. Arrêt par échec dans la boucle de point fixe sur le statut de contact.
   
   
   Raison
   ==========
   La nouvelle version d'Homard a mis en évidence une mauvaise mise à jour des statuts de
   contact dans le TE0532 qui provoque une oscillation numérique et donc une non convergence
   dans la boucle sur le statut de contact.
   
   
   Solution
   ==========
   Lorsqu'un noeud est contactant, il faut vérifier que la pression de contact est négative
   (dans le cas contraire, il faut sinon changer son statut de contact). Dans la méthode
   classique (ie non X-FEM), ce test porte sur le lagrangien augmenté via la condition (voir
   mmstac.f) :
   
   IF ((LAMBDC-COEFAC*JEU).LE.R8PREM()) THEN
     INDCON = 1
   ELSE
     INDCON = 0
   ENDIF
    
   
   Dans XFEM, le test était plus lâche et portait sur le lagrangien de contact. On modifie
   donc le TE0532 pour se conformer à la méthode classique.
   L'ensemble des cas tests X-FEM sont OK après modification.
   
   
   Impact
   ==========
   FORTRAN : TE0532
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
    cas-tests X-FEM
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR proix        PROIX Jean-Michel      DATE 05/29/2012 - 11:03:36

--------------------------------------------------------------------------------
RESTITUTION FICHE 018916 DU 2012-05-29 07:08:54
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    Petites corrections dans la loi monocristalline DD_CC
FONCTIONNALITE
   Suite à des calculs effectués dans le cadre de Perform, nous nous sommes aperçus que l'une
   des expressions utilisées dans le fortran du comportement MONO_DD_CC était valable
   uniquement en unités SI.
   On corrige donc pour que cette expression soit insensible aux unités :
   
   LC=1.4D-12 * TEMP * TEMP
   devient
   LC=500.D0*B*(TEMP/300.D0)**2
   où B est homogène à une longueur, et TEMP en Kelvin
   
   Tous les tests de MONO_DD_CC sont utilisés pour la validation : ssnd110b, ssnd110d,
   ssnd112d, ssnv194d
   
   Les résultats étaient faux seulement pour MONO_DD_CC, si le système d'unités n'était pas S.I.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 11.1.18
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : v6.08.112
VALIDATION
    ssnd110b, ssnd110d, ssnd112d, ssnv194d
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------



-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR tardieu      TARDIEU Nicolas        DATE 05/29/2012 - 11:11:09

--------------------------------------------------------------------------------
RESTITUTION FICHE 018890 DU 2012-05-22 13:51:02
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    bug message MUMPS
FONCTIONNALITE
   Problème :
   ----------
   Avec MUMPS, il y a un bug, le nombre de décimales perdues est erroné.
   Dans le message, c'est NPREC (renseigné par l'utilisateur) qui semble être affiché :
   Dans le cas présent, on a mis NPREC=3 :
   
   !----------------------------------------------------------------------------------------------------------------!
      ! <EXCEPTION> <FACTOR_10>                                                             
                             !
      !                                                                                     
                             !
      ! ProblÃ¨me : la matrice n'est pas factorisable :                                     
                              !
      !   Lors de la factorisation de la matrice, on a rencontrÃ© un problÃ¨me              
                               !
      !   (pivot nul ou presque nul) Ã  la ligne 9852                                       
                              !
      !   Le degrÃ© de libertÃ© associÃ© Ã  cette ligne est de type : (A)                   
                                 !
      !   Le nombre de dÃ©cimales "perdues" pour cette ligne est : 3.                       
                              !
   
   Solution :
   ----------
   Il ne s'agit pas d'un bug : dans la doc [U2.08.03], il est dit que MUMPS ne sait pas
   fournir le nombre de décimales perdues mais imprime NPREC. Cela est lié à la méthode de
   détection des singularités de MUMPS.
   
   On complète le message FACTOR_10 :
   * Si le solveur utilisé est MUMPS, on sait que l'on a perdu plus de décimales que la
   limite autorisée
     par le mot-clé NPREC mais on ne sait pas précisément combien.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : 
VALIDATION
    Sans objet
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 018910 DU 2012-05-24 10:23:35
TYPE anomalie concernant Code_Aster (VERSION 10.5)
TITRE
    En NEW11.01.23, le cas-test sdnv103h est NOOK sur Rocks.
FONCTIONNALITE
   Problème :
   ----------
   En NEW11.01.23, le cas-test sdnv103h est NOOK sur Rocks. 
   NOOK  NON_REGRESSION   XXXX             289.96538798755  289.958853228    2.25E-03%      
    2.0E-03%
   
   Solution :
   ----------
   Je modifie la tolérance à 3.E-3%.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  NON
RESTITUTION_VERSION_DEVELOPPEMENT :  NON
IMPACT_DOCUMENTAIRE : V5.03.103
VALIDATION
    Passage du test sur toutes les plate-formes
NB_JOURS_TRAV  : 0.2
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF crack01a                      geniaut S.GENIAUT          225      1      1
 CASTEST MODIF crack01b                      geniaut S.GENIAUT          206      1      1
 CASTEST MODIF miss03c                       greffet N.GREFFET         1176    194    117
 CASTEST MODIF plexu02a                     lefebvre J-P.LEFEBVRE       587      8      8
 CASTEST MODIF sdnv103h                      tardieu N.TARDIEU          518      2      2
 CASTEST MODIF ssnd110b                        proix J-M.PROIX          727      1      1
 CASTEST MODIF ssnd110d                        proix J-M.PROIX          621      1      1
 CASTEST MODIF ssnd112d                        proix J-M.PROIX          506      7      7
 CASTEST MODIF ssnv194d                        proix J-M.PROIX          401      1      1
 CASTEST MODIF wtnp119e                       granet S.GRANET           453      6     21
CATALOGU MODIF typelem/gener_me3d_2            abbas M.ABBAS            217      5      3
CATALOGU MODIF typelem/gener_medpl1            abbas M.ABBAS            166      3      3
 FORTRAN MODIF algeline/op0037                  brie N.BRIE             665     21      7
 FORTRAN MODIF algorith/lcddcc                 proix J-M.PROIX          295      6      3
 FORTRAN MODIF algorith/nmpr2d                 abbas M.ABBAS            127     27     45
 FORTRAN MODIF algorith/nmpr3d                 abbas M.ABBAS             96     14     14
 FORTRAN MODIF algorith/subac1                 abbas M.ABBAS             71     10     32
 FORTRAN MODIF calculel/eclaty                delmas J.DELMAS           113      2      4
 FORTRAN MODIF elements/te0031                delmas J.DELMAS           436    170    169
 FORTRAN MODIF elements/te0422                 abbas M.ABBAS             30      6     65
 FORTRAN MODIF elements/te0423                 abbas M.ABBAS             30     11     88
 FORTRAN MODIF elements/te0424                 abbas M.ABBAS            148     32     15
 FORTRAN MODIF elements/te0425                 abbas M.ABBAS            171     30     12
 FORTRAN MODIF elements/te0532                massin P.MASSIN           392      4      3
 FORTRAN MODIF elements/te0571                 abbas M.ABBAS             30      4     73
 FORTRAN MODIF elements/te0572                 abbas M.ABBAS             30      5     85
 FORTRAN MODIF elements/te0573                 abbas M.ABBAS            154     40     23
 FORTRAN MODIF elements/te0574                 abbas M.ABBAS            171     37     19
  PYTHON MODIF Macro/calc_europlexus_ops      assire A.ASSIRE          2620      4      1
  PYTHON MODIF Messages/algeline                brie N.BRIE             445     20      2
  PYTHON MODIF Messages/algorith10             abbas M.ABBAS            245      1      5
  PYTHON MODIF Messages/algorith8              abbas M.ABBAS            225      8      4
  PYTHON MODIF Messages/elements4              abbas M.ABBAS            239      1      9
  PYTHON MODIF Messages/modelisa4           courtois M.COURTOIS         436      2      2
  PYTHON MODIF Stanley/stanley_engine       courtois M.COURTOIS        3357      8      7


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    0           0         0                +0
 MODIF :   35       16329       693     853      -160
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   35       16329       693     853      -160 
