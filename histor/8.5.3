

-----------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR devesa       DEVESA Georges         DATE 05/09/2007 - 17:30:12

--------------------------------------------------------------------------------
RESTITUTION FICHE 010822 DU 2007-05-02 11:48:25
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   CALC_AMOR_MODAL
FONCTIONNALITE
   Le problème vient effectivement du fait que l'on veut récupérer l'énergie 
   potentielle sur un groupe de mailles où elle n'a pas été calculée.
   On signale donc ce problème dans OP0172 par une alarme quand il intervient.
   Sa recherche a permis par ailleurs de mettre en évidence un autre problème. 
   L'extraction sur la table d'énergie potentielle de l'énergie sur un groupe de 
   mailles pour un mode donné se fait à partir de la variable d'accès FREQ. Or, 
   dans le cas de symétrie et de modes doubles, il y a confusion et on obtient 
   plusieurs valeurs en sortie. Ce problème n'était guère visible jusqu'alors car 
   pour avoir avoir des modes doubles, cela implique à la fois symétrie 
   géométrique et des caractéristiques et donc aussi des énergies en sortie. Les 
   fonctions d'amortissement de sol sont généralement égales en cas de symétrie 
   et donc ce bug est généralement incognito. Cependant, au cas où ces fonctions 
   seraient différentes, on perdrait l'égalité des amortissements modaux. Le seul 
   cas test qui poserait problème est le test SDLL138A où les fonctions en X et Y 
   diffèrent un peu. En utilisant NUME_ORDRE comme variable d'accès à la place de 
   FREQ dans OP0172, on constate que les précisions de ce test bougent de 1.D-6 à 
   1.D-5 environ. On ajuste donc ses valeurs de référence en changeant parfois le 
   sixième chiffre significatif.
   Correction à apporter en V8 et V9.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   cas test SDLL138A
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------
RESTITUTION FICHE 011149 DU 2007-07-31 10:35:35
TYPE express concernant Code_Aster (VERSION 2.x)
TITRE
   LIRE_IMPE_MISS taille de bloc
FONCTIONNALITE
   Pour traiter les problèmes avec beaucoup de modes 
   (NBMODE > 1280) avec LIRE_IMPE_MISS, afin d'éviter 
   d'augmenter TAILLE_BLOC dans DEBUT, on corrige dans la 
   routine OP0164 de LIRE_IMPE_MISS la taille de la matrice 
   généralisée en sortie avec le nombre de termes exact 
   NBMODE*(NBMODE+1)/2 au lieu du nombre de termes par bloc 
   NTBLOC (= 800 K par défaut).
   Cette correction doit intervenir en V8 et V9
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   xc3xa9tude
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR lefebvre     LEFEBVRE Jean-Pierre   DATE 05/09/2007 - 17:30:13

--------------------------------------------------------------------------------
RESTITUTION FICHE 010400 DU 2006-12-19 14:52:00
TYPE evolution concernant Code_Aster (VERSION )
TITRE
   une amxc3xa9lioration de jxveri.f
FONCTIONNALITE
   Ce n'est pas le role de la routine JXVERI. 
   
   La routine JEECRA aurait du vérifier au fur et à mesure de la création des objets de
   collection contigue que la longueur cumulée était toujours inférieure à la valeur de
   l'attribut LONT lorsque ce dernier existe. Ce n'était pas le cas, je corrige le test et on
   devrait maintenant s'arreter avec un message d'erreur.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   test personnel
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR durand       DURAND Christophe      DATE 05/09/2007 - 17:30:13

--------------------------------------------------------------------------------
RESTITUTION FICHE 011158 DU 2007-08-03 08:38:38
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   NEW8.5.2, le cas test hsna120a s'arrete en ARRET_ANORMAL (R)
FONCTIONNALITE
   Problème identifié par Jean-Pierre Lefebvre :
   Suite à une panne de courant, les noeuds d'exécution ont été réinstallés ... mais sans le
   lien GMSH. C'est maintenant corrigé et le test tourne.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   test concernxc3xa9
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------
RESTITUTION FICHE 011159 DU 2007-08-03 08:42:45
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   NEW8.5.2, le cas test zzzz141a s'arrete en ARRET_ANORMAL (R)
FONCTIONNALITE
   Problème identifié par Jean-Pierre Lefebvre :
   Suite à une panne de courant, les noeuds d'exécution ont été réinstallés ... mais sans le
   lien GMSH. C'est maintenant corrigé et le test tourne.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   test concernxc3xa9
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR desroches    DESROCHES Xavier       DATE 05/09/2007 - 17:30:14

--------------------------------------------------------------------------------
RESTITUTION FICHE 011151 DU 2007-07-31 15:51:41
TYPE anomalie concernant Code_Aster (VERSION 8.6)
TITRE
   Problxc3xa8me STAT NON LIN, AFFE CHAR MECA F, FORCE ARETE
FONCTIONNALITE
   Il y avait effectivement un bug dans FORCE_ARETE fonction
   mais uniquement sur les éléments 3D. Ce bug faisait que le 
   chargement n'était pas pris en compte, donc donnait des 
   résultats faux si le chargement était non nul (cas de la 
   fiche).
   
   Or le seul test dans Aster qui utilise FORCE_ARETE fonction
   sur les éléments 3D est un test de non régression (SSLV200A 
   et B) qui ne vérifie pas si le chargement est bien pris en 
   compte ou non.
   Le chargement étant maintenant pris en compte, on modifie 
   les TEST_RESU de ce test en conséquence.
   
   Les autres chargements FORCE_ARETE étaient corrects.
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 3.6.10
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   SSLV200A  SSLV200B
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR courtois     COURTOIS Mathieu       DATE 05/09/2007 - 17:30:15

--------------------------------------------------------------------------------
RESTITUTION FICHE 011130 DU 2007-07-20 11:55:36
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TMA : CS
TITRE
   PRE_GIBI erreur <JEVEUX_26> pour l'objet >&&GILIRE.NOMOBJ<
FONCTIONNALITE
   Le fichier de maillage au format gibi ne contenait aucun objet de maillage. La création
   de l'objet &&GILIRE.NOMOBJ était alors sauté.
   Pour avoir un message plus clair, on teste l'existence de cet objet avant de récupérer son
   adresse. En cas d'absence on émet une ERREUR_F avec le message suivant :
   
   46: _("""
    erreur dans la création du fichier de maillage au format GIBI.
    Celui-ci ne contient pas d'objet de type maillage.
    
    Risque & Conseil:
    Assurez vous que votre procédure gibi sauvegarde bien les objets du maillage (pile 32
   dans le formalisme GIBI)
   """),
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   ras
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR geniaut      GENIAUT Samuel         DATE 05/09/2007 - 17:30:15

--------------------------------------------------------------------------------
RESTITUTION FICHE 011055 DU 2007-07-06 13:46:35
TYPE anomalie concernant Code_Aster (VERSION 9.1)
TITRE
   erreur calcul K2 pour CALC_G en 3D
FONCTIONNALITE
   Problème :
   ----------
   
   On a constaté que les formules utilisées pour le champ asymptotique en mode II sont fausses.
   Cela se traduit par des résultats faux sur K2.
   Cadre : CALC_C en 3D (option CALC_K_G et CALC_K_G_F)
   
   
   Correction :
   ------------
   
   On corrige les formules fausses pour le champ de déplacement en mode II (et sa dérivée).
   impact : chauxi.f, te0295.f, te0461.f
   
   
   validation :
   ------------
   
   On ajoute un cas de chargement au cas test ssnv185l (FISSURE DEBOUCHANTE DANS UNE PLAQUE
   3D DE LARGEUR FINIE AVEC X-FEM).
   Ce chargement correspond à des forces surcafiques appliquées sur tout le bord de la
   structure, ces forces correspondent à la solution en contraintes d'un mode II pur.
   La solution analytique est K1=0, K2=1 et K3=0.
   L'écart relatif sur K2 est inférieur à 1%.
   
   Ce test permet de valider les éléments X-FEM et les éléments classiques, car certaines
   couronnes du champ theta sont suffisamment grandes pour impacter les éléments classiques.
   
   (à faire aussi en version d'exploitation)
   
   Pour la NEW8 :
   --------------
   
   Remarque : les fortran ont en fait déjà été restitués en NEW9.
   La référence est donc la NEW9.
   En version 8, les modifs à faire sont :
   
   - chauxi.f :
   lignes 97-110 de la NEW8 à remplacer par les lignes correspondantes de la NEW9 (106-119)
   
   
   - te0295.f :
   lignes 422-435 de la NEW8 à remplacer par les lignes correspondantes de la NEW9 (431-444)
   
   - te0461.f : 
   j'ai oublié de le restituer...
   le fichier te0461.f de la NEW9 est encore faux.
   j'incorporerais ce fichier la prochaine fois en NEW9.
   le fichier corrigé se trouve sur la bull:
   /home/geniaut/ast_dev/RESTIT/fort/te0461.f
   lignes 345-362 de la NEW8 a remplacer par celle du fichier ci-dessus (lignes 34-359)
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 7.2.24
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 9.0.0
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : V6.04.185
VALIDATION
   ssnv185l
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR pellet       PELLET Jacques         DATE 05/09/2007 - 17:30:16

--------------------------------------------------------------------------------
RESTITUTION FICHE 008493 DU 2005-03-11 00:00:00
TYPE anomalie concernant Code_Aster (VERSION 8.0)
TITRE
   gestion de la memoire avec MULT_FRONT
FONCTIONNALITE
   problème :
   Jean-Pierre a mis en évidence un problème de gestion de la mémoire avec MULT_FRONT si
   "pile en collection dispersée"
   
   Solution :
   Effectivement, il y avait un bug dans mltfcb.f et mltccb.f
   Deux variables portaient le meme nom (nb).
   
   => 2 routines à corriger (également en NEW8).
   
   Résultats faux : non : on se plante.
RESU_FAUX_VERSION_EXPLOITATION    :  NON
RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   rien de particulier
NB_JOURS_TRAV  : 1.0
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR proix        PROIX Jean-Michel      DATE 05/09/2007 - 17:30:16

--------------------------------------------------------------------------------
RESTITUTION FICHE 011167 DU 2007-08-13 13:02:23
TYPE anomalie concernant Code_Aster (VERSION 2.x)
TITRE
   sslv120a en debug
FONCTIONNALITE
   Effectivement :
   
   les valeurs de E et Nu, utilisées pour la loi de localisation du
   polycristal, n'étaient pas intialisées, si l'élasticité était orthotrope.
   
   Par contre tout est correct dans le cas de l'élasticité isotrope.
   
   Ce n'était donc faux que dans le cas POLYCRISTAL, et ELAS_ORTH. (Ce n'est pas un cas courant).
   
   On corrige en choisissant, pour les lois de localisation (qui utilisent le module de
   cisaillement Mu), la moyenne de Gln, Glt, Gtn.
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 8.0.1
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 9.0.1
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : 
VALIDATION
   SSLV120A
NB_JOURS_TRAV  : 0.5
--------------------------------------------------------------------------------

--------------------------------------------------------------------------------
--- AUTEUR galenne      GALENNE Erwan          DATE 05/09/2007 - 17:30:17

--------------------------------------------------------------------------------
RESTITUTION FICHE 011178 DU 2007-08-23 11:32:52
TYPE express concernant Code_Aster (VERSION 9.1)
TITRE
   MACR_ASCOUF_CALC : problxc3xa8me avec EFFE_FOND
FONCTIONNALITE
   Dans MACR_ASCOUF_CALC, le mot-clé EFFE_FOND (='OUI' ou 'NON') du mot-clé facteur PRES_REP
   permet de choisir si on veut prendre en compte ou pas l'effet de fond.
   Il apparait que dans la programmation actuelle, l'effet de fond est toujours pris en
   compte (test dans la macro python sur ==None et pas sur =='NON'). On corrige en conséquence.
   
   Rem 1 : il y a un risque de résultat faux, mais d'une part c'est plutôt rare de ne pas
   prendre en compte l'effet de fond, et d'autre part c'est conservatif de la prendre en
   compte alors qu'on ne le voulait pas.
   Rem 2 : la programmation est correcte pour ASPIC.
   Rem 3 : à corriger en v8.
RESU_FAUX_VERSION_EXPLOITATION    :  OUI   DEPUIS : 8.0.0
RESU_FAUX_VERSION_DEVELOPPEMENT   :  OUI   DEPUIS : 9.0.0
RESTITUTION_VERSION_EXPLOITATION  :  OUI
RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
IMPACT_DOCUMENTAIRE : /
VALIDATION
   cas test perso
NB_JOURS_TRAV  : 0.1
--------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST MODIF sdll138a                      salmona L.SALMONA          661      8      8
 CASTEST MODIF sslv200a                      salmona L.SALMONA         1296     93     93
 CASTEST MODIF sslv200b                      salmona L.SALMONA         1265     93     93
 FORTRAN MODIF algeline/mltccb               salmona L.SALMONA          224     10     10
 FORTRAN MODIF algeline/mltfcb               salmona L.SALMONA          223     10     10
 FORTRAN MODIF algorith/coefft               salmona L.SALMONA           74      9      1
 FORTRAN MODIF algorith/op0164               salmona L.SALMONA          251      7      9
 FORTRAN MODIF elements/chauxi               salmona L.SALMONA          169      4      4
 FORTRAN MODIF elements/gkmet1               salmona L.SALMONA          118      2      2
 FORTRAN MODIF elements/gkmet3               salmona L.SALMONA          212      9      3
 FORTRAN MODIF elements/gkmet4               salmona L.SALMONA          237     29      4
 FORTRAN MODIF elements/gmeth4               salmona L.SALMONA          205     22      5
 FORTRAN MODIF elements/te0295               salmona L.SALMONA          552      4      4
 FORTRAN MODIF elements/te0461               salmona L.SALMONA          475      5      7
 FORTRAN MODIF elements/te0469               salmona L.SALMONA          233      2      2
 FORTRAN MODIF jeveux/jeecra                 salmona L.SALMONA          281      3      2
 FORTRAN MODIF postrele/rc32si               salmona L.SALMONA          253      4      3
 FORTRAN MODIF postrele/rc36si               salmona L.SALMONA          269      5      3
 FORTRAN MODIF prepost/gicnx2                salmona L.SALMONA          100      3      1
 FORTRAN MODIF prepost/giecas                salmona L.SALMONA          327      4      1
 FORTRAN MODIF prepost/gilio2                salmona L.SALMONA          290      4      2
 FORTRAN MODIF prepost/op0172                salmona L.SALMONA          459      5      3
 FORTRAN MODIF utilitai/juveca               salmona L.SALMONA          181      4      2
  PYTHON MODIF Macro/macr_ascouf_calc_ops    salmona L.SALMONA          681      2      2
  PYTHON MODIF Messages/prepost2             salmona L.SALMONA          433      9      1


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    0           0         0                +0
 MODIF :   25        9469       350     275       +75
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   25        9469       350     275       +75 
