

-----------------------------------------------------------------------
--- AUTEUR cibhhpd L.SALMONA   DATE  le 04/01/2005 a 12:02:30

CORRECTION AL 2004-407
   POUR LE COMPTE DE : M. ABBAS
   INTERET_UTILISATEUR : OUI
   NB_JOURS_TRAV : 6.5
   TITRE :Contact-Gestion par bloc

   FONCTIONNALITE : La gestion par bloc de la matrice de contact n'avait été que
   partiellement réalisé lors de l'EL2004-101. En effet, seule la déclaration des
   SD dans crsdco avait été réalisée.

   DETAILS:

      Pour pouvoir utiliser la séparation par bloc, il a fallu modifier les
      routines cfaca2 (qui calcule effectivement la matrice ) et elpiv1 et
      elpiv2 (qui s'occupe de l'élimination des pivots nuls).
      La principale difficulté rencontrée était de sélectionner la bonne adresse
      dans le bloc modifié connaissant le numéro de la liaison.

      A noter que pour éviter des surcouts de temps CPU, on travaille désormais
      par bloc. Ainsi, lors de la boucle sur toutes les liaisons a changer, on
      verifie auparavant que le bloc susceptible d'être modifie n'est pas déjà
      ouvert auquel cas on ferme éventuellement l'ancien bloc ouvert et non
      utilisé.

      Remarque :
      --------

      Dans la commande DEBUT le paramètre TAILLE_BLOC qui définit la taille des
      blocs de la matrice s'applique à la fois à la matrice mécanique globale et
      à la matrice de contact. Peut etre serait-il judicieux d'introduire un
      nouveau mot clé pour la matrice de contact.


   RESU_FAUX_VERSION_EXPLOITATION    : NON
   RESU_FAUX_VERSION_DEVELOPPEMENT   : NON
   RESTITUTION_VERSION_EXPLOITATION  : OUI
   RESTITUTION_VERSION_DEVELOPPEMENT : OUI
   VALIDATION : liste du contact + ssnv503b modifié
   Dans le cas test ssnv503b, on force l'ecriture de la matrice de contact sur
   deux blocs.
   IMPACT_DOCUMENTAIRE : NON

-------------------------------------------------------------------------------

REALISATION EL 2004-102
   NB_JOURS_TRAV  : 5.5
   POUR_LE_COMPTE_DE   : R.FERNANDES
   INTERET_UTILISATEUR : OUI
   TITRE  :  Calculs des deformations avec les modules de THM
   FONCTIONNALITE : On rajoute la possibilité de post-traiter les déformations
   dans le cadre des modules de THM

   DETAIL : En présence d'une loi de THM comportant une partie mécanique (tout
   ce qui comprend un M dans la modélisation), on peut désormais effectuer des
   post-traitements sur les déformations. Les différents champs nouvellement
   accessibles sont EPSI_ELNO_DEPL et EPSI_ELGA_DEPL.
   A noter que quelle que soit la dimension du problème les composantes des champs
   présents dans l'option choisie sont au nombre de 6. Dans un problème 2D les
   champs "en trop" sont donc mis à zéro.
   Ces deux options ont été rajoutées dans tous les catalogues nécessaires et
   sont calculées dans le te0600. Une nouvelle routine dédiée a été créée (EPSTHM)
   qui à partir des déplacements généralisés fournis en entrée calcule les
   déformations via la matrice B.

   RESU_FAUX_VERSION_EXPLOITATION    :  NON
   RESU_FAUX_VERSION_DEVELOPPEMENT   :  NON
   RESTITUTION_VERSION_EXPLOITATION  :  NON
   RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
   VALIDATION : nouveau cas test analytique wtnp114a +
    passage de la liste des cas test de THM avec un calcul des options
   IMPACT_DOCUMENTAIRE : OUI
     DOC_V  : V7.32.114
     EXPL_  : Doc du nouveau cas test wtnp114a
     DOC_U  : U3.13.08-C1
     EXPL_  : Ajout des nouvelles options de post traitement en THM
     DOC_U  :  U3.14.07-C1
     EXPL_  : Ajout des nouvelles options de post traitement en THM


-----------------------------------------------------------------------
--- AUTEUR d6bhhjp J.P.LEFEBVRE   DATE  le 03/01/2005 a 10:51:42

REALISATION  EO 2004-256
   NB_JOURS_TRAV  : 0.5
   INTERET_UTILISATEUR : NON
   TITRE : agla et bibliotheques externes
   FONCTIONNALITE : empecher la surcharge des librairies externes, dont les routines
                    figurent parmi les fantomes CRP
   DETAILS :
   On ajoute une verification dans le script verif_cohe.csh pour tester l'existence
   de la routine restituée parmi la liste des fantomes.
   RESU_FAUX_VERSION_EXPLOITATION    : NON
   RESU_FAUX_VERSION_DEVELOPPEMENT   : NON
   RESTITUTION_VERSION_EXPLOITATION  : NON
   RESTITUTION_VERSION_DEVELOPPEMENT : OUI
   IMPACT_DOCUMENTAIRE:  NON
   VALIDATION :
   Sur un asverif surchargeant une routile Lapack.
------------------------------------------------------------------------------
CORRECTION AL 2004-449
   Pour regularisation, la correction ayant ete effectuee en version 7.3.31
   TITRE : Probleme avec des bases de plus de 2 Go sous Linux
   INTERET_UTILISATEUR : OUI
   FONCTIONNALITE
   parametre -max_base sur plate-forme 32 bits et AlphaServer
   RESU_FAUX_VERSION_EXPLOITATION   :   NON
   RESU_FAUX_VERSION_DEVELOPPEMENT  :   NON
   RESTITUTION_VERSION_EXPLOITATION  :  NON
   RESTITUTION_VERSION_DEVELOPPEMENT :  OUI
   IMPACT_DOCUMENTAIRE : NON
   DETAILS
   Lors de restitution 7.3.6 un facteur 1024 sur la taille passée en argument
   du paramètre -max_base a été oublié dans la routine JEDEBU. Du coup il
   était impossible de limiter la taille totale des bases sur plate-forme 32 bits
   à moins du maximum (12 582 912 Ko). Et lorsque qu'on essayait de passer un
   argument derrière -max_base on pouvait obtenir un arret brutal dans JJALLS.

   Sur AlphaServer, cette erreur conduisait à surdimensionner un des objets
   système JEVEUX et l'on perdait ainsi de place mémoire et de la place disque.
   NB_JOURS_TRAV  : 0.5
   VALIDATION
   Sur une etude en local.


-----------------------------------------------------------------------
--- AUTEUR galenne E.GALENNE   DATE  le 03/01/2005 a 10:55:38

CLASSEMENT SANS SUITE AL 2002-393
   INTERET_UTILISATEUR : NON
   TITRE ASPIC - G négatif sur quelques noeuds
   FONCTIONNALITE
   Il s'agit d'un calcul en élasticité non linéaire sur un piquage fissuré, avec ASPIC. Deux
   études sont réalisées, différentes uniquement par la longueur de la fissure. Dans le cas
   de la fissure la plus longue, le G local est négatif sur certains noeuds du fond de
   fissure.
   Le G est calculé avec la méthode par défaut (lissage de Legendre). On constate que si on
   utilise le lissage par Lagrange (ou lagrange_no_no), G est positif pour tous les noeuds
   du fond de fissure. La sensibilité de G au type de lissage utilisé sera étudiée plus
   précisément dans la fiche AL2004-268.

   Par ailleurs la visualisation sous Ideas des déformées des deux structures fissurées
   montre que, pour la fissure la plus grande, le chargement a tendance à refermer
   (partiellement) la fissure ce qui explique les valeurs très faibles de G (positives ou
   négatives) sur une partie des noeuds du fond de fissure.
   L'émission d'une alarme en cas de contact entre les lèvres de la fissure fait l'obet
   de la fiche EL2003-017.

   RESU_FAUX_VERSION_EXPLOITATION   :   NON
   RESU_FAUX_VERSION_DEVELOPPEMENT  :   NON
   IMPACT_DOCUMENTAIRE : NON
   DETAILS
   NB_JOURS_TRAV  : 0.5


-----------------------------------------------------------------------
--- AUTEUR lebouvie F.LEBOUVIER   DATE  le 03/01/2005 a 11:23:56

-----------------------------------------------------------------------
CLASSEMENT SANS SUITE AL 2004-267
   NB_JOURS_TRAV  : 2.0
   INTERET_UTILISATEUR : OUI
   TITRE : MACR_ASCOUF_CALC, fond de fissure fermé
   FONCTIONNALITE
   DETAILS
   - L'utilisateur réalise le calcul élastique linéaire d'une transition
   d'épaisseur comportant un défaut axisymétrique débouchant en peau externe.
   Le maillage a été effectué dans une première exécution avec la macro-commande
   MACR_ASCOUF_MAIL.
   - Le calcul est effectué en poursuite, avec la macro MACR_ASCOUF_CALC.
   Le problème est au niveau de la commande DEFI_FOND_FISS appelée par
   MACR_ASCOUF_CALC : <E> <DEFI_FOND_FISS> <GVERIF> ERREUR : LE FOND DE FISSURE
   POSSEDE UN NOEUD REPETE 2 FOIS : NOEUD N11123  . REVOIR LES DONNEES
   - Le problème vient de la mise en donnée. Ce type de fissure est caractérisé
   dans MACR_ASCOUF_CALC par le mot-clé TYPE_MAILLAGE auquel on attribue la
   chaîne 'FISS_AXIS_DEB', l'utilisateur utilisé 'FISS_COUDE'.
   - L'étude fournie a été passée en NEW6 et en NEW7 sans problème.
   IMPACT_DOCUMENTAIRE : NON
   VALIDATION
------------------------------------------------------------------------------
CORRECTION AL 2004-355
   INTERET_UTILISATEUR : OUI
   TITRE : ASPIC08A et état initial
   FONCTIONNALITE
   DETAILS
   En 7.3.18, il a été restitué une vérification dans STAT_NON_LINE : si l'état
   initial (avant le premier instant de calcul) est tel que la variable de
   commande (température, hydratation, séchage...) n'est pas identique à la
   température de référence, on obtient des alarmes supplémentaires:
   <A> <STAT_NON_LINE> <OP0070> LES VARIABLES DE COMMANDES INITIALES INDUISENT
       DES CONTRAINTES INCOMPATIBLES > dans ce cas-test, la variable de
       commande est la température.
   Dans le cas-test aspic08a, l'analyse de la température de référence, de
   l'état initial (t=0) et de la température calculée à l'instant t=1 montre que
   les températures sont les mêmes à espilon près (220.00000001):
      - TEMP_REF=220°.
      - L'état initial (t=0) résulte d'un calcul thermique en STATIONNAIRE.
        La structure échange par convection avec l'extérieur avec une
        température extérieure imposée de 220°, on trouve bien 220° partout.
      - A l'instant t=1 la température résulte d'un calcul en TRANSITOIRE.
        La structure échange par convection avec l'extérieur avec une
        température extérieure imposée toujours de 220° (t=1s), on trouve
        220° partout.
   D'autre part à l'instant t=1, il n'y a pas de chargement. Donc a t=0 et t=1,
   le calcul est isotherme et les contraintes sont nulles. On essaye donc dans
   nmconv de comparer VMAX0=1.797436196966483E-008 (valeur max du résidu à t=0,
   donc a l'instant initial) à VMAX2=2.764201788325166E-8 (valeur max du résidu
   à t=1, ou en général on a des contraintes). Donc habituellement, VMAX2 est
   grand, mais ici il est négligeable (comparable à VMAX0).
   Modifications apportées:
    - Dans le cas-test, il y a un calcul inutile. Si on prend 1 comme instant
      initial de calcul, et que l'on prend le numéro d'ordre 34 au lieu de 35
      dans le TEST_RESU, on retrouve les mêmes résultats, et on supprime donc
      l'alarme sur l'état initial.
    - Pour éviter le même type d'alarme dans le futur, on modifie la ligne
      289 de la routine nmconv :
       IF(VMAX2.GT.0) THEN par IF(VMAX2.GT.PARCRI(IND(2)))
   Fichiers modifiés:
      - nmconv
      - aspic08a
   RESU_FAUX_VERSION_EXPLOITATION   :   NON
   RESU_FAUX_VERSION_DEVELOPPEMENT  :   NON
   RESTITUTION_VERSION_EXPLOITATION  :   OUI
   RESTITUTION_VERSION_DEVELOPPEMENT :   OUI
   IMPACT_DOCUMENTAIRE : NON
   VALIDATION
   NB_JOURS_TRAV  : 3.5
------------------------------------------------------------------------------
CORRECTION AL 2004-359
   POUR LE COMPTE DE :  E. GALENNE
   INTERET_UTILISATEUR : OUI
   TITRE : ASCOU19A et CALC_G_THETA_T
   FONCTIONNALITE :
   DETAIL :
   - La réalisation de l'EL2004_154 (Transmission des SD MODELE, MATERIAU et
     EXCIT dans l'opérateur CALC_G) a conduit a un résultat NOOK sur le test
     d'un CALC_G local. Un écart de 8% est observé par rapport a la référence
     (valeur de non regression). La valeur de réference a été obtenue sans tenir
     compte des chargements qui sont maintenant pris en compte automatiquement
     (ils sont extraits de la SD résultat). L'écart est du à l'absence du
     chargement lors du calcul de la valeur de référence: -> on modifie donc la
     valeur de référence.
   - La différence observée entre le résultat donné par la macro MACR_CALC_ASCOUF
     et le résultat donné par les commandes déployées équivalentes de la macro
     sont maintenant les mêmes  (l'erreur constatée n'a pas pu être reproduite).
   - Fichier modifié
     cas-test : ascou19a.comm
   RESU_FAUX_VERSION_EXPLOITATION    : NON
   RESU_FAUX_VERSION_DEVELOPPEMENT   : NON
   RESTITUTION_VERSION_EXPLOITATION  : OUI
   RESTITUTION_VERSION_DEVELOPPEMENT : OUI
   VALIDATION : Passage du cas-test ascou19a
   IMPACT_DOCUMENTAIRE : NON
   NB_JOURS_TRAV : 1.5
-------------------------------------------------------------------------------



========================================================================
=== Recapitulation des operations demandees pour toutes les restitutions
========================================================================


    TYPE Action    unite                      user      Auteur         nblg  ajout suppr.

 CASTEST AJOUT wtnp114a                      cibhhpd L.SALMONA          258    258      0
 CASTEST MODIF ascou19a                     lebouvie F.LEBOUVIER        400      3      3
 CASTEST MODIF aspic08a                     lebouvie F.LEBOUVIER        154      5      7
 CASTEST MODIF ssnv503b                      cibhhpd L.SALMONA          425      3      2
CATALOGU MODIF typelem/gener_me3h13          cibhhpd L.SALMONA          134      7      1
CATALOGU MODIF typelem/gener_me3h23          cibhhpd L.SALMONA          130      7      1
CATALOGU MODIF typelem/gener_me3h43          cibhhpd L.SALMONA          158      7      1
CATALOGU MODIF typelem/gener_me3h53          cibhhpd L.SALMONA          154      7      1
CATALOGU MODIF typelem/gener_meaa22          cibhhpd L.SALMONA          138      7      1
CATALOGU MODIF typelem/gener_meaa32          cibhhpd L.SALMONA          136      7      1
CATALOGU MODIF typelem/gener_meah12          cibhhpd L.SALMONA          140      7      1
CATALOGU MODIF typelem/gener_meah22          cibhhpd L.SALMONA          138      7      1
CATALOGU MODIF typelem/gener_meah42          cibhhpd L.SALMONA          143      7      1
CATALOGU MODIF typelem/gener_meah52          cibhhpd L.SALMONA          141      7      1
CATALOGU MODIF typelem/gener_meda22          cibhhpd L.SALMONA          144      7      1
CATALOGU MODIF typelem/gener_meda32          cibhhpd L.SALMONA          142      7      1
CATALOGU MODIF typelem/gener_medh12          cibhhpd L.SALMONA          153      7      1
CATALOGU MODIF typelem/gener_medh22          cibhhpd L.SALMONA          151      7      1
CATALOGU MODIF typelem/gener_medh42          cibhhpd L.SALMONA          155      7      1
CATALOGU MODIF typelem/gener_medh52          cibhhpd L.SALMONA          153      7      1
 FORTRAN AJOUT algorith/epsthm               cibhhpd L.SALMONA          103    103      0
 FORTRAN MODIF algorith/cfaca2               cibhhpd L.SALMONA          514     75      9
 FORTRAN MODIF algorith/crsdco               cibhhpd L.SALMONA          601      8      6
 FORTRAN MODIF algorith/elpiv1               cibhhpd L.SALMONA          172     26      8
 FORTRAN MODIF algorith/elpiv2               cibhhpd L.SALMONA          420     72     10
 FORTRAN MODIF algorith/nmconv              lebouvie F.LEBOUVIER        419      2      2
 FORTRAN MODIF elements/te0600               cibhhpd L.SALMONA          711     38      6


        nb unites  nb lignes  ajouts  suppr.  difference
 AJOUT :    2         361       361              +361
 MODIF :   25        6126       344      69      +275
 SUPPR :    0           0                 0        +0
 DEPLA :    0           0 
         ----      ------     ------  ------   ------
 TOTAL :   27        6487       705      69      +636 
