# coding=utf-8

from pprint import pformat

def build(self):
    get_srcs = self.path.get_src().ant_glob
    env = self.all_envs[self.variant]

    self(
        features = 'py',
            name = 'bibpyt',
          source = get_srcs('**/*.py'),
    install_from = '.',
    install_path = env.ASTERLIBDIR,
    )

    self(
        features = 'subst py',
            name = 'aster_pkginfo',
          source = 'aster_pkginfo.pytmpl',
          target = 'aster_pkginfo.py',
    install_path = env.ASTERLIBDIR,
             use = ['bibpyt'],
    VERSION_INFO = pformat(env['ASTER_VERSION']),
    )
