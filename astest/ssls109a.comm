# MODIF  DATE 28/03/2001   AUTEUR CIBHHLV L.VIVAN 
# TITRE PLAQUE ENCASTREE EN TRACTION CONSTITUEE DE 3 NAPPES D'ARMATURES
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================

DEBUT(    CODE=_F(  NOM = 'SSLS109A',NIV_PUB_WEB='INTERNET') )

#-----------------------------------------------------------------------
# SOLUTION DE REFERENCE OBTENUE AVEC LE MODELE DEFI_COQU_MULT
# POUR LA VALIDATION DU MODELE GRILLE EN ELASTICITE LINEAIRE
#-----------------------------------------------------------------------
MA=LIRE_MAILLAGE( )

MA=DEFI_GROUP( reuse=MA,   MAILLAGE=MA,
  CREA_GROUP_MA=_F(  NOM = 'TOUT', TOUT = 'OUI'))

MO=AFFE_MODELE(  MAILLAGE=MA,
                     AFFE=_F( TOUT = 'OUI', PHENOMENE = 'MECANIQUE',
                            MODELISATION = 'DKT'))

EP=AFFE_CARA_ELEM(MODELE=MO, COQUE=_F( 
       GROUP_MA = 'TOUT',
 EPAIS = 0.,
                                             ANGL_REP = (30., 0.,)))

MAT1=DEFI_MATERIAU(ELAS_ORTH=_F( E_T = 1., E_L = 1.,
                   G_LT = 1.E-7,  NU_LT = 0.))

MAT2=DEFI_MATERIAU(ELAS_ORTH=_F( E_T = 2., E_L = 2.,
                   G_LT = 1.E-7,  NU_LT = 0.))

MAT3=DEFI_MATERIAU(ELAS_ORTH=_F( E_T = 3., E_L = 3.,
                   G_LT = 1.E-7,  NU_LT = 0.))

MUL=DEFI_COQU_MULT(COUCHE=(
          _F( EPAIS = .01, MATER = MAT1, ORIENTATION = 0.0),
          _F( EPAIS = .01, MATER = MAT2, ORIENTATION = -20.0),
          _F( EPAIS = .01, MATER = MAT3, ORIENTATION = -75.0))
                      )

CHMUL=AFFE_MATERIAU(   MAILLAGE=MA, AFFE=_F( TOUT = 'OUI', MATER = MUL))

CHAR=AFFE_CHAR_MECA(  MODELE=MO,DDL_IMPO=(
              _F( NOEUD = 'NO1',  DX = 0.,  DY = 0.,  DZ = 0.,
                                    DRX = 0.,  DRY = 0.,  DRZ = 0.),
                       _F( NOEUD = 'NO4',  DX = 0.,  DY = 0.,  DZ = 0.,
                                    DRX = 0.,  DRY = 0.,  DRZ = 0.)),FORCE_NODALE=(
              _F( NOEUD = 'NO2',       FX = 1.),
                           _F( NOEUD = 'NO3',       FX = 1.))
                            )

# -------------------------------------------------
# CALCUL MECANIQUE STATIQUE LINEAIRE 
# -------------------------------------------------
#

RESU=MECA_STATIQUE(    MODELE=MO,       CHAM_MATER=CHMUL,
                               CARA_ELEM=EP,
                               EXCIT=_F(  CHARGE = CHAR),
                               OPTION=('EPOT_ELEM_DEPL',)
                            )

IMPR_RESU(  MODELE=MO,
                RESU=_F(   FORMAT = 'RESULTAT', RESULTAT = RESU,
                                  TOUT = 'OUI')  )

#

RESU3=MECA_STATIQUE(    MODELE=MO,       CHAM_MATER=CHMUL,
                               CARA_ELEM=EP,
                               EXCIT=_F(  CHARGE = CHAR)       )

RESU3=CALC_ELEM(reuse=RESU3,     RESULTAT=RESU3,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='EFGE_ELNO_DEPL', 
                        NUME_COUCHE=3
                      )

RESU3=CALC_ELEM(reuse=RESU3,     RESULTAT=RESU3,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='SIGM_ELNO_DEPL', 
                        NUME_COUCHE=3
                      )

RESU3=CALC_ELEM(reuse=RESU3,     RESULTAT=RESU3,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='SIEF_ELGA_DEPL', 
                        NUME_COUCHE=3
                      )

RESU3=CALC_NO(  reuse=RESU3,   RESULTAT=RESU3, MODELE=MO,
                               TOUT='OUI',  
                               OPTION='FORC_NODA',
                               CARA_ELEM=EP )

RESU3=CALC_ELEM(reuse=RESU3,     RESULTAT=RESU3,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='EPSI_ELNO_DEPL', 
                        NUME_COUCHE=3
                      )

RESU3=CALC_ELEM(reuse=RESU3,     RESULTAT=RESU3,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='DEGE_ELNO_DEPL', 
                        NUME_COUCHE=3
                      )

IMPR_RESU(  MODELE=MO,
                RESU=_F(   FORMAT = 'RESULTAT', RESULTAT = RESU3,
                                  TOUT = 'OUI') )

RESU2=MECA_STATIQUE(    MODELE=MO,       CHAM_MATER=CHMUL,
                               CARA_ELEM=EP,
                               EXCIT=_F(  CHARGE = CHAR)       )

RESU2=CALC_ELEM(reuse=RESU2,     RESULTAT=RESU2,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='EFGE_ELNO_DEPL', 
                        NUME_COUCHE=2
                      )

RESU2=CALC_ELEM(reuse=RESU2,     RESULTAT=RESU2,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='SIGM_ELNO_DEPL', 
                        NUME_COUCHE=2
                      )

RESU2=CALC_ELEM(reuse=RESU2,     RESULTAT=RESU2,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='SIEF_ELGA_DEPL', 
                        NUME_COUCHE=2
                      )

RESU2=CALC_NO(  reuse=RESU2,   RESULTAT=RESU2, MODELE=MO,
###                               TOUT='OUI',  
                               OPTION='FORC_NODA',
                               CARA_ELEM=EP )

RESU2=CALC_ELEM(reuse=RESU2,     RESULTAT=RESU2,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='EPSI_ELNO_DEPL', 
                        NUME_COUCHE=2
                      )

RESU2=CALC_ELEM(reuse=RESU2,     RESULTAT=RESU2,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='DEGE_ELNO_DEPL', 
                        NUME_COUCHE=2
                      )

IMPR_RESU(  MODELE=MO,
                RESU=_F(   FORMAT = 'RESULTAT', RESULTAT = RESU2,
                                  TOUT = 'OUI')
                      )

RESU1=MECA_STATIQUE(    MODELE=MO,       CHAM_MATER=CHMUL,
                               CARA_ELEM=EP,
                               EXCIT=_F(  CHARGE = CHAR)       )

RESU1=CALC_ELEM(reuse=RESU1,     RESULTAT=RESU1,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='EFGE_ELNO_DEPL', 
                        NUME_COUCHE=1
                      )

RESU1=CALC_ELEM(reuse=RESU1,     RESULTAT=RESU1,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='SIGM_ELNO_DEPL', 
                        NUME_COUCHE=1
                      )

RESU1=CALC_ELEM(reuse=RESU1,     RESULTAT=RESU1,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='SIEF_ELGA_DEPL', 
                        NUME_COUCHE=1
                      )

RESU1=CALC_NO(  reuse=RESU1,   RESULTAT=RESU1,  MODELE=MO,
###                               TOUT='OUI',  
                               OPTION='FORC_NODA',
                               CARA_ELEM=EP )

RESU1=CALC_ELEM(reuse=RESU1,     RESULTAT=RESU1,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='EPSI_ELNO_DEPL', 
                        NUME_COUCHE=1
                      )

RESU1=CALC_ELEM(reuse=RESU1,     RESULTAT=RESU1,        MODELE=MO,
                         CHAM_MATER=CHMUL,    CARA_ELEM=EP,
                             OPTION='DEGE_ELNO_DEPL', 
                        NUME_COUCHE=1
                      )

IMPR_RESU(  MODELE=MO,
                RESU=_F(   FORMAT = 'RESULTAT', RESULTAT = RESU1,
                                  TOUT = 'OUI') )

TEST_RESU(
              
                RESU=_F( 
                RESULTAT = RESU,
                NUME_ORDRE = 1,
                NOM_CHAM = 'DEPL',
                MAILLE = 'MA1',
                NOEUD = 'NO2',
                NOM_CMP = 'DX',
                VALE = 81.9373)
              )

FIN()
#
#
