# MODIF  DATE 26/08/2002   AUTEUR BSERRE B.SERRE 
# TITRE CONTACT UNIDIRECTIONNEL AVEC FROTTEMENT 
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
# D'UNE PLAQUE SUR UN PLAN RIGIDE
# CAS_TEST__:SSNV128F
# CALCUL ASTER 3D
# MODELE 
# MAILLAGE : ELEMENT 3D HEXAEDRES A 8 NOEUDS
# UNITES   : NEWTON , METRE , SECONDE (N,M,S)
#

DEBUT( CODE=_F(  NOM = 'SSNV128F',NIV_PUB_WEB='INTERNET') )

#......................................................................

PRE_GIBI()

#

MA=LIRE_MAILLAGE( )

#

MA=DEFI_GROUP( reuse=MA,
                       MAILLAGE=MA,CREA_GROUP_NO=(
                       _F(  GROUP_MA = 'SURF12',  ),
                       _F(  GROUP_MA = 'SURF1',  ))
                     )

#

MO=AFFE_MODELE( 
            MAILLAGE=MA,  
               AFFE=_F( TOUT = 'OUI',
                     PHENOMENE = 'MECANIQUE',
                     MODELISATION = '3D',)
                    )

MA=MODI_MAILLAGE( reuse=MA,   MAILLAGE=MA,
                           MODELE=MO,
                       ORIE_PEAU_3D=_F(  GROUP_MA = 'SURFA2',  )
                     )

#

MAT2=DEFI_MATERIAU(
                            ELAS=_F( 
                                  E = 1.3E11, 
                                  NU = 0.0, 
                                 )
                          )

#

MAT1=DEFI_MATERIAU(
                            ELAS=_F( 
                                  E = 1.E16, 
                                  NU = 0., 
                                 )
                          )

#

CHMAT=AFFE_MATERIAU(
                            MAILLAGE=MA,AFFE=(
                           _F( 
                                 GROUP_MA = 'VOL2', 
                                 MATER = MAT2, 
                                ),
                           _F( 
                                 GROUP_MA = 'VOL1', 
                                 MATER = MAT1, 
                                ))
                           )

#

CHA1=AFFE_CHAR_MECA(
                             MODELE=MO,FACE_IMPO=(
                    _F(  GROUP_MA = 'DB2', 
                                      DX = 0., DY = 0., DZ = 0., ),
                    _F(  GROUP_MA = 'HHB2', 
                                      DX = 0., DY = 0., DZ = 0., ), 
                    _F(  GROUP_MA = 'SURFA11', 
                                      DX = 0., DY = 0., DZ = 0., ),
                    _F(  GROUP_MA = 'SURFB4', 
                                       DX = 0., ),
                    _F(  GROUP_MA = 'SURFB14', 
                                      DX = 0., )),PRES_REP=(
                          _F( GROUP_MA = 'SURF3',    PRES = 15.E07, ),
                          _F( GROUP_MA = 'SURFA2',   PRES = 5.E07,  ))
                           )

#

CHA2=AFFE_CHAR_MECA(
                             MODELE=MO,
                             CONTACT=_F( GROUP_MA_1 = 'SURF12',      
                                      GROUP_MA_2 = 'SURF1',      
                                      APPARIEMENT = 'NODAL',     
                                      RECHERCHE = 'NOEUD_BOUCLE',       
                                      REAC_GEOM = 'CONTROLE',
                                      NB_REAC_GEOM = 2,  
                                      METHODE = 'PENALISATION',         
                                      FROTTEMENT = 'COULOMB',      
                                      COULOMB = 1.0,         
                                      E_T = 5.E+11,             
                                      COEF_MATR_FROT = 0.4,
                                      VECT_Y = (1.,1.,1.,),
                              ),
                             INFO=1,
                            )

#

CHA3=AFFE_CHAR_MECA(
                             MODELE=MO,
                             CONTACT=_F( GROUP_MA_1 = 'SURF12',      
                                      GROUP_MA_2 = 'SURF1',      
                                      APPARIEMENT = 'NODAL',     
                                      RECHERCHE = 'NOEUD_BOUCLE',       
                                      REAC_GEOM = 'CONTROLE',
                                      NB_REAC_GEOM = 2,  
                                      METHODE = 'LAGRANGIEN',         
                                      FROTTEMENT = 'COULOMB',      
                                      COULOMB = 1.0,         
                                      COEF_MATR_FROT = 0.4,  
                              ),
                  )
# 

RAMPE=DEFI_FONCTION(   NOM_PARA='INST',
            PROL_GAUCHE='LINEAIRE',   PROL_DROITE='LINEAIRE',
            VALE=(0.0,0.0,1.0,1.0,)
           )

L_INST=DEFI_LIST_REEL(   DEBUT=0.,
             INTERVALLE=_F( JUSQU_A = 1.0,   NOMBRE = 1, )
           )

U=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CHMAT,EXCIT=(
                             _F( 
                CHARGE = CHA1,            
                FONC_MULT = RAMPE,         
                ), _F( 
                CHARGE = CHA2,            
                )),
                         COMP_ELAS=_F( 
                RELATION = 'ELAS',          
                ),
                           SOLVEUR=_F( 
                METHODE = 'LDLT',           
                ),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE',           
                REAC_ITER = 1,         
                ),
                         INCREMENT=_F( 
                LIST_INST = L_INST,         
                PRECISION = 1.00000000000000002E-3,           
                SUBD_PAS = 2,            
                COEF_SUBD_PAS_1 = 1.,     
                SUBD_PAS_MINI = 0.000000001,      
                ),
                       CONVERGENCE=_F( 
                ITER_GLOB_MAXI = 200,    
                RESI_GLOB_RELA = 1.0E-5,    
                ),
                INFO = 1,
              )

#
TAB_CONT = POST_RELEVE_T(
                        ACTION=_F(  INTITULE = 'DEPLACEMENT',
                        GROUP_NO = 'SURF1',
                        RESULTAT = U,
                        NOM_CHAM = 'VALE_CONT',
                        NOM_CMP = ('DUGT1', 'DUGT2',), 
                        OPERATION = 'EXTRACTION', 
                       )
              )
IMPR_TABLE(TABLE=TAB_CONT);

TEST_TABLE(       TABLE=TAB_CONT,FILTRE=(
                     _F(  NOM_PARA = 'NUME_ORDRE',
                             VALE_I = 1),
                           _F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'N22')),
                  NOM_PARA='DUGT1',
                 PRECISION=1.E-02,
                      VALE=-2.4074256E-07)


TEST_TABLE(       TABLE=TAB_CONT,FILTRE=(
                     _F(  NOM_PARA = 'NUME_ORDRE',
                             VALE_I = 1),
                           _F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'N22')),
                  NOM_PARA='DUGT2',
                 PRECISION=1.E-02,
                      VALE=6.409E-05            )
#
TEST_RESU(RESU=(  _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N22', 
                     NOM_CMP = 'DX', 
                     VALE = 4.5517E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N44', 
                     NOM_CMP = 'DX', 
                     VALE = 4.4075E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N110', 
                     NOM_CMP = 'DX', 
                     VALE = 3.9747E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N154', 
                     NOM_CMP = 'DX', 
                     VALE = 3.6861E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N220', 
                     NOM_CMP = 'DX', 
                     VALE = 3.2530E-5, 
                     PRECISION = 1.E-3, 
                    ))
       )

V=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CHMAT,EXCIT=(
                             _F( 
                CHARGE = CHA1,            
                FONC_MULT = RAMPE,         
                ), _F( 
                CHARGE = CHA3,            
                )),
                         COMP_ELAS=_F( 
                RELATION = 'ELAS',          
                ),
                           SOLVEUR=_F( 
                METHODE = 'LDLT',           
                ),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE',           
                REAC_ITER = 1,         
                ),
                         INCREMENT=_F( 
                LIST_INST = L_INST,         
                PRECISION = 1.00000000000000002E-3,           
                SUBD_PAS = 2,            
                COEF_SUBD_PAS_1 = 1.,     
                SUBD_PAS_MINI = 0.000000001,      
                ),
                       CONVERGENCE=_F( 
                ITER_GLOB_MAXI = 200,    
                RESI_GLOB_RELA = 1.0E-5,    
                ),
               INFO = 1,
              )

#
TEST_RESU(RESU=(  _F( 
                     RESULTAT = V, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N22', 
                     NOM_CMP = 'DX', 
                     VALE = 3.4824E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = V, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N44', 
                     NOM_CMP = 'DX', 
                     VALE = 3.3383E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = V, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N110', 
                     NOM_CMP = 'DX', 
                     VALE = 2.8844E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = V, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N154', 
                     NOM_CMP = 'DX', 
                     VALE = 2.5664E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = V, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N220', 
                     NOM_CMP = 'DX', 
                     VALE = 2.0954E-5, 
                     PRECISION = 1.E-3, 
                    ))
       )

U2=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CHMAT,EXCIT=(
                             _F( 
                CHARGE = CHA1,            
                FONC_MULT = RAMPE,         
                ), _F( 
                CHARGE = CHA2,            
                )),
                         COMP_ELAS=_F( 
                RELATION = 'ELAS',          
                ),
                           SOLVEUR=_F( 
                METHODE = 'MULT_FRONT',           
                ),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE',           
                REAC_ITER = 1,         
                ),
                         INCREMENT=_F( 
                LIST_INST = L_INST,         
                PRECISION = 1.00000000000000002E-3,           
                SUBD_PAS = 2,            
                COEF_SUBD_PAS_1 = 1.,     
                SUBD_PAS_MINI = 0.000000001,      
                ),
                       CONVERGENCE=_F( 
                ITER_GLOB_MAXI = 200,    
                RESI_GLOB_RELA = 1.0E-5,    
                )
              )

#
TEST_RESU(RESU=(  _F( 
                     RESULTAT = U2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N22', 
                     NOM_CMP = 'DX', 
                     VALE = 4.5517E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = U2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N44', 
                     NOM_CMP = 'DX', 
                     VALE = 4.4075E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = U2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N110', 
                     NOM_CMP = 'DX', 
                     VALE = 3.9747E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = U2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N154', 
                     NOM_CMP = 'DX', 
                     VALE = 3.6861E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = U2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N220', 
                     NOM_CMP = 'DX', 
                     VALE = 3.2530E-5, 
                     PRECISION = 1.E-3, 
                    ))
       )

V2=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CHMAT,EXCIT=(
                             _F( 
                CHARGE = CHA1,            
                FONC_MULT = RAMPE,         
                ), _F( 
                CHARGE = CHA3,            
                )),
                         COMP_ELAS=_F( 
                RELATION = 'ELAS',          
                ),
                           SOLVEUR=_F( 
                METHODE = 'MULT_FRONT',           
                ),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE',           
                REAC_ITER = 1,         
                ),
                         INCREMENT=_F( 
                LIST_INST = L_INST,         
                PRECISION = 1.00000000000000002E-3,           
                SUBD_PAS = 2,            
                COEF_SUBD_PAS_1 = 1.,     
                SUBD_PAS_MINI = 0.000000001,      
                ),
                       CONVERGENCE=_F( 
                ITER_GLOB_MAXI = 200,    
                RESI_GLOB_RELA = 1.0E-5,    
                )
              )

#

TEST_RESU(RESU=(  _F( 
                     RESULTAT = V2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N22', 
                     NOM_CMP = 'DX', 
                     VALE = 3.4824E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = V2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N44', 
                     NOM_CMP = 'DX', 
                     VALE = 3.3383E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = V2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N110', 
                     NOM_CMP = 'DX', 
                     VALE = 2.8844E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = V2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N154', 
                     NOM_CMP = 'DX', 
                     VALE = 2.5664E-5, 
                     PRECISION = 1.E-3, 
                    ),
               _F( 
                     RESULTAT = V2, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N220', 
                     NOM_CMP = 'DX', 
                     VALE = 2.0954E-5, 
                     PRECISION = 1.E-3, 
                    ))
       )

FIN()
#
