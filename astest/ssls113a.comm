# MODIF  DATE 03/10/2001   AUTEUR CIBHHLV L.VIVAN 
# TITRE PLAQUE STRATIFIEE EN FLEXION - DKT 
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
# SSLS113A             
# PLAQUE DE STRATIFIE RECTANGULAIRE EN FLEXION
#                B/A = 1
# MODELISATION DKT
#             87 NOEUDS  140 MAILLES TRIA3
#----------------------------------------------------------------------
#POINTS:  A     N1           COTES:  AB    GRNO11
#         B     N28                  BC    GRNO12
#         C     N87                  CD    GRNO13
#         D     N60                  DA    GRNO14
#-----------------------------------------------------------------------
# CE CAS TEST REPREND LE SSLS103G
# ON FAIT 3 CALCULS EQUIVALENTS :
# CALCUL 1 : 1 BICOUCHE
# CALCUL 2 : 1 MATERIAU ELAS_COQUE EQUIVALENT AU BICOUCHE
# CALCUL 3 : 2 PLAQUES EXCENTREES EN MATERIAU ELAS_COQUE
#            EQUIVALENTES AUX CALCULS 1 ET 2 
# ______________________________________________________________________
#

DEBUT(CODE=_F(  NOM = 'SSLS113A',NIV_PUB_WEB='INTERNET') )

#
MA=LIRE_MAILLAGE( )

MA=DEFI_GROUP( reuse=MA,   MAILLAGE=MA,
               CREA_GROUP_MA=_F(  NOM = 'TOUT', TOUT = 'OUI'))

MO=AFFE_MODELE(  MAILLAGE=MA,
                    AFFE=_F(  TOUT = 'OUI', PHENOMENE = 'MECANIQUE',
                              MODELISATION = 'DKT') )

EP=AFFE_CARA_ELEM(  MODELE=MO, 
                    COQUE=_F(  GROUP_MA = 'TOUT',
                               EPAIS    = 0.0,
                               ANGL_REP = (0.,0.,)) )

EP2=AFFE_CARA_ELEM(  MODELE=MO, 
                     COQUE=_F(  GROUP_MA = 'TOUT',
                                EPAIS    = 2.E-3,
                                ANGL_REP = (0.,0.,)) )

MAT1A=DEFI_MATERIAU(  ELAS_ORTH=_F( E_L = 6800., E_T = 6800., NU_LT = 0.35,
                                     G_LT = 2530.) )

MAT1B=DEFI_MATERIAU(  ELAS_ORTH=_F( E_L = 14000., E_T = 14000., NU_LT = 0.144,
                                     G_LT = 2070.) )

MU1=DEFI_COQU_MULT( COUCHE=(
               _F( EPAIS = 1.E-3, MATER = MAT1A, ORIENTATION = 0.),
               _F( EPAIS = 1.E-3, MATER = MAT1B, ORIENTATION = 0.))
                      )

CHMUL1=AFFE_MATERIAU(  MAILLAGE=MA, 
                          AFFE=_F( TOUT = 'OUI',MATER = MU1) )

CHME=AFFE_CHAR_MECA(  MODELE=MO,DDL_IMPO=(
                         _F( 
         GROUP_NO = 'GRNO11',  
         DX = 0., DY = 0., DZ = 0.,  DRX = 0., DRY = 0., DRZ = 0.),
                         _F( 
         GROUP_NO = 'GRNO13',  
         DX = 0.070709997415543, DY = 0.070709997415543))
                                  )

C1111=22045.7389616E-3

C1122=4770.93968683E-3

C2222=22045.7389616E-3

C1212=4600.E-3

D1111=7348.57965387E-9

D1122=1590.31322894E-9

D2222=7348.57965387E-9

D1212=1533.3333333E-9

B1111=3273.5817315E-6

B1122=-326.78086884E-6

B2222=3273.5817315E-6

B1212=-230.0E-6

G11=4600.E-3

G22=4600.E-3

MU2=DEFI_MATERIAU( ELAS_COQUE=_F(    M_LLLL = C1111,
                                      M_LLTT = C1122,
                                      M_LLLT = 0.,
                                      M_TTTT = C2222,
                                      M_TTLT = 0.,
                                      M_LTLT = C1212,
#
                                      F_LLLL = D1111,
                                      F_LLTT = D1122,
                                      F_LLLT = 0.,
                                      F_TTTT = D2222,
                                      F_TTLT = 0.,
                                      F_LTLT = D1212,
#
                                      MF_LLLL = B1111,
                                      MF_LLTT = B1122,
                                      MF_LLLT = 0.,
                                      MF_TTTT = B2222,
                                      MF_TTLT = 0.,
                                      MF_LTLT = B1212,
#
                                      MC_LLLZ = 0.,
                                      MC_LLTZ = 0.,
                                      MC_TTLZ = 0.,
                                      MC_TTTZ = 0.,
                                      MC_LTLZ = 0.,
                                      MC_LTTZ = 0.,
#
                                      FC_LLLZ = 0.,
                                      FC_LLTZ = 0.,
                                      FC_TTLZ = 0.,
                                      FC_TTTZ = 0.,
                                      FC_LTLZ = 0.,
                                      FC_LTTZ = 0.,
#
                                      C_LZLZ = G11,
                                      C_TZTZ = G22,   
                                      C_LZTZ = 0.) )

CHMUL2=AFFE_MATERIAU(  MAILLAGE=MA, 
                          AFFE=_F( TOUT = 'OUI',MATER = MU2) )

MA3=CREA_MAILLAGE(   MAILLAGE=MA,
                       CREA_GROUP_MA=_F(  NOM = 'PLAQ2',
                                       GROUP_MA = 'PLAQ1',
                                       PREF_MAILLE = 'MAIL')
                      )

MO3=AFFE_MODELE(  MAILLAGE=MA3,
                    AFFE=_F( TOUT = 'OUI', PHENOMENE = 'MECANIQUE',
                    MODELISATION = 'DKT') )

EP3=AFFE_CARA_ELEM(  MODELE=MO3,COQUE=( 

#   POUR AFFECTER DES CARACTERISTIQUES AUX MAILLES DE BORD
#   DONC EVITER LES ALARMES
                       _F(  GROUP_MA = 'TOUT',
                                EPAIS = 1.E-3), 
                        _F(  GROUP_MA = 'PLAQ1', 
                                EPAIS = 1.E-3, ANGL_REP = (0.,0.,),
                                EXCENTREMENT = 0.5E-3,
                                INER_ROTA = 'OUI'), 
                        _F(  GROUP_MA = 'PLAQ2', 
                                EPAIS = 1.E-3, ANGL_REP = (0.,0.,),
                                EXCENTREMENT = -0.5E-3,
                              INER_ROTA = 'OUI')) 
                     )

AC1111=7749.28774929E-3

AC1122=2712.25071225E-3

AC2222=7749.28774929E-3

AC1212=2530.E-3

AD1111=645.773981243E-9

AD1122=226.020893435E-9

AD2222=645.773981243E-9

AD1212=210.83333333E-9

AB1111=0.

AB1122=0.

AB2222=0.

AB1212=0.

AG11=2530.E-3

AG22=2530.E-3

MU31=DEFI_MATERIAU( ELAS_COQUE=_F(   M_LLLL = AC1111,
                                      M_LLTT = AC1122,
                                      M_LLLT = 0.,
                                      M_TTTT = AC2222,
                                      M_TTLT = 0.,
                                      M_LTLT = AC1212,
#
                                      F_LLLL = AD1111,
                                      F_LLTT = AD1122,
                                      F_LLLT = 0.,
                                      F_TTTT = AD2222,
                                      F_TTLT = 0.,
                                      F_LTLT = AD1212,
#
                                      MF_LLLL = AB1111,
                                      MF_LLTT = AB1122,
                                      MF_LLLT = 0.,
                                      MF_TTTT = AB2222,
                                      MF_TTLT = 0.,
                                      MF_LTLT = AB1212,
#
                                      MC_LLLZ = 0.,
                                      MC_LLTZ = 0.,
                                      MC_TTLZ = 0.,
                                      MC_TTTZ = 0.,
                                      MC_LTLZ = 0.,
                                      MC_LTTZ = 0.,
#
                                      FC_LLLZ = 0.,
                                      FC_LLTZ = 0.,
                                      FC_TTLZ = 0.,
                                      FC_TTTZ = 0.,
                                      FC_LTLZ = 0.,
                                      FC_LTTZ = 0.,
#
                                      C_LZLZ = AG11,
                                      C_TZTZ = AG22,   
                                      C_LZTZ = 0.) )

BC1111=14296.4512123E-3

BC1122=2058.68897458E-3

BC2222=14296.4512123E-3

BC1212=2070.E-3

BD1111=1191.37093436E-9

BD1122=171.557414548E-9

BD2222=1191.37093436E-9

BD1212=172.5E-9

BB1111=0.

BB1122=0.

BB2222=0.

BB1212=0.

BG11=2070.E-3

BG22=2070.E-3

MU32=DEFI_MATERIAU( ELAS_COQUE=_F(   M_LLLL = BC1111,
                                      M_LLTT = BC1122,
                                      M_LLLT = 0.,
                                      M_TTTT = BC2222,
                                      M_TTLT = 0.,
                                      M_LTLT = BC1212,
#
                                      F_LLLL = BD1111,
                                      F_LLTT = BD1122,
                                      F_LLLT = 0.,
                                      F_TTTT = BD2222,
                                      F_TTLT = 0.,
                                      F_LTLT = BD1212,
#
                                      MF_LLLL = BB1111,
                                      MF_LLTT = BB1122,
                                      MF_LLLT = 0.,
                                      MF_TTTT = BB2222,
                                      MF_TTLT = 0.,
                                      MF_LTLT = BB1212,
#
                                      MC_LLLZ = 0.,
                                      MC_LLTZ = 0.,
                                      MC_TTLZ = 0.,
                                      MC_TTTZ = 0.,
                                      MC_LTLZ = 0.,
                                      MC_LTTZ = 0.,
#
                                      FC_LLLZ = 0.,
                                      FC_LLTZ = 0.,
                                      FC_TTLZ = 0.,
                                      FC_TTTZ = 0.,
                                      FC_LTLZ = 0.,
                                      FC_LTTZ = 0.,
#
                                      C_LZLZ = BG11,
                                      C_TZTZ = BG22,   
                                      C_LZTZ = 0.) )

CHMUL3=AFFE_MATERIAU(  MAILLAGE=MA3,AFFE=( 
                          _F( GROUP_MA = 'PLAQ2', MATER = MU31), 
                          _F( GROUP_MA = 'PLAQ1', MATER = MU32))
                        )

CHME3=AFFE_CHAR_MECA(  MODELE=MO3,DDL_IMPO=(
                         _F( 
         GROUP_NO = 'GRNO11',  
         DX = 0., DY = 0., DZ = 0.,  DRX = 0., DRY = 0., DRZ = 0.),
                         _F( 
         GROUP_NO = 'GRNO13',  
         DX = 0.070709997415543, DY = 0.070709997415543))
                                  )

# ______________________________________________________________________
#
#                         RESOLUTION
# ______________________________________________________________________
#
MEL1=CALC_MATR_ELEM(  MODELE=MO, CHARGE=CHME, CHAM_MATER=CHMUL1,
                         CARA_ELEM=EP, OPTION='RIGI_MECA' )

VEL1=CALC_VECT_ELEM(  OPTION='CHAR_MECA', CHAM_MATER=CHMUL1,
                         CHARGE=CHME, CARA_ELEM=EP )

NU1=NUME_DDL(  MATR_RIGI=MEL1 )

MATASS1=ASSE_MATRICE(  MATR_ELEM=MEL1, NUME_DDL=NU1 )

VECASS1=ASSE_VECTEUR(  VECT_ELEM=VEL1, NUME_DDL=NU1 )

MATASS1=FACT_LDLT(reuse=MATASS1,MATR_ASSE=MATASS1 )

DEP1=RESO_LDLT(  MATR_FACT=MATASS1, CHAM_NO=VECASS1 )

EFF1=CALC_CHAM_ELEM(   MODELE=MO,    CHAM_MATER=CHMUL1,  DEPL=DEP1,
                          CARA_ELEM=EP,    OPTION='EFGE_ELNO_DEPL', 
                         PLAN='MOY')

# ______________________________________________________________________
#
MEL2=CALC_MATR_ELEM(  MODELE=MO, CHARGE=CHME, CHAM_MATER=CHMUL2,
                         CARA_ELEM=EP2, OPTION='RIGI_MECA' )

VEL2=CALC_VECT_ELEM(  OPTION='CHAR_MECA', CHAM_MATER=CHMUL2,
                         CHARGE=CHME, CARA_ELEM=EP2 )

NU2=NUME_DDL(  MATR_RIGI=MEL2 )

MATASS2=ASSE_MATRICE(  MATR_ELEM=MEL2, NUME_DDL=NU2 )

VECASS2=ASSE_VECTEUR(  VECT_ELEM=VEL2, NUME_DDL=NU2 )

MATASS2=FACT_LDLT(reuse=MATASS2,MATR_ASSE=MATASS2 )

DEP2=RESO_LDLT(  MATR_FACT=MATASS2, CHAM_NO=VECASS2 )

EFF2=CALC_CHAM_ELEM(   MODELE=MO,    CHAM_MATER=CHMUL2,  DEPL=DEP2,
                          CARA_ELEM=EP,    OPTION='EFGE_ELNO_DEPL',
                         PLAN='MOY' )

# ______________________________________________________________________
#
MEL3=CALC_MATR_ELEM(  MODELE=MO3, CHARGE=CHME3, CHAM_MATER=CHMUL3,
                         CARA_ELEM=EP3, OPTION='RIGI_MECA' )

VEL3=CALC_VECT_ELEM(  OPTION='CHAR_MECA', CHAM_MATER=CHMUL3,
                         CHARGE=CHME3, CARA_ELEM=EP3 )

NU3=NUME_DDL(  MATR_RIGI=MEL3 )

MATASS3=ASSE_MATRICE(  MATR_ELEM=MEL3, NUME_DDL=NU3 )

VECASS3=ASSE_VECTEUR(  VECT_ELEM=VEL3, NUME_DDL=NU3 )

MATASS3=FACT_LDLT(reuse=MATASS3,MATR_ASSE=MATASS3 )

DEP3=RESO_LDLT(  MATR_FACT=MATASS3, CHAM_NO=VECASS3 )

EFF3=CALC_CHAM_ELEM(   MODELE=MO3,    CHAM_MATER=CHMUL3,  DEPL=DEP3,
                          CARA_ELEM=EP3,    OPTION='EFGE_ELNO_DEPL',
                         PLAN='MOY' )

# ______________________________________________________________________
#
#
TEST_RESU(CHAM_NO=(
 _F( CHAM_GD = DEP1, NOEUD = 'N1', NOM_CMP = 'DZ',
                                     VALE = -0.169388457, PRECISION = .005),
 _F( CHAM_GD = DEP1, NOEUD = 'N10', NOM_CMP = 'DX', VALE = 8.96261E-3),
 _F( CHAM_GD = DEP1, NOEUD = 'N10', NOM_CMP = 'DY', VALE = 8.17057E-3),
 _F( CHAM_GD = DEP1, NOEUD = 'N10', NOM_CMP = 'DZ', VALE = 1.63599E-1),
 _F( CHAM_GD = DEP1, NOEUD = 'N10', NOM_CMP = 'DRX', VALE = 4.19643),
 _F( CHAM_GD = DEP1, NOEUD = 'N10', NOM_CMP = 'DRY', VALE = -5.07935E-02),
#
#
 _F( CHAM_GD = DEP2, NOEUD = 'N1', NOM_CMP = 'DZ',
                                     VALE = -0.169388457, PRECISION = .005),
 _F( CHAM_GD = DEP2, NOEUD = 'N10', NOM_CMP = 'DX', VALE = 8.96261E-3),
 _F( CHAM_GD = DEP2, NOEUD = 'N10', NOM_CMP = 'DY', VALE = 8.17057E-3),
 _F( CHAM_GD = DEP2, NOEUD = 'N10', NOM_CMP = 'DZ', VALE = 1.63599E-1),
 _F( CHAM_GD = DEP2, NOEUD = 'N10', NOM_CMP = 'DRX', VALE = 4.19643),
 _F( CHAM_GD = DEP2, NOEUD = 'N10', NOM_CMP = 'DRY', VALE = -5.07935E-02),
#
#
 _F( CHAM_GD = DEP3, NOEUD = 'N1', NOM_CMP = 'DZ',
                                     VALE = -0.169388457, PRECISION = .005),
 _F( CHAM_GD = DEP3, NOEUD = 'N10', NOM_CMP = 'DX', VALE = 8.96261E-3),
 _F( CHAM_GD = DEP3, NOEUD = 'N10', NOM_CMP = 'DY', VALE = 8.17057E-3),
 _F( CHAM_GD = DEP3, NOEUD = 'N10', NOM_CMP = 'DZ', VALE = 1.63599E-1),
 _F( CHAM_GD = DEP3, NOEUD = 'N10', NOM_CMP = 'DRX', VALE = 4.19643),
 _F( CHAM_GD = DEP3, NOEUD = 'N10', NOM_CMP = 'DRY', VALE = -5.07935E-02)),CHAM_ELEM=(
#
 _F( CHAM_GD = EFF1,  MAILLE = 'M5',  NOEUD = 'N1',  NOM_CMP = 'MXX',
                                     VALE = 23.16277E-6, PRECISION = .010),
 _F( CHAM_GD = EFF1,  MAILLE = 'M5',  NOEUD = 'N1',  NOM_CMP = 'MYY',
                                     VALE = -2.48875E-4, PRECISION = .010),
#
 _F( CHAM_GD = EFF2,  MAILLE = 'M5',  NOEUD = 'N1',  NOM_CMP = 'MXX',
                                     VALE = 23.16277E-6, PRECISION = .010),
 _F( CHAM_GD = EFF2,  MAILLE = 'M5',  NOEUD = 'N1',  NOM_CMP = 'MYY',
                                     VALE = -2.48875E-4, PRECISION = .010))
          )

FIN()
#
