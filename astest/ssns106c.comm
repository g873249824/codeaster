# person_in_charge: sebastien.fayolle at edf.fr
# TITRE  ENDOMMAGEMENT D UNE PLAQUE PLANE SOUS SOLLICITATIONS VARIEES
# ======================================================================
# COPYRIGHT (C) 1991 - 2013  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#  DETAILS : MODELISATION : MULTI-COUCHES
#                          (DKT- ENDO_ISOT_BETON+2*GRILLE ACIER)
#                                           VS.
#                           DKTG (GLRC_DM)
#            MAILLAGE     : TRIA3
#            CHARGEMENT   : CYCLIQUE TRACTION/COMPRESSION + FLEXION
#            REMARQUE 1   : LES PARAMETRES GLRC_DM ONT ETE IDENTIFIES
#                           A PARTIR DES TESTS SSNS106A ET SSNS106B

DEBUT(CODE=_F(
NIV_PUB_WEB='INTERNET',),DEBUG=_F(SDVERI='NON'))
# SDVERI='NON' car la verification est trop couteuse en CPU
EP = 0.1;

DEP0 = 0.0002;

DR0 = 0.006;

t1 = 1.0;

t2 = (3 * t1);

t3 = (4.0 * t1);

dt = 0.05;

fx = 500000.0;


MAIL=LIRE_MAILLAGE();

MAIL=DEFI_GROUP(reuse =MAIL,
                MAILLAGE=MAIL,
                CREA_GROUP_NO=(_F(GROUP_MA='A1A2',),
                               _F(GROUP_MA='A4A3',),
                               _F(GROUP_MA='A2A4',),
                               _F(GROUP_MA='A3A1',),),);

MAIL=MODI_MAILLAGE(reuse =MAIL,
                   MAILLAGE=MAIL,
                   ORIE_NORM_COQUE=_F(GROUP_MA='DALLE',
                                      VECT_NORM=(0.,0.,1.,),
                                      GROUP_NO='A1',),);

MA=CREA_MAILLAGE(MAILLAGE=MAIL,
                 CREA_GROUP_MA=(_F(NOM='ACIER2L',
                                   GROUP_MA='DALLE',
                                   PREF_MAILLE='A2L',),
                                _F(NOM='ACIER1T',
                                   GROUP_MA='DALLE',
                                   PREF_MAILLE='A1T',),
                                _F(NOM='ACIER2T',
                                   GROUP_MA='DALLE',
                                   PREF_MAILLE='A2T',),
                                _F(NOM='ACIER1L',
                                   GROUP_MA='DALLE',
                                   PREF_MAILLE='A1L',),
                                _F(NOM='DALLE_G',
                                   GROUP_MA='DALLE',
                                   PREF_MAILLE='G',),),);

MO=AFFE_MODELE(MAILLAGE=MA,
               INFO=1,
               AFFE=(_F(GROUP_MA='DALLE',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='DKT',),
                     _F(GROUP_MA='ACIER1L',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='GRILLE_EXCENTRE',),
                     _F(GROUP_MA='ACIER1T',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='GRILLE_EXCENTRE',),
                     _F(GROUP_MA='ACIER2L',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='GRILLE_EXCENTRE',),
                     _F(GROUP_MA='ACIER2T',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='GRILLE_EXCENTRE',),),);

MO_G=AFFE_MODELE(MAILLAGE=MA,
                 INFO=1,
                 AFFE=_F(GROUP_MA='DALLE_G',
                         PHENOMENE='MECANIQUE',
                         MODELISATION='DKTG',),);
EB = 32308000000.0;


BETON_E=DEFI_MATERIAU(ELAS=_F(E=EB,
                              NU=0.2,
                              RHO=2500.0,),
                      BETON_ECRO_LINE=_F(D_SIGM_EPSI=(-0.2 * EB),
                                         SYT=3.4E6,),);

ACIER=DEFI_MATERIAU(ELAS=_F(E=2.E11,
                            NU=0.2,
                            RHO=7800.0,
                            AMOR_ALPHA=3.7771128018011707E-05,
                            AMOR_BETA=2.6476993459625175,),
                    ECRO_LINE=_F(D_SIGM_EPSI=3.E8,
                                 SY=5.70000000E8,),
                    INFO=1,);
EGM = 35700000000.0;

EGF = 38700000000.0;

NUF = 0.17;


MAT_G=DEFI_MATERIAU(ELAS_GLRC=_F(E_M=EGM,
                                 NU_M=0.18,
                                 E_F=EGF,
                                 NU_F=NUF,),
                    GLRC_DM=_F(GAMMA_T=0.02,
                               GAMMA_F=0.32,
                               NYT=3.7E5,
                               MYF=9.0E3,),);

MATER=AFFE_MATERIAU(MAILLAGE=MA,
                    AFFE=(_F(GROUP_MA='DALLE_G',
                             MATER=MAT_G,),
                          _F(GROUP_MA='DALLE',
                             MATER=BETON_E,),
                          _F(GROUP_MA='ACIER1L',
                             MATER=ACIER,),
                          _F(GROUP_MA='ACIER1T',
                             MATER=ACIER,),
                          _F(GROUP_MA='ACIER2L',
                             MATER=ACIER,),
                          _F(GROUP_MA='ACIER2T',
                             MATER=ACIER,),),);

CAEL=AFFE_CARA_ELEM(MODELE=MO,
                    INFO=1,
                    COQUE=_F(GROUP_MA='DALLE',
                             EPAIS=EP,
                             ANGL_REP=(0.0,0.0,),
                             COQUE_NCOU=11,
                             INER_ROTA='OUI',
                             MODI_METRIQUE='NON',),
                    GRILLE=(_F(GROUP_MA='ACIER1L',
                               SECTION=8.0E-4,
                               ANGL_REP=(0.0,0.0,),
                               EXCENTREMENT=(-(EP) * 0.4),
                               COEF_RIGI_DRZ=1.E-10,),
                            _F(GROUP_MA='ACIER1T',
                               SECTION=8.0E-4,
                               ANGL_REP=(90.0,0.0,),
                               EXCENTREMENT=(-(EP) * 0.4),
                               COEF_RIGI_DRZ=1.E-10,),
                            _F(GROUP_MA='ACIER2L',
                               SECTION=8.0E-4,
                               ANGL_REP=(0.0,0.0,),
                               EXCENTREMENT=(EP * 0.4),
                               COEF_RIGI_DRZ=1.E-10,),
                            _F(GROUP_MA='ACIER2T',
                               SECTION=8.0E-4,
                               ANGL_REP=(90.0,0.0,),
                               EXCENTREMENT=(EP * 0.4),
                               COEF_RIGI_DRZ=1.E-10,),),);

CAEL_G=AFFE_CARA_ELEM(MODELE=MO_G,
                      COQUE=_F(GROUP_MA='DALLE_G',
                               EPAIS=EP,
                               ANGL_REP=(0.0,0.0,),
                               INER_ROTA='OUI',),);

COND_0=AFFE_CHAR_MECA(MODELE=MO,
                      DDL_IMPO=(_F(GROUP_NO='A1',
                                   DX=0.0,
                                   DY=0.0,
                                   DZ=0.0,
                                   DRX=0.0,
                                   DRY=0.0,
                                   DRZ=0.0,),
                                _F(GROUP_MA='A3A1',
                                   DX=0.0,
                                   DRY=0.0,),),);

COND_1=AFFE_CHAR_MECA(MODELE=MO,
                      DDL_IMPO=_F(GROUP_MA='A2A4',
                                  DX=DEP0,
                                  DRY=DR0,),);

COND_2_M=AFFE_CHAR_MECA(MODELE=MO,
                        DDL_IMPO=_F(GROUP_MA='A2A4',
                                    DX=DEP0,),);

COND_2_F=AFFE_CHAR_MECA(MODELE=MO,
                        DDL_IMPO=_F(GROUP_MA='A2A4',
                                    DRY=DR0,),);

chf1=DEFI_FONCTION(NOM_PARA='INST',
                   VALE=(0.,0.,
                         t1,1.,
                         t2,-1.,
                         t3,0.,),
                   PROL_DROITE='CONSTANT',
                   PROL_GAUCHE='CONSTANT',);

chf2=DEFI_FONCTION(NOM_PARA='INST',
                   VALE=(0.,0.,
                        (t1 / 2.0),1.,
                        (t2 / 2.0),-1.,
                        (t3 / 2.0),0.,
                        ((t1 / 2.0) + (t3 / 2.0)),1.,
                        ((t2 / 2.0) + (t3 / 2.0)),-1.,
                        ((t3 / 2.0) + (t3 / 2.0)),0.,),
                   PROL_DROITE='CONSTANT',
                   PROL_GAUCHE='CONSTANT',);

inst1=DEFI_LIST_REEL(DEBUT=0.0,
                     INTERVALLE=_F(JUSQU_A=t3,
                                   PAS=dt,),);

DEFLIST=DEFI_LIST_INST(DEFI_LIST=_F(METHODE='MANUEL',
                                    LIST_INST=inst1,),
                       ECHEC=_F(ACTION        = 'DECOUPE',
                                SUBD_METHODE  = 'MANUEL',
                                SUBD_PAS=4,
                                SUBD_PAS_MINI=0.0001,),);

#-----------------------------------------------
# CALCUL DES RESULTATS POUR LE CHARGEMENT chf1
#-----------------------------------------------

RESU_R1=STAT_NON_LINE(MODELE=MO,
                      CHAM_MATER=MATER,
                      CARA_ELEM=CAEL,
                      EXCIT=(_F(CHARGE=COND_0,
                                FONC_MULT=chf1,),
                             _F(CHARGE=COND_1,
                                FONC_MULT=chf1,),),
                      COMPORTEMENT=(_F(RELATION='ENDO_ISOT_BETON',ITER_CPLAN_MAXI = 1,
                                    GROUP_MA='DALLE',),
                                 _F(RELATION='GRILLE_ISOT_LINE',
                                    GROUP_MA=('ACIER1L','ACIER2L','ACIER1T','ACIER2T',),),),
                      INCREMENT=_F(LIST_INST=DEFLIST,
                                   PRECISION=0.1,),
                      NEWTON=_F(REAC_ITER=1,),
                      CONVERGENCE=_F(ITER_GLOB_MAXI=26,),);

RESU_R1=CALC_CHAMP(reuse=RESU_R1,
                   RESULTAT=RESU_R1,
                   PRECISION=1.E-3,
                   FORCE=('FORC_NODA',),)

RESU_G1=STAT_NON_LINE(MODELE=MO_G,
                      CHAM_MATER=MATER,
                      CARA_ELEM=CAEL_G,
                      EXCIT=(_F(CHARGE=COND_0,
                                FONC_MULT=chf1,),
                             _F(CHARGE=COND_1,
                                FONC_MULT=chf1,),),
                      COMPORTEMENT=_F(RELATION='GLRC_DM',
                                   RESI_INTE_RELA=1e-16,),
                      INCREMENT=_F(LIST_INST=DEFLIST,
                                   PRECISION=0.1,),
                      NEWTON=_F(REAC_ITER=1,),
                      CONVERGENCE=_F(ITER_GLOB_MAXI=26,),);

RESU_G1=CALC_CHAMP(reuse=RESU_G1,
                   RESULTAT=RESU_G1,
                   PRECISION=1.E-3,
                   FORCE=('FORC_NODA',),
                   VARI_INTERNE=('VARI_ELNO','VARI_NOEU',),);

# ---------------------POST-TRAITEMENT--------------------------

TFXA4_R1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                  INTITULE='A4FX',
                                  RESULTAT=RESU_R1,
                                  NOM_CHAM='FORC_NODA',
                                  GROUP_NO='A4',
                                  NOM_CMP='DX',),),);

TFXA4_R1=CALC_TABLE(reuse =TFXA4_R1,
                    TABLE=TFXA4_R1,
                    ACTION=(_F(OPERATION='FILTRE',
                               NOM_PARA='NUME_ORDRE',
                               CRIT_COMP='GT',
                               VALE=0,),),);



TFXA4_G1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                  INTITULE='A4FX',
                                  RESULTAT=RESU_G1,
                                  NOM_CHAM='FORC_NODA',
                                  GROUP_NO='A4',
                                  NOM_CMP='DX',),),);

TFXA4_G1=CALC_TABLE(reuse =TFXA4_G1,
               TABLE=TFXA4_G1,
               ACTION=(_F(OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,),),);

TFXA2_R1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A2FX',
                                 RESULTAT=RESU_R1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A2',
                                 NOM_CMP='DX',),),);

TFXA2_R1=CALC_TABLE(reuse =TFXA2_R1,
               TABLE=TFXA2_R1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TFXA2_G1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A2FX',
                                 RESULTAT=RESU_G1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A2',
                                 NOM_CMP='DX',),
                                 ),);


TFXA2_G1=CALC_TABLE(reuse =TFXA2_G1,
               TABLE=TFXA2_G1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TFXA6_R1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A6FX',
                                 RESULTAT=RESU_R1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A6',
                                 NOM_CMP='DX',),
                                ),

                                 );


TFXA6_R1=CALC_TABLE(reuse =TFXA6_R1,
               TABLE=TFXA6_R1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TFXA6_G1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A6FX',
                                 RESULTAT=RESU_G1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A6',
                                 NOM_CMP='DX',),), );


TFXA6_G1=CALC_TABLE(reuse =TFXA6_G1,
               TABLE=TFXA6_G1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TD_1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                             INTITULE='A4D',
                             RESULTAT=RESU_G1,
                             NOM_CHAM='VARI_ELNO',
                             GROUP_NO='A4',
                             NOM_CMP=('V1','V2',),),
                           ),

                             );

TD_1=CALC_TABLE(reuse =TD_1,
               TABLE=TD_1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TD_1=CALC_TABLE(reuse =TD_1,
                TABLE=TD_1,
                ACTION=(_F(OPERATION='EXTR',
                           NOM_PARA=('INST','V1','V2',),),
                        _F(OPERATION='RENOMME',
                           NOM_PARA=('V1','D1',),),
                        _F(OPERATION='RENOMME',
                           NOM_PARA=('V2','D2',),),),);

TFXA2_R1=CALC_TABLE(reuse =TFXA2_R1,
                    TABLE=TFXA2_R1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA2',),),),);

TFXA2_G1=CALC_TABLE(reuse =TFXA2_G1,
                    TABLE=TFXA2_G1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA2',),),),);

TFXA4_R1=CALC_TABLE(reuse =TFXA4_R1,
                    TABLE=TFXA4_R1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA4',),),),);

TFXA4_G1=CALC_TABLE(reuse =TFXA4_G1,
                    TABLE=TFXA4_G1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA4',),),),);

TFXA6_R1=CALC_TABLE(reuse =TFXA6_R1,
                    TABLE=TFXA6_R1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA6',),),),);

TFXA6_G1=CALC_TABLE(reuse =TFXA6_G1,
                    TABLE=TFXA6_G1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA6',),),),);

SUM_FX = FORMULE(VALE='FXA2+FXA4+FXA6',
                 NOM_PARA=('FXA2','FXA4','FXA6',),);

D_REL_FX = FORMULE(VALE='(FXG-FX)/FX',
                   NOM_PARA=('FX','FXG',),);

D_REL_DY = FORMULE(VALE='(DYG-DY)/DY',
                   NOM_PARA=('DY','DYG',),);

TFX_R1=CALC_TABLE(TABLE=TFXA2_R1,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TFXA4_R1,
                             NOM_PARA='INST',),
                          _F(OPERATION='COMB',
                             TABLE=TFXA6_R1,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=SUM_FX,
                             NOM_PARA='FX',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','FX',),),),);

TFX_G1=CALC_TABLE(TABLE=TFXA2_G1,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TFXA4_G1,
                             NOM_PARA='INST',),
                          _F(OPERATION='COMB',
                             TABLE=TFXA6_G1,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=SUM_FX,
                             NOM_PARA='FXG',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','FXG',),),),);

D_FX_1=CALC_TABLE(TABLE=TFX_R1,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TFX_G1,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=D_REL_FX,
                             NOM_PARA='FXG_FX',),),);

DETRUIRE(CONCEPT=_F(NOM=(TFXA2_R1,TFXA2_G1,TFXA4_R1,TFXA4_G1,TFXA6_R1,TFXA6_G1,TFX_R1,TFX_G1,),),);

TDY_R1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                               INTITULE='A4DY',
                               RESULTAT=RESU_R1,
                               NOM_CHAM='DEPL',
                               GROUP_NO='A4',
                               NOM_CMP='DY',),),);

TDY_R1=CALC_TABLE(reuse =TDY_R1,
               TABLE=TDY_R1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TDY_G1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                               INTITULE='A4DY',
                               RESULTAT=RESU_G1,
                               NOM_CHAM='DEPL',
                               GROUP_NO='A4',
                               NOM_CMP='DY',),),);

TDY_G1=CALC_TABLE(reuse =TDY_G1,
               TABLE=TDY_G1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TDY_G1=CALC_TABLE(reuse =TDY_G1,
                  TABLE=TDY_G1,
                  ACTION=(_F(OPERATION='EXTR',
                             NOM_PARA=('INST','DY',),),
                          _F(OPERATION='RENOMME',
                             NOM_PARA=('DY','DYG',),),),);

D_DY_1=CALC_TABLE(TABLE=TDY_R1,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TDY_G1,
                             NOM_PARA='INST',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','DY','DYG',),),),);

D_DY_1=CALC_TABLE(reuse =D_DY_1,
                  TABLE=D_DY_1,
                  ACTION=_F(OPERATION='FILTRE',
                            NOM_PARA='DY',
                            CRIT_COMP='NE',
                            VALE=0.0,),);

D_DY_1=CALC_TABLE(reuse =D_DY_1,
                  TABLE=D_DY_1,
                  ACTION=_F(OPERATION='OPER',
                            FORMULE=D_REL_DY,
                            NOM_PARA='DYG_DY',),);

DETRUIRE(CONCEPT=_F(NOM=(TDY_R1,TDY_G1,),),);

TMYA4_R1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A4MY',
                                 RESULTAT=RESU_R1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A4',
                                 NOM_CMP='DRY',),
                              ),

                                 );

TMYA4_R1=CALC_TABLE(reuse =TMYA4_R1,
               TABLE=TMYA4_R1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA4_G1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A4MY',
                                 RESULTAT=RESU_G1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A4',
                                 NOM_CMP='DRY',),
                               ),

                                 );


TMYA4_G1=CALC_TABLE(reuse =TMYA4_G1,
               TABLE=TMYA4_G1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA2_R1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A2MY',
                                 RESULTAT=RESU_R1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A2',
                                 NOM_CMP='DRY',),
                               ),

                                 );


TMYA2_R1=CALC_TABLE(reuse =TMYA2_R1,
               TABLE=TMYA2_R1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA2_G1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A2MY',
                                 RESULTAT=RESU_G1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A2',
                                 NOM_CMP='DRY',),
                               ),);

TMYA2_G1=CALC_TABLE(reuse =TMYA2_G1,
               TABLE=TMYA2_G1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA6_R1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A6MY',
                                 RESULTAT=RESU_R1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A6',
                                 NOM_CMP='DRY',),
                               ),);

TMYA6_R1=CALC_TABLE(reuse =TMYA6_R1,
               TABLE=TMYA6_R1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA6_G1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A6MY',
                                 RESULTAT=RESU_G1,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A6',
                                 NOM_CMP='DRY',),),);

TMYA6_G1=CALC_TABLE(reuse =TMYA6_G1,
               TABLE=TMYA6_G1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA2_R1=CALC_TABLE(reuse =TMYA2_R1,
                    TABLE=TMYA2_R1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA2',),),),);

TMYA2_G1=CALC_TABLE(reuse =TMYA2_G1,
                    TABLE=TMYA2_G1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA2',),),),);

TMYA4_R1=CALC_TABLE(reuse =TMYA4_R1,
                    TABLE=TMYA4_R1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA4',),),),);

TMYA4_G1=CALC_TABLE(reuse =TMYA4_G1,
                    TABLE=TMYA4_G1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA4',),),),);

TMYA6_R1=CALC_TABLE(reuse =TMYA6_R1,
                    TABLE=TMYA6_R1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA6',),),),);

TMYA6_G1=CALC_TABLE(reuse =TMYA6_G1,
                    TABLE=TMYA6_G1,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA6',),),),);

SUM_MY = FORMULE(VALE='MYA2+MYA4+MYA6',
                 NOM_PARA=('MYA2','MYA4','MYA6',),);

D_REL_MY = FORMULE(VALE='MY and (MYG-MY)/MY',
                   NOM_PARA=('MY','MYG',),);

D_REL_RX = FORMULE(VALE='RX and (RXG-RX)/RX',
                   NOM_PARA=('RX','RXG',),);

TMY_R1=CALC_TABLE(TABLE=TMYA2_R1,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TMYA4_R1,
                             NOM_PARA='INST',),
                          _F(OPERATION='COMB',
                             TABLE=TMYA6_R1,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=SUM_MY,
                             NOM_PARA='MY',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','MY',),),),);

TMY_G1=CALC_TABLE(TABLE=TMYA2_G1,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TMYA4_G1,
                             NOM_PARA='INST',),
                          _F(OPERATION='COMB',
                             TABLE=TMYA6_G1,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=SUM_MY,
                             NOM_PARA='MYG',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','MYG',),),),);

D_MY_1=CALC_TABLE(TABLE=TMY_R1,
                  ACTION=_F(OPERATION='COMB',
                            TABLE=TMY_G1,
                            NOM_PARA='INST',),);

D_MY_1=CALC_TABLE(reuse =D_MY_1,
                  TABLE=D_MY_1,
                  ACTION=_F(OPERATION='FILTRE',
                            NOM_PARA='MY',
                            CRIT_COMP='NE',
                            VALE=0.0,),);

D_MY_1=CALC_TABLE(reuse =D_MY_1,
                  TABLE=D_MY_1,
                  ACTION=_F(OPERATION='OPER',
                            FORMULE=D_REL_MY,
                            NOM_PARA='MYG_MY',),);

DETRUIRE(CONCEPT=_F(NOM=(TMYA2_R1,TMYA2_G1,TMYA4_R1,TMYA4_G1,TMYA6_R1,TMYA6_G1,TMY_R1,TMY_G1,),),);

TRX_R1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                               INTITULE='A4RX',
                               RESULTAT=RESU_R1,
                               NOM_CHAM='DEPL',
                               GROUP_NO='A4',
                               NOM_CMP='DRX',),
                             ),

                               );


TRX_R1=CALC_TABLE(reuse =TRX_R1,
               TABLE=TRX_R1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TRX_G1=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                               INTITULE='A4RX',
                               RESULTAT=RESU_G1,
                               NOM_CHAM='DEPL',
                               GROUP_NO='A4',
                               NOM_CMP='DRX',),
                             ),
                               );

TRX_G1=CALC_TABLE(reuse =TRX_G1,
               TABLE=TRX_G1,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TRX_R1=CALC_TABLE(reuse =TRX_R1,
                  TABLE=TRX_R1,
                  ACTION=_F(OPERATION='RENOMME',
                            NOM_PARA=('DRX','RX',),),);

TRX_G1=CALC_TABLE(reuse =TRX_G1,
                  TABLE=TRX_G1,
                  ACTION=(_F(OPERATION='EXTR',
                             NOM_PARA=('INST','DRX',),),
                          _F(OPERATION='RENOMME',
                             NOM_PARA=('DRX','RXG',),),),);

D_RX_1=CALC_TABLE(TABLE=TRX_R1,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TRX_G1,
                             NOM_PARA='INST',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','RX','RXG',),),
                          _F(OPERATION='OPER',
                             FORMULE=D_REL_RX,
                             NOM_PARA='RXG_RX',),),);

DETRUIRE(CONCEPT=_F(NOM=(TRX_R1,TRX_G1,),),);

IMPR_TABLE(TABLE=D_FX_1,);

IMPR_TABLE(TABLE=D_DY_1,);

IMPR_TABLE(TABLE=D_MY_1,);

IMPR_TABLE(TABLE=D_RX_1,);

IMPR_TABLE(TABLE=TD_1,);

#----- TRACTION - PHASE ELASTIQUE -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.030876838114000001,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.25,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=6.800245297E-3,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.25,),
           )

#----- TRACTION - PHASE ENDOMMAGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.61997692074999999,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.0,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=1.0302274,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.0,),
           )

#----- TRACTION - PHASE DECHARGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.61997692000000004,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=1.03022729,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.5,),
           )

#----- COMPRESSION - PHASE CHARGEMENT-----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.072583949999999994,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.0,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.51344771,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.0,),
           )

#----- COMPRESSION - PHASE DECHARGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.072583957000000005,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.51344772319999998,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.5,),
           )

#----- FLEXION POSITIVE - PHASE ELASTIQUE -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.050662535000000002,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.25,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.045605542899999997,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.25,),
           )

#----- FLEXION POSITIVE - PHASE ENDOMMAGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=1.1531708300000001,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.0,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=4.37904406,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.0,),
           )

#----- FLEXION POSITIVE - PHASE DECHARGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=1.1531708300000001,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=4.37904377,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.5,),
           )

#----- FLEXION NEGATIVE - PHASE ELASTIQUE -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.27903974999999998,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=2.25,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.045021525105000001,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=2.25,),
           )

#----- FLEXION NEGATIVE - PHASE ENDOMMAGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.30557129,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.0,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.074300952599999998,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.0,),
           )

#----- FLEXION NEGATIVE - PHASE DECHARGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.30557129,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.074300950000000004,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_1,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.5,),
           )

#-----------------------------------------------
# CALCUL DES RESULTATS POUR LE CHARGEMENT chf2
#-----------------------------------------------

RESU_R2=STAT_NON_LINE(MODELE=MO,
                      CHAM_MATER=MATER,
                      CARA_ELEM=CAEL,
                      EXCIT=(_F(CHARGE=COND_0,
                                FONC_MULT=chf1,),
                             _F(CHARGE=COND_2_M,
                                FONC_MULT=chf2,),
                             _F(CHARGE=COND_2_F,
                                FONC_MULT=chf1,),),
                      COMPORTEMENT=(_F(RELATION='ENDO_ISOT_BETON', ITER_CPLAN_MAXI = 1,
                                    GROUP_MA='DALLE',),
                                 _F(RELATION='GRILLE_ISOT_LINE',
                                    GROUP_MA=('ACIER1L','ACIER2L','ACIER1T','ACIER2T',),),),
                      INCREMENT=_F(LIST_INST=DEFLIST,
                                   PRECISION=0.1,),
                      NEWTON=_F(REAC_ITER=1,),
                      CONVERGENCE=_F(ITER_GLOB_MAXI=26,),);

RESU_R2=CALC_CHAMP(reuse =RESU_R2,RESULTAT=RESU_R2,PRECISION=1.E-3,
             FORCE=('FORC_NODA',),)

RESU_G2=STAT_NON_LINE(MODELE=MO_G,
                      CHAM_MATER=MATER,
                      CARA_ELEM=CAEL_G,
                      EXCIT=(_F(CHARGE=COND_0,
                                FONC_MULT=chf1,),
                             _F(CHARGE=COND_2_M,
                                FONC_MULT=chf2,),
                             _F(CHARGE=COND_2_F,
                                FONC_MULT=chf1,),),
                      COMPORTEMENT=_F(RELATION='GLRC_DM',
                                   RESI_INTE_RELA=1e-16,),
                      INCREMENT=_F(LIST_INST=DEFLIST,
                                   PRECISION=0.1,),
                      NEWTON=_F(REAC_ITER=1,),
                      CONVERGENCE=_F(ITER_GLOB_MAXI=26,),);

RESU_G2=CALC_CHAMP(reuse =RESU_G2,RESULTAT=RESU_G2,PRECISION=1.E-3,
             FORCE=('FORC_NODA',),
             VARI_INTERNE=('VARI_ELNO','VARI_NOEU',),
             )

# ---------------------POST-TRAITEMENT--------------------------

TFXA4_R2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A4FX',
                                 RESULTAT=RESU_R2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A4',
                                 NOM_CMP='DX',),
                               ),

                                 );

TFXA4_R2=CALC_TABLE(reuse =TFXA4_R2,
               TABLE=TFXA4_R2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TFXA4_G2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A4FX',
                                 RESULTAT=RESU_G2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A4',
                                 NOM_CMP='DX',),
                              ),
                                 );

TFXA4_G2=CALC_TABLE(reuse =TFXA4_G2,
               TABLE=TFXA4_G2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TFXA2_R2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A2FX',
                                 RESULTAT=RESU_R2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A2',
                                 NOM_CMP='DX',),
                               ),

                                 );

TFXA4_R2=CALC_TABLE(reuse =TFXA4_R2,
               TABLE=TFXA4_R2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TFXA2_G2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A2FX',
                                 RESULTAT=RESU_G2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A2',
                                 NOM_CMP='DX',),),);

TFXA2_G2=CALC_TABLE(reuse =TFXA2_G2,
               TABLE=TFXA2_G2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TFXA6_R2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A6FX',
                                 RESULTAT=RESU_R2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A6',
                                 NOM_CMP='DX',),
                              ),);

TFXA6_R2=CALC_TABLE(reuse =TFXA6_R2,
               TABLE=TFXA6_R2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TFXA6_G2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A6FX',
                                 RESULTAT=RESU_G2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A6',
                                 NOM_CMP='DX',),
                               ),);


TFXA6_G2=CALC_TABLE(reuse =TFXA6_G2,
               TABLE=TFXA6_G2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TD_2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                             INTITULE='A4D',
                             RESULTAT=RESU_G2,
                             NOM_CHAM='VARI_ELNO',
                             GROUP_NO='A4',
                             NOM_CMP=('V1','V2',),),
                           ),

                             );

TD_2=CALC_TABLE(reuse =TD_2,
               TABLE=TD_2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TD_2=CALC_TABLE(reuse =TD_2,
                TABLE=TD_2,
                ACTION=(_F(OPERATION='EXTR',
                           NOM_PARA=('INST','V1','V2',),),
                        _F(OPERATION='RENOMME',
                           NOM_PARA=('V1','D1',),),
                        _F(OPERATION='RENOMME',
                           NOM_PARA=('V2','D2',),),),);

TFXA2_R2=CALC_TABLE(reuse =TFXA2_R2,
                    TABLE=TFXA2_R2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA2',),),),);

TFXA2_G2=CALC_TABLE(reuse =TFXA2_G2,
                    TABLE=TFXA2_G2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA2',),),),);

TFXA4_R2=CALC_TABLE(reuse =TFXA4_R2,
                    TABLE=TFXA4_R2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA4',),),),);

TFXA4_G2=CALC_TABLE(reuse =TFXA4_G2,
                    TABLE=TFXA4_G2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA4',),),),);

TFXA6_R2=CALC_TABLE(reuse =TFXA6_R2,
                    TABLE=TFXA6_R2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA6',),),),);

TFXA6_G2=CALC_TABLE(reuse =TFXA6_G2,
                    TABLE=TFXA6_G2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DX',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DX','FXA6',),),),);

TFX_R2=CALC_TABLE(TABLE=TFXA2_R2,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TFXA4_R2,
                             NOM_PARA='INST',),
                          _F(OPERATION='COMB',
                             TABLE=TFXA6_R2,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=SUM_FX,
                             NOM_PARA='FX',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','FX',),),),);

TFX_G2=CALC_TABLE(TABLE=TFXA2_G2,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TFXA4_G2,
                             NOM_PARA='INST',),
                          _F(OPERATION='COMB',
                             TABLE=TFXA6_G2,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=SUM_FX,
                             NOM_PARA='FXG',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','FXG',),),),);

D_FX_2=CALC_TABLE(TABLE=TFX_R2,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TFX_G2,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=D_REL_FX,
                             NOM_PARA='FXG_FX',),),);

DETRUIRE(CONCEPT=_F(NOM=(TFXA2_R2,TFXA2_G2,TFXA4_R2,TFXA4_G2,TFXA6_R2,TFXA6_G2,TFX_R2,TFX_G2,),),);

TDY_R2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                               INTITULE='A4DY',
                               RESULTAT=RESU_R2,
                               NOM_CHAM='DEPL',
                               GROUP_NO='A4',
                               NOM_CMP='DY',),
                             ),

                               );

TDY_R2=CALC_TABLE(reuse =TDY_R2,
               TABLE=TDY_R2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TDY_G2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                               INTITULE='A4DY',
                               RESULTAT=RESU_G2,
                               NOM_CHAM='DEPL',
                               GROUP_NO='A4',
                               NOM_CMP='DY',),
                             ),);

TDY_G2=CALC_TABLE(reuse =TDY_G2,
               TABLE=TDY_G2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TDY_G2=CALC_TABLE(reuse =TDY_G2,
                  TABLE=TDY_G2,
                  ACTION=(_F(OPERATION='EXTR',
                             NOM_PARA=('INST','DY',),),
                          _F(OPERATION='RENOMME',
                             NOM_PARA=('DY','DYG',),),),);

D_DY_2=CALC_TABLE(TABLE=TDY_R2,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TDY_G2,
                             NOM_PARA='INST',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','DY','DYG',),),),);

D_DY_2=CALC_TABLE(reuse =D_DY_2,
                  TABLE=D_DY_2,
                  ACTION=_F(OPERATION='FILTRE',
                            NOM_PARA='DY',
                            CRIT_COMP='NE',
                            VALE=0.0,),);

D_DY_2=CALC_TABLE(reuse =D_DY_2,
                  TABLE=D_DY_2,
                  ACTION=_F(OPERATION='OPER',
                            FORMULE=D_REL_DY,
                            NOM_PARA='DYG_DY',),);

DETRUIRE(CONCEPT=_F(NOM=(TDY_R2,TDY_G2,),),);

TMYA4_R2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A4MY',
                                 RESULTAT=RESU_R2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A4',
                                 NOM_CMP='DRY',),),

                                 );

TMYA4_R2=CALC_TABLE(reuse =TMYA4_R2,
               TABLE=TMYA4_R2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA4_G2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A4MY',
                                 RESULTAT=RESU_G2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A4',
                                 NOM_CMP='DRY',),
                               ),);

TMYA4_G2=CALC_TABLE(reuse =TMYA4_G2,
               TABLE=TMYA4_G2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);
TMYA2_R2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A2MY',
                                 RESULTAT=RESU_R2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A2',
                                 NOM_CMP='DRY',),
                              ),

                                 );
TMYA2_R2=CALC_TABLE(reuse =TMYA2_R2,
               TABLE=TMYA2_R2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA2_G2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A2MY',
                                 RESULTAT=RESU_G2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A2',
                                 NOM_CMP='DRY',),
                              ),);


TMYA2_G2=CALC_TABLE(reuse =TMYA2_G2,
               TABLE=TMYA2_G2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA6_R2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A6MY',
                                 RESULTAT=RESU_R2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A6',
                                 NOM_CMP='DRY',),
                               ),);

TMYA6_R2=CALC_TABLE(reuse =TMYA6_R2,
               TABLE=TMYA6_R2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA6_G2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                                 INTITULE='A6MY',
                                 RESULTAT=RESU_G2,
                                 NOM_CHAM='FORC_NODA',
                                 GROUP_NO='A6',
                                 NOM_CMP='DRY',),
                               ),);

TMYA6_G2=CALC_TABLE(reuse =TMYA6_G2,
               TABLE=TMYA6_G2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TMYA2_R2=CALC_TABLE(reuse =TMYA2_R2,
                    TABLE=TMYA2_R2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA2',),),),);

TMYA2_G2=CALC_TABLE(reuse =TMYA2_G2,
                    TABLE=TMYA2_G2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA2',),),),);

TMYA4_R2=CALC_TABLE(reuse =TMYA4_R2,
                    TABLE=TMYA4_R2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA4',),),),);

TMYA4_G2=CALC_TABLE(reuse =TMYA4_G2,
                    TABLE=TMYA4_G2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA4',),),),);

TMYA6_R2=CALC_TABLE(reuse =TMYA6_R2,
                    TABLE=TMYA6_R2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA6',),),),);

TMYA6_G2=CALC_TABLE(reuse =TMYA6_G2,
                    TABLE=TMYA6_G2,
                    ACTION=(_F(OPERATION='EXTR',
                               NOM_PARA=('INST','DRY',),),
                            _F(OPERATION='RENOMME',
                               NOM_PARA=('DRY','MYA6',),),),);

TMY_R2=CALC_TABLE(TABLE=TMYA2_R2,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TMYA4_R2,
                             NOM_PARA='INST',),
                          _F(OPERATION='COMB',
                             TABLE=TMYA6_R2,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=SUM_MY,
                             NOM_PARA='MY',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','MY',),),),);

TMY_G2=CALC_TABLE(TABLE=TMYA2_G2,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TMYA4_G2,
                             NOM_PARA='INST',),
                          _F(OPERATION='COMB',
                             TABLE=TMYA6_G2,
                             NOM_PARA='INST',),
                          _F(OPERATION='OPER',
                             FORMULE=SUM_MY,
                             NOM_PARA='MYG',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','MYG',),),),);

D_MY_2=CALC_TABLE(TABLE=TMY_R2,
                  ACTION=_F(OPERATION='COMB',
                            TABLE=TMY_G2,
                            NOM_PARA='INST',),);

D_MY_2=CALC_TABLE(reuse =D_MY_2,
                  TABLE=D_MY_2,
                  ACTION=_F(OPERATION='FILTRE',
                            NOM_PARA='MY',
                            CRIT_COMP='NE',
                            VALE=0.0,),);

D_MY_2=CALC_TABLE(reuse =D_MY_2,
                  TABLE=D_MY_2,
                  ACTION=_F(OPERATION='OPER',
                            FORMULE=D_REL_MY,
                            NOM_PARA='MYG_MY',),);

DETRUIRE(CONCEPT=_F(NOM=(TMYA2_R2,TMYA2_G2,TMYA4_R2,TMYA4_G2,TMYA6_R2,TMYA6_G2,TMY_R2,TMY_G2,),),);

TRX_R2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                               INTITULE='A4RX',
                               RESULTAT=RESU_R2,
                               NOM_CHAM='DEPL',
                               GROUP_NO='A4',
                               NOM_CMP='DRX',),
                             ),);


TRX_R2=CALC_TABLE(reuse =TRX_R2,
               TABLE=TRX_R2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TRX_G2=POST_RELEVE_T(ACTION=(_F(OPERATION='EXTRACTION',
                               INTITULE='A4RX',
                               RESULTAT=RESU_G2,
                               NOM_CHAM='DEPL',
                               GROUP_NO='A4',
                               NOM_CMP='DRX',),
                             ),);

TRX_G2=CALC_TABLE(reuse =TRX_G2,
               TABLE=TRX_G2,
               ACTION=(_F(
                          OPERATION = 'FILTRE',
                          NOM_PARA  = 'NUME_ORDRE',
                          CRIT_COMP = 'GT',
                          VALE    = 0,
                         ),),);

TRX_R2=CALC_TABLE(reuse =TRX_R2,
                  TABLE=TRX_R2,
                  ACTION=_F(OPERATION='RENOMME',
                            NOM_PARA=('DRX','RX',),),);

TRX_G2=CALC_TABLE(reuse =TRX_G2,
                  TABLE=TRX_G2,
                  ACTION=(_F(OPERATION='EXTR',
                             NOM_PARA=('INST','DRX',),),
                          _F(OPERATION='RENOMME',
                             NOM_PARA=('DRX','RXG',),),),);

D_RX_2=CALC_TABLE(TABLE=TRX_R2,
                  ACTION=(_F(OPERATION='COMB',
                             TABLE=TRX_G2,
                             NOM_PARA='INST',),
                          _F(OPERATION='EXTR',
                             NOM_PARA=('INST','RX','RXG',),),
                          _F(OPERATION='OPER',
                             FORMULE=D_REL_RX,
                             NOM_PARA='RXG_RX',),),);


DETRUIRE(CONCEPT=_F(NOM=(TRX_R2,TRX_G2,),),);

IMPR_TABLE(TABLE=D_FX_2,);

IMPR_TABLE(TABLE=D_DY_2,);

IMPR_TABLE(TABLE=D_MY_2,);

IMPR_TABLE(TABLE=D_RX_2,);

IMPR_TABLE(TABLE=TD_2,);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.076636834200000004,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.20000000000000001,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.041575609999999999,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.20000000000000001,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.12333038617,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.25506295699999998,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.0114506078,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.34154423712499998,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.44403954570999998,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=2.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.62120383511999999,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=2.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.058363999069999999,

           NOM_PARA='FXG_FX',
           TABLE=D_FX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.178663987149,

           NOM_PARA='DYG_DY',
           TABLE=D_DY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.5,),
           )

#----- FLEXION POSITIVE - PHASE ELASTIQUE -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.70400930299999998,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.25,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.5980544901,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=0.25,),
           )

#----- FLEXION POSITIVE - PHASE ENDOMMAGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.070430587503000006,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.0,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.46917776574999998,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.0,),
           )

#----- FLEXION POSITIVE - PHASE DECHARGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.40261933432000002,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.41842806299000002,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=1.5,),
           )

#----- FLEXION NEGATIVE - PHASE ELASTIQUE -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.2085420288,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=2.25,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.19483205654999999,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=2.25,),
           )

#----- FLEXION NEGATIVE - PHASE ENDOMMAGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.01497317003,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.0,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.36349892478899998,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.0,),
           )

#----- FLEXION NEGATIVE - PHASE DECHARGEMENT -----

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.33210745294999999,

           NOM_PARA='MYG_MY',
           TABLE=D_MY_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.5,),
           )

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=-0.23297047330000001,

           NOM_PARA='RXG_RX',
           TABLE=D_RX_2,
           FILTRE=_F(NOM_PARA='INST',
                     VALE=3.5,),
           )


#----- TEST DU COMPORTEMENT ELAS_GLRC -----

MAT_G_E=DEFI_MATERIAU(ELAS_GLRC=_F(E_M=EGM,
                                   NU_M=0.18,
                                   E_F=EGF,
                                   NU_F=NUF,),
                      GLRC_DM=_F(GAMMA_T=0.02,
                                 GAMMA_F=0.32,
                                 NYT=1.0E30,
                                 MYF=1.0E30,),);

MATERE=AFFE_MATERIAU(MAILLAGE=MA,
                     AFFE=(_F(GROUP_MA='DALLE_G',
                              MATER=MAT_G_E,),),);

RESU_G3=STAT_NON_LINE(MODELE=MO_G,
                      CHAM_MATER=MATERE,
                      CARA_ELEM=CAEL_G,
                      EXCIT=(_F(CHARGE=COND_0,
                                FONC_MULT=chf1,),
                             _F(CHARGE=COND_1,
                                FONC_MULT=chf1,),),
                      COMPORTEMENT=_F(RELATION='GLRC_DM',
                                      RESI_INTE_RELA=1e-16,),
                      INCREMENT=_F(LIST_INST=DEFLIST,
                                   INST_FIN=t1,),
                      NEWTON=_F(REAC_ITER=1,),);

TRESU_G3=CREA_TABLE(RESU=_F(RESULTAT=RESU_G3,
                            NOM_CHAM='SIEF_ELGA',
                            INST=t1,
                            TOUT_CMP='OUI',
                            TOUT='OUI',),);

IMPR_TABLE(TABLE=TRESU_G3,);

RESU_G4=STAT_NON_LINE(MODELE=MO_G,
                      CHAM_MATER=MATERE,
                      CARA_ELEM=CAEL_G,
                      EXCIT=(_F(CHARGE=COND_0,
                                FONC_MULT=chf1,),
                             _F(CHARGE=COND_1,
                                FONC_MULT=chf1,),),
                      COMPORTEMENT=_F(RELATION='ELAS',),
                      INCREMENT=_F(LIST_INST=DEFLIST,
                                   INST_FIN=t1,),
                      NEWTON=_F(REAC_ITER=1,),);

TRESU_G4=CREA_TABLE(RESU=_F(RESULTAT=RESU_G4,
                            NOM_CHAM='SIEF_ELGA',
                            INST=t1,
                            TOUT_CMP='OUI',
                            TOUT='OUI',),);

RESU_G5=MECA_STATIQUE(MODELE=MO_G,
                      CHAM_MATER=MATERE,
                      CARA_ELEM=CAEL_G,
                      EXCIT=(_F(CHARGE=COND_0,),
                             _F(CHARGE=COND_1,),),);

TRESU_G5=CREA_TABLE(RESU=_F(RESULTAT=RESU_G5,
                            NOM_CHAM='SIEF_ELGA',
                            TOUT_CMP='OUI',
                            TOUT='OUI',),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=7.14000E+05,
           NOM_PARA='NXX',
           TABLE=TRESU_G3,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=7.14000E+05,
           NOM_PARA='NXX',
           TABLE=TRESU_G4,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=7.14000E+05,
           NOM_PARA='NXX',
           TABLE=TRESU_G5,
           FILTRE=(_F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=1.93500E+04,
           NOM_PARA='MXX',
           TABLE=TRESU_G3,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=1.93500E+04,
           NOM_PARA='MXX',
           TABLE=TRESU_G4,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=1.93500E+04,
           NOM_PARA='MXX',
           TABLE=TRESU_G5,
           FILTRE=(_F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

#----- TEST DU COMPORTEMENT ELAS_DHRC -----

MAT_D_E=DEFI_MATERIAU(ELAS_DHRC=_F(
                               A011=3.685E+09,
                               A012=6.985E+08,
                               A013=0.000E+00,
                               A014=4.944E+03,
                               A015=6.651E+02,
                               A016=0.000E+00,
                               A022=3.684E+09,
                               A023=0.000E+00,
                               A024=6.161E+02,
                               A025=4.318E+03,
                               A026=0.000E+00,
                               A033=1.409E+09,
                               A034=0.000E+00,
                               A035=0.000E+00,
                               A036=8.309E+02,
                               A044=3.154E+06,
                               A045=5.835E+05,
                               A046=0.000E+00,
                               A055=3.028E+06,
                               A056=0.000E+00,
                               A066=1.177E+06,),
                    DHRC=_F(
                               SYD=1.7E10,
                               SCRIT=.5E10,
                               K0MICR=1.476E-11,
                               AAC111=2.086E+00,
                               AAC121=2.085E+00,
                               AAC131=1.000E+00,
                               AAC141=2.063E+00,
                               AAC151=1.764E+00,
                               AAC161=1.000E+00,
                               AAC221=2.086E+00,
                               AAC231=1.000E+00,
                               AAC241=1.764E+00,
                               AAC251=2.096E+00,
                               AAC261=1.000E+00,
                               AAC331=1.118E+00,
                               AAC341=1.000E+00,
                               AAC351=1.000E+00,
                               AAC361=1.122E+00,
                               AAC441=2.088E+00,
                               AAC451=2.092E+00,
                               AAC461=1.000E+00,
                               AAC551=2.096E+00,
                               AAC561=1.000E+00,
                               AAC661=1.120E+00,
                               AAC112=2.085E+00,
                               AAC122=2.085E+00,
                               AAC132=1.000E+00,
                               AAC142=2.058E+00,
                               AAC152=1.764E+00,
                               AAC162=1.000E+00,
                               AAC222=2.086E+00,
                               AAC232=1.000E+00,
                               AAC242=1.764E+00,
                               AAC252=2.085E+00,
                               AAC262=1.000E+00,
                               AAC332=1.118E+00,
                               AAC342=1.000E+00,
                               AAC352=1.000E+00,
                               AAC362=1.122E+00,
                               AAC442=2.088E+00,
                               AAC452=2.092E+00,
                               AAC462=1.000E+00,
                               AAC552=2.096E+00,
                               AAC562=1.000E+00,
                               AAC662=1.120E+00,
                               AAT111=1.952E+00,
                               AAT121=1.704E+00,
                               AAT131=1.000E+00,
                               AAT141=2.017E+00,
                               AAT151=1.233E+00,
                               AAT161=1.000E+00,
                               AAT221=1.945E+00,
                               AAT231=1.000E+00,
                               AAT241=1.224E+00,
                               AAT251=2.025E+00,
                               AAT261=1.000E+00,
                               AAT331=1.118E+00,
                               AAT341=1.000E+00,
                               AAT351=1.000E+00,
                               AAT361=1.122E+00,
                               AAT441=2.004E+00,
                               AAT451=1.882E+00,
                               AAT461=1.000E+00,
                               AAT551=2.025E+00,
                               AAT561=1.000E+00,
                               AAT661=1.120E+00,
                               AAT112=1.952E+00,
                               AAT122=1.705E+00,
                               AAT132=1.000E+00,
                               AAT142=2.015E+00,
                               AAT152=1.233E+00,
                               AAT162=1.000E+00,
                               AAT222=1.945E+00,
                               AAT232=1.000E+00,
                               AAT242=1.224E+00,
                               AAT252=2.026E+00,
                               AAT262=1.000E+00,
                               AAT332=1.118E+00,
                               AAT342=1.000E+00,
                               AAT352=1.000E+00,
                               AAT362=1.122E+00,
                               AAT442=2.004E+00,
                               AAT452=1.882E+00,
                               AAT462=1.000E+00,
                               AAT552=2.025E+00,
                               AAT562=1.000E+00,
                               AAT662=1.120E+00,
                               GAC111=8.998E-01,
                               GAC121=8.914E-01,
                               GAC131=1.000E+00,
                               GAC141=1.017E+01,
                               GAC151=3.416E+00,
                               GAC161=1.000E+00,
                               GAC221=8.998E-01,
                               GAC231=1.000E+00,
                               GAC241=3.416E+00,
                               GAC251=1.034E+01,
                               GAC261=1.000E+00,
                               GAC331=3.928E-01,
                               GAC341=1.000E+00,
                               GAC351=1.000E+00,
                               GAC361=2.248E+01,
                               GAC441=9.035E-01,
                               GAC451=8.912E-01,
                               GAC461=1.000E+00,
                               GAC551=8.969E-01,
                               GAC561=1.000E+00,
                               GAC661=3.944E-01,
                               GAC112=8.998E-01,
                               GAC122=8.914E-01,
                               GAC132=1.000E+00,
                               GAC142=-8.195E+00,
                               GAC152=-1.416E+00,
                               GAC162=1.000E+00,
                               GAC222=8.998E-01,
                               GAC232=1.000E+00,
                               GAC242=-1.416E+00,
                               GAC252=-8.325E+00,
                               GAC262=1.000E+00,
                               GAC332=3.928E-01,
                               GAC342=1.000E+00,
                               GAC352=1.000E+00,
                               GAC362=-2.048E+01,
                               GAC442=9.035E-01,
                               GAC452=8.912E-01,
                               GAC462=1.000E+00,
                               GAC552=8.970E-01,
                               GAC562=1.000E+00,
                               GAC662=3.943E-01,
                               GAT111=1.007E-01,
                               GAT121=2.211E-01,
                               GAT131=1.000E+00,
                               GAT141=8.651E+01,
                               GAT151=1.590E+01,
                               GAT161=1.000E+00,
                               GAT221=9.489E-02,
                               GAT231=1.000E+00,
                               GAT241=1.549E+01,
                               GAT251=8.919E+01,
                               GAT261=1.000E+00,
                               GAT331=3.928E-01,
                               GAT341=1.000E+00,
                               GAT351=1.000E+00,
                               GAT361=2.248E+01,
                               GAT441=1.112E-01,
                               GAT451=1.883E-01,
                               GAT461=1.000E+00,
                               GAT551=2.908E-02,
                               GAT561=1.000E+00,
                               GAT661=3.944E-01,
                               GAT112=1.005E-01,
                               GAT122=2.210E-01,
                               GAT132=1.000E+00,
                               GAT142=-8.454E+01,
                               GAT152=-1.390E+01,
                               GAT162=1.000E+00,
                               GAT222=9.489E-02,
                               GAT232=1.000E+00,
                               GAT242=-1.350E+01,
                               GAT252=-8.718E+01,
                               GAT262=1.000E+00,
                               GAT332=3.928E-01,
                               GAT342=1.000E+00,
                               GAT352=1.000E+00,
                               GAT362=-2.048E+01,
                               GAT442=1.111E-01,
                               GAT452=1.882E-01,
                               GAT462=1.000E+00,
                               GAT552=2.917E-02,
                               GAT562=1.000E+00,
                               GAT662=3.943E-01,
                               AB111=1.219E+00,
                               AB121=6.351E-01,
                               AB211=6.895E-01,
                               AB221=1.238E+00,
                               AB311=1.000E+00,
                               AB321=1.000E+00,
                               AB411=1.191E+00,
                               AB421=6.522E-01,
                               AB511=6.234E-01,
                               AB521=1.260E+00,
                               AB611=1.000E+00,
                               AB621=1.000E+00,
                               AB112=1.227E+00,
                               AB122=6.315E-01,
                               AB212=6.950E-01,
                               AB222=1.219E+00,
                               AB312=1.000E+00,
                               AB322=1.000E+00,
                               AB412=1.199E+00,
                               AB422=6.473E-01,
                               AB512=6.287E-01,
                               AB522=1.241E+00,
                               AB612=1.000E+00,
                               AB622=1.000E+00,
                               GB111=-1.071E+08,
                               GB121=-1.689E+07,
                               GB211=-2.012E+07,
                               GB221=-1.035E+08,
                               GB311=0.000E+00,
                               GB321=0.000E+00,
                               GB411=3.474E+06,
                               GB421=4.224E+05,
                               GB511=6.100E+05,
                               GB521=2.594E+06,
                               GB611=0.000E+00,
                               GB621=0.000E+00,
                               GB112=-1.070E+08,
                               GB122=-1.684E+07,
                               GB212=-2.007E+07,
                               GB222=-1.034E+08,
                               GB312=0.000E+00,
                               GB322=0.000E+00,
                               GB412=-3.470E+06,
                               GB422=-4.208E+05,
                               GB512=-6.087E+05,
                               GB522=-2.592E+06,
                               GB612=0.000E+00,
                               GB622=0.000E+00,
                               C0111=5.756E+07,
                               C0211=0.000E+00,
                               C0221=5.717E+07,
                               C0112=5.753E+07,
                               C0212=0.000E+00,
                               C0222=5.712E+07,
                               AC111=1.865E+00,
                               AC211=1.000E+00,
                               AC221=1.779E+00,
                               AC112=1.872E+00,
                               AC212=1.000E+00,
                               AC222=1.785E+00,
                               GC111=2.310E-01,
                               GC211=1.000E+00,
                               GC221=2.605E-01,
                               GC112=2.327E-01,
                               GC212=1.000E+00,
                               GC222=2.577E-01,
                              ),
                   );

MATERD=AFFE_MATERIAU(MAILLAGE=MA,
                     AFFE=(_F(GROUP_MA='DALLE_G',
                              MATER=MAT_D_E,),),);

RESU_G6=STAT_NON_LINE(MODELE=MO_G,
                      CHAM_MATER=MATERD,
                      CARA_ELEM=CAEL_G,
                      EXCIT=(_F(CHARGE=COND_0,
                                FONC_MULT=chf1,),
                             _F(CHARGE=COND_1,
                                FONC_MULT=chf1,),),
                      COMPORTEMENT=_F(RELATION='DHRC',
                                      RESI_INTE_RELA=1e-16,),
                      INCREMENT=_F(LIST_INST=DEFLIST,
                                   INST_FIN=t1,),
                      NEWTON=_F(REAC_ITER=1,),
                      CONVERGENCE=_F(ITER_GLOB_MAXI=26,),);

TRESU_G6=CREA_TABLE(RESU=_F(RESULTAT=RESU_G6,
                            NOM_CHAM='SIEF_ELGA',
                            INST=t1,
                            TOUT_CMP='OUI',
                            TOUT='OUI',),);

IMPR_TABLE(TABLE=TRESU_G6,);

RESU_G7=STAT_NON_LINE(MODELE=MO_G,
                      CHAM_MATER=MATERD,
                      CARA_ELEM=CAEL_G,
                      EXCIT=(_F(CHARGE=COND_0,
                                FONC_MULT=chf1,),
                             _F(CHARGE=COND_1,
                                FONC_MULT=chf1,),),
                      COMPORTEMENT=_F(RELATION='ELAS',),
                      INCREMENT=_F(LIST_INST=DEFLIST,
                                   INST_FIN=t1,),
                      NEWTON=_F(REAC_ITER=1,),);

TRESU_G7=CREA_TABLE(RESU=_F(RESULTAT=RESU_G7,
                            NOM_CHAM='SIEF_ELGA',
                            INST=t1,
                            TOUT_CMP='OUI',
                            TOUT='OUI',),);

RESU_G8=MECA_STATIQUE(MODELE=MO_G,
                      CHAM_MATER=MATERD,
                      CARA_ELEM=CAEL_G,
                      EXCIT=(_F(CHARGE=COND_0,),
                             _F(CHARGE=COND_1,),),);

TRESU_G8=CREA_TABLE(RESU=_F(RESULTAT=RESU_G8,
                            NOM_CHAM='SIEF_ELGA',
                            TOUT_CMP='OUI',
                            TOUT='OUI',),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=710541.504991,
           NOM_PARA='NXX',
           TABLE=TRESU_G6,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=710541.504991,
           NOM_PARA='NXX',
           TABLE=TRESU_G7,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=710541.504991,
           NOM_PARA='NXX',
           TABLE=TRESU_G8,
           FILTRE=(_F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=18250.3235698,
           NOM_PARA='MXX',
           TABLE=TRESU_G6,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=18250.3235698,
           NOM_PARA='MXX',
           TABLE=TRESU_G7,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=18250.3217117,
           NOM_PARA='MXX',
           TABLE=TRESU_G8,
           FILTRE=(_F(NOM_PARA='COOR_X',
                      VALE=8.33333E-01,),
                   _F(NOM_PARA='COOR_Y',
                      VALE=9.16667E-01,),),);
FIN();
