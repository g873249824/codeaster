# TITRE PORTIQUE PLAN ARTICULE EN PIED
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#=======================================================================


DEBUT(CODE=_F(NOM='SSLL14A', NIV_PUB_WEB='INTERNET'), DEBUG=_F(SDVERI='OUI'),IMPR_MACRO='NON')
MA=LIRE_MAILLAGE( FORMAT='MED' )
MA=DEFI_GROUP(reuse=MA,MAILLAGE=MA,
                    DETR_GROUP_NO=_F(NOM=('PORTI1','PORTI3',),),
                    CREA_GROUP_NO=(
                          _F(OPTION='NOEUD_ORDO',GROUP_MA='PORTI1',
                             NOM='PORTI1',
                             NOEUD_ORIG='N11',
                             NOEUD_EXTR='N1',),
                          _F(OPTION='NOEUD_ORDO',GROUP_MA='PORTI3',
                             NOM='PORTI3',
                             NOEUD_ORIG='N31',
                             NOEUD_EXTR='N20',),
                            ))
I1=5.E-04

J1=10.E-04

I2=2.5E-04

J2=5.E-04

E=2.1E+11

#  DONNEES GEOMETRIQUES:

A=4.

H=8.

L=20.

B=( A**2 + ( L / 2 )**2 ) ** 0.5

HSL=H  / L

TGB=L / ( 2. * ( A + H ) )

CSA=L / ( 2. * B )

#  SOLLICITATIONS:

F0=-20.

F1=-20000.

F2=-10000.

P=-3000.

M=-100000.

MATERIAU=DEFI_MATERIAU( ELAS=_F(  E = E,  NU = 0.3) )

CH_MATER=AFFE_MATERIAU(  MAILLAGE=MA,
                             AFFE=_F(  TOUT = 'OUI', MATER = MATERIAU) )

MODELE=AFFE_MODELE(  MAILLAGE=MA,
                           AFFE=_F(  TOUT = 'OUI', PHENOMENE = 'MECANIQUE',
                                  MODELISATION = 'POU_D_E') )

CARA_ELE=AFFE_CARA_ELEM(  MODELE=MODELE,POUTRE=(
                     _F(  SECTION = 'GENERALE',
                              GROUP_MA = ( 'D1',  'D4', ),
                              CARA = ( 'A', 'IY', 'IZ', 'JX', ),
                              VALE = ( 1.,   I1,   I1,   J1,  )),
                            _F(  SECTION = 'GENERALE',
                            GROUP_MA = ( 'D2',  'D3', ),
                              CARA = ( 'A', 'IY', 'IZ', 'JX', ),
                              VALE = ( 1.,   I2,   I2,   J2,  )))  )

BLOQU=AFFE_CHAR_MECA(  MODELE=MODELE,DDL_IMPO=(
             _F(  TOUT = 'OUI',          DZ = 0.),
                      _F(  GROUP_NO = ( 'A',  'B', ),  DX = 0.,   DY = 0.))   )

CHARG1=AFFE_CHAR_MECA(  MODELE=MODELE,
             FORCE_POUTRE=_F(  GROUP_MA = 'D2',   FY = P)   )

CHARG2=AFFE_CHAR_MECA(  MODELE=MODELE,
             FORCE_NODALE=_F(  GROUP_NO = 'C',    FY = F1)   )

CHARG3=AFFE_CHAR_MECA(  MODELE=MODELE,
             FORCE_NODALE=_F(  GROUP_NO = 'D',    FX = F2)   )

CHARG4=AFFE_CHAR_MECA(  MODELE=MODELE,
             FORCE_NODALE=_F(  GROUP_NO = 'D',    MZ = M)   )

CHARG5=AFFE_CHAR_MECA(  MODELE=MODELE,
             FORCE_POUTRE=_F(  GROUP_MA = 'D2',   FY = P),FORCE_NODALE=(
             _F(  GROUP_NO = 'C',    FY = F1),
                          _F(  GROUP_NO = 'D',    FX = F2),
                          _F(  GROUP_NO = 'D',    MZ = M))   )

STATIQUE=MACRO_ELAS_MULT(MODELE=MODELE,
                         CHAM_MATER=CH_MATER,
                         CARA_ELEM=CARA_ELE,
                         CHAR_MECA_GLOBAL=BLOQU,
                         NUME_DDL=CO("NU_DDL"),
                         CAS_CHARGE=_F(NOM_CAS = 'CHARGE NUMERO 1',
                                       CHAR_MECA = CHARG1,
                                       SOUS_TITRE = 'CHARGE REPARTIE VERTICALE SUR LE TRONCON DC',
                                       OPTION =  'SIEF_ELGA',),);

STATIQUE=CALC_CHAMP(reuse= STATIQUE,
                    RESULTAT = STATIQUE,
                    NOM_CAS='CHARGE NUMERO 1',
                    FORCE='REAC_NODA',);

STATIQUE=MACRO_ELAS_MULT(reuse=STATIQUE,
                         MODELE=MODELE,
                         CHAM_MATER=CH_MATER,
                         CARA_ELEM=CARA_ELE,
                         CHAR_MECA_GLOBAL=BLOQU,
                         CAS_CHARGE=(_F(NOM_CAS = 'CHARGE NUMERO 2',
                                        CHAR_MECA = CHARG2,
                                        SOUS_TITRE = 'FORCE PONCTUELLE VERTICALE EN C',),
                                     _F(NOM_CAS = 'CHARGE NUMERO 3',
                                        CHAR_MECA = CHARG3,
                                        SOUS_TITRE = 'FORCE PONCTUELLE HORIZONTALE EN C',),
                                     _F(NOM_CAS = 'CHARGE NUMERO 4',
                                        CHAR_MECA = CHARG4,
                                        SOUS_TITRE = 'MOMEMT EN C',),
                                     _F(NOM_CAS = 'CHARGE NUMERO 5',
                                        CHAR_MECA = CHARG5,
                                        SOUS_TITRE = 'COMBINAISON DES 4 CHARGEMENTS PRECEDENTS',),),);

STATIQUE=CALC_CHAMP(reuse= STATIQUE,
                    RESULTAT = STATIQUE,
                    NOM_CAS = 'CHARGE NUMERO 2',
                    FORCE='REAC_NODA',);

STATIQUE=CALC_CHAMP(reuse= STATIQUE,
                    RESULTAT = STATIQUE,
                    NOM_CAS = 'CHARGE NUMERO 3',
                    FORCE='REAC_NODA',);

STATIQUE=CALC_CHAMP(reuse= STATIQUE,
                    RESULTAT = STATIQUE,
                    NOM_CAS = 'CHARGE NUMERO 4',
                    FORCE='REAC_NODA',);

STATIQUE=CALC_CHAMP(reuse= STATIQUE,
                    RESULTAT = STATIQUE,
                    NOM_CAS = 'CHARGE NUMERO 5',
                    FORCE='REAC_NODA',);

TEST_RESU(RESU=_F(REFERENCE='ANALYTIQUE',
                  RESULTAT=STATIQUE,
                  NOM_CHAM='REAC_NODA',
                  NOEUD='N21',
                  NOM_CMP='DY',
                  VALE_CALC=-3.3509877539473E-08,
                  VALE_REFE=0.0,
                  CRITERE='ABSOLU',
                  PRECISION=1.0000000000000001E-05,
                  NOM_CAS='CHARGE NUMERO 1',),
          )

TAB_REAC=POST_RELEVE_T(
       ACTION=_F(  RESULTAT = STATIQUE,      INTITULE = 'REACTION',
         NOM_CHAM = 'REAC_NODA',   TOUT_ORDRE = 'OUI',
         REPERE = 'GLOBAL',  OPERATION = 'EXTRACTION',
         NOEUD = ( 'N41', 'N1', ),  RESULTANTE = ( 'DX',  'DY',  'DZ', ),
         MOMENT = ( 'DX',  'DY',  'DZ', ),  POINT = ( 10., 12., 0., ))
            )
IMPR_TABLE ( TABLE = TAB_REAC)

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=3.2588441172265E-06,
           VALE_REFE=0.0,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='RESULT_X',
           TABLE=TAB_REAC,
           FILTRE=_F(NOM_PARA='NUME_ORDRE',
                     VALE_I=1,),
           )

TEST_TABLE(VALE_CALC=20000.000000423,
           VALE_REFE=1.9999999960000001E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='RESULT_Y',
           TABLE=TAB_REAC,
           FILTRE=_F(NOM_PARA='NUME_ORDRE',
                     VALE_I=2,),
           )

TEST_TABLE(VALE_CALC=9999.9999920758,
           VALE_REFE=9999.9997679999997,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='RESULT_X',
           TABLE=TAB_REAC,
           FILTRE=_F(NOM_PARA='NUME_ORDRE',
                     VALE_I=3,),
           )

TEST_TABLE(VALE_CALC=1.0000000003026E+05,
           VALE_REFE=1.000000003E5,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='MOMENT_Z',
           TABLE=TAB_REAC,
           FILTRE=_F(NOM_PARA='NUME_ORDRE',
                     VALE_I=4,),
           )

TEST_TABLE(VALE_CALC=52310.98884382,
           VALE_REFE=5.2310988749999997E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='MOMENT_Y',
           TABLE=TAB_REAC,
           FILTRE=_F(NOM_PARA='NUME_ORDRE',
                     VALE_I=5,),
           )

# TEST_RESU, VALEUR DE REFERENCE: NOTE V3.90.01 (F. VOLDOIRE)

TEST_RESU(RESU=(_F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   VALE_CALC=0.011047249768620,
                   VALE_REFE=0.011047599999999999,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 1',),
                _F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   VALE_CALC=-0.012423319947835,
                   VALE_REFE=-0.012422799999999999,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 1',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DX',
                   VALE_CALC=5175.3566156678,
                   VALE_REFE=5175.3699999999999,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 1',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DY',
                   VALE_CALC=24233.24163365,
                   VALE_REFE=2.4233200000000001E4,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 1',),
                ),
          )

TEST_RESU(RESU=(_F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   VALE_CALC=-7.0601589501905E-13,
                   VALE_REFE=0.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   CRITERE='ABSOLU',
                   NOM_CAS='CHARGE NUMERO 2',),
                _F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   VALE_CALC=-0.014974027806886,
                   VALE_REFE=-0.0149733,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 2',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DX',
                   VALE_CALC=4881.4690884843,
                   VALE_REFE=4881.4799999999996,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 2',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DY',
                   VALE_CALC=10000.000000265,
                   VALE_REFE=1.E4,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 2',),
                ),
          )

TEST_RESU(RESU=(_F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   VALE_CALC=-0.030009846109728,
                   VALE_REFE=-0.030009500000000001,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 3',),
                _F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   VALE_CALC=-2.9945016180409E-03,
                   VALE_REFE=-2.9946600000000001E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 3',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DX',
                   VALE_CALC=5976.3052547108,
                   VALE_REFE=5976.3000000000002,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 3',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DY',
                   VALE_CALC=3999.9999965968,
                   VALE_REFE=4000.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 3',),
                ),
          )

TEST_RESU(RESU=(_F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   VALE_CALC=0.027353577486457,
                   VALE_REFE=0.027353200000000001,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 4',),
                _F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   VALE_CALC=-1.2158257022573E-03,
                   VALE_REFE=-1.21564E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 4',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DX',
                   VALE_CALC=4576.3846712024,
                   VALE_REFE=4576.3999999999996,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 4',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DY',
                   VALE_CALC=-4999.9999967914,
                   VALE_REFE=-5000.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 4',),
                ),
          )

TEST_RESU(RESU=(_F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DX',
                   VALE_CALC=8.3909811446424E-03,
                   VALE_REFE=8.3912399999999995E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 5',),
                _F(GROUP_NO='C',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='DEPL',
                   NOM_CMP='DY',
                   VALE_CALC=-0.031607675075019,
                   VALE_REFE=-0.031605979999999999,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 5',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DX',
                   VALE_CALC=20609.515630065,
                   VALE_REFE=2.0609547999999999E4,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 5',),
                _F(GROUP_NO='A',
                   RESULTAT=STATIQUE,
                   NOM_CHAM='REAC_NODA',
                   NOM_CMP='DY',
                   VALE_CALC=33233.241633721,
                   VALE_REFE=3.3233239999999998E4,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOM_CAS='CHARGE NUMERO 5',),
                ),
          )

DEPL1=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
NOM_CHAM='DEPL', RESULTAT=STATIQUE,
                       NOM_CAS='CHARGE NUMERO 1'
                                            )

DEPL2=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
NOM_CHAM='DEPL', RESULTAT=STATIQUE,
                       NOM_CAS='CHARGE NUMERO 2'
                                            )

DEPL3=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
NOM_CHAM='DEPL', RESULTAT=STATIQUE,
                       NOM_CAS='CHARGE NUMERO 3'
                                            )

DEPL4=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
NOM_CHAM='DEPL', RESULTAT=STATIQUE,
                       NOM_CAS='CHARGE NUMERO 4'
                                            )

DEPL5=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
NOM_CHAM='DEPL', RESULTAT=STATIQUE,
                       NOM_CAS='CHARGE NUMERO 5'
                                            )

TEST_RESU(CHAM_NO=(_F(NOM_CMP='DX',
                      GROUP_NO='C',
                      CHAM_GD=DEPL1,
                      VALE_CALC=0.011047249768620,
                      VALE_REFE=0.011047599999999999,
                      REFERENCE = 'ANALYTIQUE',
                      PRECISION=1.E-3,),
                   _F(NOM_CMP='DY',
                      GROUP_NO='C',
                      CHAM_GD=DEPL1,
                      VALE_CALC=-0.012423319947835,
                      VALE_REFE=-0.012422799999999999,
                      REFERENCE = 'ANALYTIQUE',
                      PRECISION=1.E-3,),
                   ),
          )

DEPL_T = CREA_CHAMP(OPERATION='ASSE',MODELE=MODELE,TYPE_CHAM='NOEU_DEPL_R',
                   ASSE=(_F( CHAM_GD=DEPL1,TOUT='OUI',CUMUL='OUI',COEF_R=1.),
                         _F( CHAM_GD=DEPL2,TOUT='OUI',CUMUL='OUI',COEF_R=1.),
                         _F( CHAM_GD=DEPL3,TOUT='OUI',CUMUL='OUI',COEF_R=1.),
                         _F( CHAM_GD=DEPL4,TOUT='OUI',CUMUL='OUI',COEF_R=1.),),)
TEST_RESU(CHAM_NO=(_F(NOM_CMP='DX',
                      GROUP_NO='C',
                      CHAM_GD=DEPL_T,
                      VALE_CALC=8.3909811446424E-03,
                      VALE_REFE=8.3912399999999995E-3,
                      REFERENCE = 'ANALYTIQUE',
                      PRECISION=1.E-3,),
                   _F(NOM_CMP='DY',
                      GROUP_NO='C',
                      CHAM_GD=DEPL_T,
                      VALE_CALC=-0.031607675075019,
                      VALE_REFE=-0.031605979999999999,
                      REFERENCE = 'ANALYTIQUE',
                      PRECISION=1.E-3,),
                   ),
          )

# ---------------------------------------------------------------------
# DEUX FOIS LE MEME CAS DE CHARGE (CAS NUMERO 2) F1 EN C
# UNE FOIS A FORCE IMPOSEE,(DEPL2), L AUTRE FOIS A DEPLACEMENT IMPOSE
# LA COMBINAISON DES DEUX DONNE UN DEPLACEMENT DOUBLE EN C


CHARG7=AFFE_CHAR_MECA(  MODELE=MODELE,DDL_IMPO=(
             _F(  TOUT = 'OUI',          DZ = 0.),
                      _F(  GROUP_NO = ('A', 'B',),     DX = 0.,   DY = 0.),
             _F(  GROUP_NO = 'C',     DY = -1.497330E-02))
             )

STATIQU7=MECA_STATIQUE(       MODELE=MODELE,
                              CHAM_MATER=CH_MATER,
                               CARA_ELEM=CARA_ELE,
                             EXCIT=_F(   CHARGE = CHARG7)       )

DEPL7=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
NOM_CHAM='DEPL', RESULTAT=STATIQU7,  NUME_ORDRE=1
                                            )

DEPL_T2 = CREA_CHAMP(OPERATION='ASSE',MODELE=MODELE,TYPE_CHAM='NOEU_DEPL_R',
                   ASSE=(_F( CHAM_GD=DEPL2,TOUT='OUI',CUMUL='OUI',COEF_R=1.),
                         _F( CHAM_GD=DEPL7,TOUT='OUI',CUMUL='OUI',COEF_R=1.),),)

TEST_RESU(CHAM_NO=(_F(CRITERE='ABSOLU',
                      NOM_CMP='DX',
                      GROUP_NO='C',
                      CHAM_GD=DEPL_T2,
                      VALE_CALC=-1.4119974744059E-12,
                      VALE_REFE=0.0,
                      REFERENCE = 'ANALYTIQUE',
                      PRECISION=1.E-3,),
                   _F(NOM_CMP='DY',
                      GROUP_NO='C',
                      CHAM_GD=DEPL_T2,
                      VALE_CALC=-0.029947327806886,
                      VALE_REFE=-0.0299466,
                      REFERENCE = 'ANALYTIQUE',
                      PRECISION=1.E-3,),
                   ),
          )

# ---------------------------------------------------------------------
#          VALIDATION POST_RELEVE_T SUR RESULTANTE ET MOMENT
# ---------------------------------------------------------------------
REAC5=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
NOM_CHAM='REAC_NODA', RESULTAT=STATIQUE,
                       NOM_CAS='CHARGE NUMERO 5'
                                     )

TR1=POST_RELEVE_T(
       ACTION=_F(  CHAM_GD = REAC5,     INTITULE = 'REA1',
         REPERE = 'GLOBAL',  OPERATION = 'EXTRACTION',
         NOEUD = ( 'N41', 'N1', ),  RESULTANTE = ( 'DX',  'DY',  'DZ', ),
         MOMENT = ( 'DX',  'DY',  'DZ', ),  POINT = ( 10., 12., 0., ))
            )

TEST_TABLE(VALE_CALC=10000.000002959,
           VALE_REFE=1.E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='RESULT_X',
           TABLE=TR1,)

TEST_TABLE(VALE_CALC=52310.98884382,
           VALE_REFE=5.2311E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='RESULT_Y',
           TABLE=TR1,)

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.0E+00,
           VALE_REFE=0.0,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='RESULT_Z',
           TABLE=TR1,)

TEST_TABLE(VALE_CALC=10000.000002959,
           VALE_REFE=1.E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='MOMENT_X',
           TABLE=TR1,)

TEST_TABLE(VALE_CALC=52310.98884382,
           VALE_REFE=5.2311E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='MOMENT_Y',
           TABLE=TR1,)

TEST_TABLE(VALE_CALC=-21554.944200697,
           VALE_REFE=-2.1554900000000001E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='MOMENT_Z',
           TABLE=TR1,)

TR2=POST_RELEVE_T(
       ACTION=_F(  CHAM_GD = REAC5,     INTITULE = 'REA2',
         REPERE = 'GLOBAL',  OPERATION = 'EXTRACTION',
         NOEUD = ( 'N41', 'N1', ),  RESULTANTE = ( 'DX',  'DY',  'DZ', ),
         MOMENT = ( 'DRX',  'DRY',  'DRZ', ),  POINT = ( 10., 12., 0., ))
            )

TEST_TABLE(VALE_CALC=10000.000002959,
           VALE_REFE=1.E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='RESULT_X',
           TABLE=TR2,)

TEST_TABLE(VALE_CALC=52310.98884382,
           VALE_REFE=5.2311E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='RESULT_Y',
           TABLE=TR2,)

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.0E+00,
           VALE_REFE=0.0,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='RESULT_Z',
           TABLE=TR2,)

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.0E+00,
           VALE_REFE=0.0,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='MOMENT_X',
           TABLE=TR2,)

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.0E+00,
           VALE_REFE=0.0,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='MOMENT_Y',
           TABLE=TR2,)

TEST_TABLE(VALE_CALC=-21554.944200698,
           VALE_REFE=-2.1554900000000001E4,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='MOMENT_Z',
           TABLE=TR2,)

TDG=POST_RELEVE_T(
         ACTION=_F(  CHAM_GD = DEPL5,      INTITULE = 'DEG',
           REPERE = 'GLOBAL',   OPERATION = 'EXTRACTION',
           GROUP_NO = 'PORTIQ',     NOM_CMP = ('DX', 'DY',))  )

TEST_TABLE(VALE_CALC=5.8620536007612E-03,
           VALE_REFE=5.8620499999999997E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDG,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N3',),
           )

TEST_TABLE(VALE_CALC=-1.4535426445754E-07,
           VALE_REFE=-1.4535399999999999E-07,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDG,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N3',),
           )

TEST_TABLE(VALE_CALC=0.020181122758108,
           VALE_REFE=0.0201811,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDG,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N13',),
           )

TEST_TABLE(VALE_CALC=-2.1304500182063E-03,
           VALE_REFE=-2.1304499999999999E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDG,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N13',),
           )

TEST_TABLE(VALE_CALC=8.7091838235972E-03,
           VALE_REFE=8.7091800000000004E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDG,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N23',),
           )

TEST_TABLE(VALE_CALC=-0.032402867102961,
           VALE_REFE=-0.032402899999999998,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDG,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N23',),
           )

TEST_TABLE(VALE_CALC=-8.2243547378954E-03,
           VALE_REFE=-8.22436E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDG,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N33',),
           )

TEST_TABLE(VALE_CALC=-1.01282260217E-06,
           VALE_REFE=-1.01282E-06,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDG,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N33',),
           )

TDL=POST_RELEVE_T(
         ACTION=_F(  CHAM_GD = DEPL5,      INTITULE = 'DEL',
           REPERE = 'LOCAL',    OPERATION = 'EXTRACTION',
           GROUP_NO = 'PORTIQ',     NOM_CMP = ('DX', 'DY',))  )

TEST_TABLE(VALE_CALC=-1.4535426445754E-07,
           VALE_REFE=-1.4535399999999999E-07,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDL,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N3',),
           )

TEST_TABLE(VALE_CALC=-5.8620536007612E-03,
           VALE_REFE=-5.8620499999999997E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDL,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N3',),
           )

TEST_TABLE(VALE_CALC=-0.019528931349997,
           VALE_REFE=-0.019528899999999998,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDL,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N13',),
           )

TEST_TABLE(VALE_CALC=-5.5170076477183E-03,
           VALE_REFE=-5.5170000000000002E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDL,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N13',),
           )

TEST_TABLE(VALE_CALC=3.9478485523359E-03,
           VALE_REFE=3.9478600000000001E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDL,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N23',),
           )

TEST_TABLE(VALE_CALC=0.033319816493690,
           VALE_REFE=0.033319799999999997,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDL,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N23',),
           )

TEST_TABLE(VALE_CALC=1.01282260217E-06,
           VALE_REFE=1.01282E-06,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDL,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N33',),
           )

TEST_TABLE(VALE_CALC=-8.2243547378954E-03,
           VALE_REFE=-8.22436E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDL,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N33',),
           )

TDG1=POST_RELEVE_T(
         ACTION=_F(  CHAM_GD = DEPL5,      INTITULE = 'DEG1',
           REPERE = 'GLOBAL',   OPERATION = 'EXTRACTION',
           GROUP_NO = 'PORTI1',     NOM_CMP = ('DX', 'DY',))  )

TEST_TABLE(VALE_CALC=5.8620536007612E-03,
           VALE_REFE=5.8620499999999997E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDG1,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N3',),
           )

TEST_TABLE(VALE_CALC=-1.4535426445754E-07,
           VALE_REFE=-1.4535399999999999E-07,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDG1,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N3',),
           )

TDL1=POST_RELEVE_T(INFO=2,
         ACTION=_F(  CHAM_GD = DEPL5,      INTITULE = 'DEL1',
           REPERE = 'LOCAL',    OPERATION = 'EXTRACTION',
           GROUP_NO = 'PORTI1',     NOM_CMP = ('DX', 'DY',))  )

IMPR_TABLE(        TABLE=TDL1)
TEST_TABLE(VALE_CALC=1.4535426445754E-07,
           VALE_REFE=1.4535399999999999E-07,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDL1,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N3',),
           )

TEST_TABLE(VALE_CALC=5.8620536007612E-03,
           VALE_REFE=5.8620499999999997E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDL1,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N3',),
           )

TDG3=POST_RELEVE_T(
         ACTION=_F(  CHAM_GD = DEPL5,      INTITULE = 'DEG3',
           REPERE = 'GLOBAL',   OPERATION = 'EXTRACTION',
           GROUP_NO = 'PORTI3',     NOM_CMP = ('DX', 'DY',))  )

TEST_TABLE(VALE_CALC=8.7091838235972E-03,
           VALE_REFE=8.7091800000000004E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDG3,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N23',),
           )

TEST_TABLE(VALE_CALC=-0.032402867102961,
           VALE_REFE=-0.032402899999999998,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDG3,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N23',),
           )

TDL3=POST_RELEVE_T(INFO=2,
         ACTION=_F(  CHAM_GD = DEPL5,      INTITULE = 'DEL3',
           REPERE = 'LOCAL',    OPERATION = 'EXTRACTION',
           GROUP_NO = 'PORTI3',     NOM_CMP = ('DX', 'DY',))  )

IMPR_TABLE(        TABLE=TDL3)

TEST_TABLE(VALE_CALC=-3.9478485523359E-03,
           VALE_REFE=-3.9478600000000001E-3,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DX',
           TABLE=TDL3,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N23',),
           )

TEST_TABLE(VALE_CALC=-0.033319816493690,
           VALE_REFE=-0.033319799999999997,
           REFERENCE = 'ANALYTIQUE',
           PRECISION=1.E-3,
           NOM_PARA='DY',
           TABLE=TDL3,
           FILTRE=_F(NOM_PARA='NOEUD',
                     VALE_K='N23',),
           )

FIN( )
#
