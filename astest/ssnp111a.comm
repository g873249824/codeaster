# TITRE PLAQUE EN COMPRESSION SOUMISE A UNE PRESSION VARIANT
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#       LINEAIREMENT
#       CA VALIDE LE PASSAGE DES POINTS D'INTEGRATION AUX
#       NOEUDS POUR LES ELEMENTS QUADRATIQUES MASSIFS 2D
#
# ELEMENTS QUAD8, QUAD9, TRIA6
#.....................................................................

DEBUT(CODE=_F(NOM='SSNP111A',
              NIV_PUB_WEB='INTERNET',),
      DEBUG=_F(SDVERI='OUI',),);

MAYA=LIRE_MAILLAGE(FORMAT='MED',);

MAYA=DEFI_GROUP(reuse =MAYA,
                MAILLAGE=MAYA,
                CREA_GROUP_NO=_F(GROUP_MA='A4A1',),);

MAYA2=CREA_MAILLAGE(MAILLAGE=MAYA,
                    MODI_MAILLE=_F(GROUP_MA='S1',
                                   OPTION='QUAD8_9',),);

MODEL=AFFE_MODELE(MAILLAGE=MAYA2,
                  VERIF='MAILLE',
                  AFFE=_F(TOUT='OUI',
                          PHENOMENE='MECANIQUE',
                          MODELISATION='C_PLAN',),);

ACIER=DEFI_MATERIAU(ELAS=_F(E=200000.,
                            NU=0.,
                            ALPHA=1.E-6,),
                    ECRO_LINE=_F(D_SIGM_EPSI=1930.,
                                 SY=181.,),);

MATER=AFFE_MATERIAU(MAILLAGE=MAYA2,
                    AFFE=_F(TOUT='OUI',
                            MATER=ACIER,),);

PRES_FO=DEFI_FONCTION(NOM_PARA='Y',VALE=(0.,0.,
                            30.,300.,
                            ),);

TRAC_FO=DEFI_FONCTION(NOM_PARA='INST',VALE=(0.,0.,
                            1.,1.,
                            ),PROL_DROITE='EXCLU',PROL_GAUCHE='EXCLU',);

TRAC_F=AFFE_CHAR_MECA_F(MODELE=MODEL,
                        PRES_REP=_F(GROUP_MA='A2A3',
                                    PRES=PRES_FO,),);

CONDLIM=AFFE_CHAR_MECA(MODELE=MODEL,
                       DDL_IMPO=(_F(GROUP_NO='A4A1',
                                    DX=0.,),
                                 _F(GROUP_NO=('A1','A4',),
                                    DY=0.,),),);

CAT=DEFI_LIST_REEL(DEBUT=0.0,
                   INTERVALLE=_F(JUSQU_A=1.,
                                 NOMBRE=10,),);

CALCNL=STAT_NON_LINE(MODELE=MODEL,
                     CHAM_MATER=MATER,
                     EXCIT=(_F(CHARGE=CONDLIM,),
                            _F(CHARGE=TRAC_F,
                               FONC_MULT=TRAC_FO,),),
                     COMP_INCR=_F(RELATION='VMIS_ISOT_LINE',
                                  DEFORMATION='PETIT',),
                     INCREMENT=_F(LIST_INST=CAT,),
                     NEWTON=_F(REAC_INCR=1,
                               MATRICE='TANGENTE',
                               REAC_ITER=1,),
                     RECH_LINEAIRE=_F(ITER_LINE_MAXI=3,),
                     CONVERGENCE=_F(RESI_GLOB_RELA=1.E-4,),);

CALCNL=CALC_CHAMP(reuse=CALCNL,RESULTAT=CALCNL,CRITERES=('DERA_ELGA','DERA_ELNO'),VARI_INTERNE=('VARI_ELNO'),DEFORMATION=('EPSP_ELGA','EPSP_ELNO'),CONTRAINTE=('SIGM_ELNO'))


TEST_RESU(RESU=(_F(NUME_ORDRE=7,
                   POINT=1,
                   RESULTAT=CALCNL,
                   NOM_CHAM='DERA_ELGA',
                   NOM_CMP='DCHA_V',
                   VALE_CALC=0.86785699999999999,
                   TOLE_MACHINE=1.E-3,
                   CRITERE='RELATIF',
                   MAILLE='M1',),
                _F(NUME_ORDRE=7,
                   RESULTAT=CALCNL,
                   NOM_CHAM='DERA_ELNO',
                   NOEUD='N601',
                   NOM_CMP='DCHA_V',
                   VALE_CALC=0.89197800000000005,
                   TOLE_MACHINE=1.E-3,
                   CRITERE='RELATIF',
                   MAILLE='M1',),
                _F(NUME_ORDRE=7,
                   POINT=1,
                   RESULTAT=CALCNL,
                   NOM_CHAM='DERA_ELGA',
                   NOM_CMP='RADI_V',
                   VALE_CALC=3.39734E-3,
                   TOLE_MACHINE=1.E-3,
                   CRITERE='RELATIF',
                   MAILLE='M1',),
                _F(NUME_ORDRE=10,
                   RESULTAT=CALCNL,
                   NOM_CHAM='SIGM_ELNO',
                   NOEUD='N2',
                   NOM_CMP='SIXX',
                   VALE_CALC=-300.656500920,
                   VALE_REFE=-300.0,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=3.0000000000000001E-3,
                   MAILLE='M400',),
                _F(NUME_ORDRE=10,
                   RESULTAT=CALCNL,
                   NOM_CHAM='EPSP_ELNO',
                   NOEUD='N2',
                   NOM_CMP='EPXX',
                   VALE_CALC=-0.061232732,
                   VALE_REFE=-0.061600000000000002,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=7.0000000000000001E-3,
                   MAILLE='M400',),
                _F(NUME_ORDRE=10,
                   RESULTAT=CALCNL,
                   NOM_CHAM='VARI_ELNO',
                   NOEUD='N2',
                   NOM_CMP='V1',
                   VALE_CALC=0.061230394,
                   VALE_REFE=0.061600000000000002,
                   REFERENCE='NON_DEFINI',
                   PRECISION=7.0000000000000001E-3,
                   MAILLE='M400',),
                _F(NUME_ORDRE=10,
                   RESULTAT=CALCNL,
                   NOM_CHAM='VARI_ELNO',
                   NOEUD='N2',
                   NOM_CMP='V2',
                   VALE_CALC=1.0,
                   TOLE_MACHINE=1.E-3,
                   MAILLE='M400',),
                _F(NUME_ORDRE=10,
                   RESULTAT=CALCNL,
                   NOM_CHAM='SIGM_ELNO',
                   NOEUD='N51',
                   NOM_CMP='SIXX',
                   VALE_CALC=-1.347996571,
                   VALE_REFE=0.0,
                   REFERENCE='NON_DEFINI',
                   CRITERE='ABSOLU',
                   PRECISION=1.3999999999999999,
                   MAILLE='M20',),
                _F(NUME_ORDRE=10,
                   RESULTAT=CALCNL,
                   NOM_CHAM='EPSP_ELNO',
                   NOEUD='N51',
                   NOM_CMP='EPXX',
                   VALE_CALC=0.0,
                   TOLE_MACHINE=1.E-3,
                   CRITERE='ABSOLU',
                   MAILLE='M20',),
                _F(NUME_ORDRE=10,
                   RESULTAT=CALCNL,
                   NOM_CHAM='VARI_ELNO',
                   NOEUD='N51',
                   NOM_CMP='V1',
                   VALE_CALC=0.0,
                   TOLE_MACHINE=1.E-3,
                   CRITERE='ABSOLU',
                   MAILLE='M20',),
                _F(NUME_ORDRE=10,
                   RESULTAT=CALCNL,
                   NOM_CHAM='VARI_ELNO',
                   NOEUD='N51',
                   NOM_CMP='V2',
                   VALE_CALC=0.0,
                   TOLE_MACHINE=1.E-3,
                   CRITERE='ABSOLU',
                   MAILLE='M20',),
                ),
          )

FIN();

#
