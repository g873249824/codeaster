# MODIF  DATE 08/11/2005   AUTEUR CIBHHLV L.VIVAN 
# TITRE CYLINDRE EN INCOMPRESSIBLE GRANDES DEFORMATIONS (TRIA6 QUAD8) PLAN
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2003  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================

# CYLINDRE CREUX EN INCOMPRESSIBLE (NU=0.4999)
# SOUS DEPLACEMENT RADIAL (6.E-5m)
#
# MODELISATION : ELEMENTS MECANIQUE PLAN_INCO (TRIA6 QUAD8)
# MAILLAGE     : ALIBABA > ASTER
# ----------------------------------------------------------------------
# GROUPES DE NOEUDS ET MAILLES: A B C D E F
#              BORDAB=GRNM11    FACEEF=GRMA12     FACEAE=GRMA13
# ----------------------------------------------------------------------
#

DEBUT(CODE=_F(  NOM = 'SSNV112C',NIV_PUB_WEB='INTERNET') )

M=LIRE_MAILLAGE(   )

MO=AFFE_MODELE(  MAILLAGE=M,
                 VERIF='MAILLE',
                 AFFE=_F(  TOUT         = 'OUI',
                           PHENOMENE    = 'MECANIQUE',
                           MODELISATION = 'D_PLAN_INCO'))

MA=DEFI_MATERIAU( ELAS=_F(  E = 200000.,
                            NU = 0.4999,
                            ALPHA = 0.) )

CM=AFFE_MATERIAU( MAILLAGE=M,
                  AFFE=_F(  TOUT = 'OUI',
                            MATER = MA))

CLIM=AFFE_CHAR_MECA( MODELE=MO,
                   DDL_IMPO =_F(  GROUP_NO = 'GRNM11',  DX = 0.),
                   FACE_IMPO=(_F(  GROUP_MA = 'GRMA12',  DNOR = 0.),
                              _F(  GROUP_MA = 'GRMA13',  DNOR = -6.E-5), ),)

L_INST1 = DEFI_LIST_REEL (
             DEBUT= 0.,
             INTERVALLE= _F(JUSQU_A= 1.,
                            NOMBRE=1),
             ) ;


RAMPE    = DEFI_FONCTION (
             NOM_PARA= 'INST',
             PROL_DROITE='CONSTANT',
             VALE    = (
               0., 0.,
               1., 1. ), ) ;
EVOL   = STAT_NON_LINE (
             MODELE= MO,
             CHAM_MATER= CM,
             EXCIT= (_F(CHARGE= CLIM,
                        FONC_MULT= RAMPE),),
             INCREMENT= _F(LIST_INST= L_INST1),
             COMP_INCR= _F(RELATION= 'ELAS',
                           DEFORMATION='SIMO_MIEHE'),
             SOLVEUR=_F(RENUM='MD'),
             NEWTON= _F(
             REAC_ITER= 1 ), ) ;
             
EVOL = CALC_ELEM (reuse=EVOL,
              RESULTAT= EVOL,
              
              OPTION= (
               'EPSI_ELNO_DEPL',
               'SIEF_ELNO_ELGA',
               'EQUI_ELNO_SIGM',
               'EQUI_ELNO_EPSI',
               'ERRE_ELGA_NORE',
               'ERRE_ELNO_ELGA',
           ),   ) ;

EVOL = CALC_NO (reuse=EVOL,
                RESULTAT= EVOL,
                OPTION  = (
               'EPSI_NOEU_DEPL',
               'SIEF_NOEU_ELGA',
               'EQUI_NOEU_EPSI',
               'EQUI_NOEU_SIGM',
                ), ) ;
#---------------------------------------------------------------
#    POSTTRAITEMENT

TEST_RESU(RESU=(
#     DEPLACEMENTS        
         _F(  RESULTAT = EVOL, INST = 1., NOM_CHAM = 'DEPL',  CRITERE = 'ABSOLU',   PRECISION = 1.E-5,
         GROUP_NO = 'A',     NOM_CMP = 'DX',            VALE = 0., REFERENCE='ANALYTIQUE'),
         _F(  RESULTAT = EVOL, INST = 1., NOM_CHAM = 'DEPL',  CRITERE = 'RELATIF',  PRECISION = 5.E-3,
         GROUP_NO = 'A',     NOM_CMP = 'DY',            VALE = 6.E-5, REFERENCE='ANALYTIQUE'),

        _F(  RESULTAT = EVOL, INST = 1., NOM_CHAM = 'DEPL',  CRITERE = 'RELATIF',   PRECISION = 5.E-3,
         GROUP_NO = 'F',     NOM_CMP = 'DX',            VALE = -2.1217941E-5, REFERENCE='ANALYTIQUE'),
        _F(  RESULTAT = EVOL, INST = 1., NOM_CHAM = 'DEPL',  CRITERE = 'RELATIF',   PRECISION = 5.E-3,
         GROUP_NO = 'F',     NOM_CMP = 'DY',            VALE =  2.1217941E-5, REFERENCE='ANALYTIQUE'),
),)
TEST_RESU(RESU=(
    # CONTRAINTES             
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'SIEF_NOEU_ELGA',   CRITERE = 'RELATIF',    PRECISION = 5.E-3,
               GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'SIXX',      VALE = 99.9566, REFERENCE='ANALYTIQUE'),
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'SIEF_NOEU_ELGA',   CRITERE = 'RELATIF',    PRECISION = 2.E-2,
 GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'SIYY',      VALE = -59.9955, REFERENCE='ANALYTIQUE'),
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'SIEF_NOEU_ELGA',   CRITERE = 'RELATIF',    PRECISION = 2.5E-2,
 GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'SIZZ',      VALE = 19.9326, REFERENCE='ANALYTIQUE'),
           _F(  RESULTAT = EVOL, INST = 1., NOM_CHAM = 'SIEF_NOEU_ELGA',  CRITERE = 'ABSOLU',     PRECISION = 3.E0,
 GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'SIXY',      VALE = 0., REFERENCE='ANALYTIQUE'),

           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'SIEF_NOEU_ELGA',   CRITERE = 'RELATIF',    PRECISION = 5.E-3,
 GROUP_NO = 'F',    MAILLE = 'M223',    NOM_CMP = 'SIXX',      VALE = 20.003, REFERENCE='ANALYTIQUE'),
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'SIEF_NOEU_ELGA',   CRITERE = 'RELATIF',    PRECISION = 5.E-3,
 GROUP_NO = 'F',    MAILLE = 'M223',    NOM_CMP = 'SIYY',      VALE =20.003, REFERENCE='ANALYTIQUE'),
           _F(  RESULTAT = EVOL, INST = 1., NOM_CHAM = 'SIEF_NOEU_ELGA',  CRITERE = 'RELATIF',    PRECISION = 5.E-3,
 GROUP_NO = 'F',    MAILLE = 'M223',    NOM_CMP = 'SIZZ',      VALE = 20.003, REFERENCE='ANALYTIQUE'),
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'SIEF_NOEU_ELGA',   CRITERE = 'RELATIF',    PRECISION = 5.E-3,
 GROUP_NO = 'F',    MAILLE = 'M223',    NOM_CMP = 'SIXY',      VALE = 20.003, REFERENCE='ANALYTIQUE'))
           )
TEST_RESU(RESU=(
    # CONTRAINTES EQUIVALENTES
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'EQUI_NOEU_SIGM',   CRITERE = 'RELATIF',    PRECISION = 2.E-2,
 GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'VMIS',      VALE = 138.5226, REFERENCE='ANALYTIQUE'),
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'EQUI_NOEU_SIGM',   CRITERE = 'RELATIF',    PRECISION = 2.E-2,
 GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'TRESCA',      VALE = 159.9521, REFERENCE='ANALYTIQUE'),
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'EQUI_NOEU_SIGM',   CRITERE = 'RELATIF',    PRECISION = 2.E-2,
 GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'PRIN_1',      VALE = -59.9955, REFERENCE='ANALYTIQUE'),
            _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'EQUI_NOEU_SIGM',   CRITERE = 'RELATIF',    PRECISION = 2.5E-2,
 GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'PRIN_2',      VALE = 19.9326, REFERENCE='ANALYTIQUE'),
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'EQUI_NOEU_SIGM',   CRITERE = 'RELATIF',    PRECISION = 2.E-2,
 GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'PRIN_3',      VALE = 99.9566, REFERENCE='ANALYTIQUE'),
           _F( RESULTAT = EVOL, INST = 1., NOM_CHAM = 'EQUI_NOEU_SIGM',   CRITERE = 'RELATIF',    PRECISION = 2.E-2,
 GROUP_NO = 'A',    MAILLE = 'M1',      NOM_CMP = 'VMIS_SG',      VALE = 138.5226, REFERENCE='ANALYTIQUE'),
),)
#
#  TEST SUR L'ESTIMATEUR D'ERREUR EN RESIDU

TEST_RESU(RESU=(             
           _F( RESULTAT = EVOL,
               INST = 1.,  
               NOM_CHAM = 'ERRE_ELGA_NORE',   
               CRITERE = 'RELATIF',    
               PRECISION = 0.001,
               POINT = 1,
               MAILLE='M2',    
               NOM_CMP = 'NUEST',      
               VALE = 5.4485432124957E-01, 
               REFERENCE = 'NON_REGRESSION',VERSION = '8.1.22'),
             ),
            );

TEST_RESU(RESU=(             
           _F( RESULTAT = EVOL,
               INST = 1.,  
               NOM_CHAM = 'ERRE_ELNO_ELGA',   
               CRITERE = 'RELATIF',    
               PRECISION = 0.001,
               GROUP_NO= 'A',
               MAILLE='M2',    
               NOM_CMP = 'ERREST',      
               VALE = 2.7566668668882E-03, 
               REFERENCE = 'NON_REGRESSION',VERSION = '8.1.22'),
             ),
            );

           
FIN()
