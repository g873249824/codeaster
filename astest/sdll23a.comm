# ======================================================================
# COPYRIGHT (C) 1991 - 2017  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
# person_in_charge: sylvie.audebert at edf.fr
# ----------------------------------------------------------------------
# POUTRE ENCASTREE-LIBRE SOUMIS A UN SEISME
# CORRECTION STATIQUE DE L'EFFET DES MODES PROPRES D'ORDRE ELEVE
#                                                  REF: SFM.VPCS SDLL23
# ----------------------------------------------------------------------


DEBUT( CODE=_F(NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

MAILLAG0=LIRE_MAILLAGE(FORMAT="ASTER", )

MAILLAG0=DEFI_GROUP( reuse=MAILLAG0,   MAILLAGE=MAILLAG0,
                           CREA_GROUP_MA=_F(  NOM = 'MAILLAGE',
                                           MAILLE = ( 'E01', 'E02', ))
                        )

MAILLAGE=CREA_MAILLAGE(MAILLAGE=MAILLAG0,
    CREA_POI1=(
        _F(NOM_GROUP_MA='MASSE',  GROUP_NO = 'MASSE', ),
        _F(NOM_GROUP_MA='B', NOEUD = 'B', ),
        _F(NOM_GROUP_MA='C', NOEUD = 'C', ),
    ),
)

MAT=DEFI_MATERIAU( ELAS=_F(  E = 2.E+11,  NU = 0.3,  RHO = 0.) )

CH_MATE=AFFE_MATERIAU(  MAILLAGE=MAILLAGE,
                            AFFE=_F(  GROUP_MA = 'M_POUT',  MATER = MAT) )

MODELE=AFFE_MODELE(  MAILLAGE=MAILLAGE,AFFE=(
                        _F(  GROUP_MA = 'M_POUT', PHENOMENE = 'MECANIQUE',
                               MODELISATION = 'POU_D_E'),
                             _F(  GROUP_MA = 'MASSE',  PHENOMENE = 'MECANIQUE',
                               MODELISATION = 'DIS_T')) )

CARA_ELE=AFFE_CARA_ELEM(  MODELE=MODELE,
                POUTRE=_F(  GROUP_MA = 'M_POUT',  SECTION = 'GENERALE',
                         CARA = (   'A',     'IY',      'IZ',      'JX',   ),
                         VALE = ( 78.1E-4, 5696.E-8, 2003.E-8, 7699.E-8,)),
                DISCRET=(
                        _F(  GROUP_MA = 'B',  CARA = 'M_T_D_N', VALE = 50000.),
                        _F(  GROUP_MA = 'B',  CARA = 'K_T_D_N', VALE = (0.,0.,0.)),
                        _F(  GROUP_MA = 'C',  CARA = 'M_T_D_N', VALE = 5000.)) )

COND_LIM=AFFE_CHAR_MECA(  MODELE=MODELE,
                  DDL_IMPO=_F(  NOEUD = 'A',   DX = 0.,  DY = 0.,  DZ = 0.,
                                         DRX = 0., DRY = 0., DRZ = 0.) )

RIGI_ELE=CALC_MATR_ELEM(  MODELE=MODELE,   OPTION='RIGI_MECA',
                              CHAM_MATER=CH_MATE,   CARA_ELEM=CARA_ELE,
                              CHARGE=COND_LIM                        )

MASS_ELE=CALC_MATR_ELEM(  MODELE=MODELE,   OPTION='MASS_MECA',
                              CHAM_MATER=CH_MATE,   CARA_ELEM=CARA_ELE,
                              CHARGE=COND_LIM                        )

NUME1=NUME_DDL(  MATR_RIGI=RIGI_ELE)

RIGIDITE=ASSE_MATRICE(  MATR_ELEM=RIGI_ELE,  NUME_DDL=NUME1      )

MASSE=ASSE_MATRICE(  MATR_ELEM=MASS_ELE,  NUME_DDL=NUME1      )

TABL_MAS=POST_ELEM(  MODELE=MODELE,
                         CHAM_MATER=CH_MATE,   CARA_ELEM=CARA_ELE,
                        MASS_INER=(_F(  TOUT = 'OUI',),
                                    _F(GROUP_MA = 'MAILLAGE'))
                      )

IMPR_TABLE(   TABLE=TABL_MAS )

MODE_MEC=CALC_MODES( OPTION='PLUS_PETITE',
                     MATR_RIGI=RIGIDITE,
                     MATR_MASS=MASSE,
                     CALC_FREQ=_F( NMAX_FREQ = 6 ),
                     SOLVEUR_MODAL=_F( DIM_SOUS_ESPACE = 6 ),
                     NORM_MODE=_F( NORME='MASS_GENE' ),
                    )


MODE_MEC=CALC_CHAMP(reuse=MODE_MEC,RESULTAT=MODE_MEC,CONTRAINTE=('SIEF_ELGA','EFGE_ELNO','SIPO_ELNO'))


MODE_MEC=CALC_CHAMP(reuse=MODE_MEC,  RESULTAT=MODE_MEC,
                    FORCE='REAC_NODA',
                       )

MODEMEC2=CALC_MODES( OPTION='PLUS_PETITE',
                     MATR_RIGI=RIGIDITE,
                     MATR_MASS=MASSE,
                     CALC_FREQ=_F( NMAX_FREQ = 6 ),
                     SOLVEUR_MODAL=_F( DIM_SOUS_ESPACE = 6 ),
                    )


MODEMEC2=CALC_CHAMP(reuse=MODEMEC2,RESULTAT=MODEMEC2,CONTRAINTE=('SIEF_ELGA'))


MODEMEC2=CALC_CHAMP(reuse=MODEMEC2,  RESULTAT=MODEMEC2,
                    FORCE='REAC_NODA',
                      NUME_MODE=(1, 2,) )

MODEMEC2=CALC_CHAMP(reuse=MODEMEC2,  RESULTAT=MODEMEC2,
                    FORCE='REAC_NODA',
                       NUME_ORDRE=3 )

MODEMEC2=CALC_CHAMP(reuse=MODEMEC2,  RESULTAT=MODEMEC2,
                    FORCE='REAC_NODA',
                       FREQ=12.4675,  CRITERE='ABSOLU', PRECISION=1.E-3 )

LIS=DEFI_LIST_REEL( DEBUT=27.5075, INTERVALLE=_F( JUSQU_A = 41.7401,
                       NOMBRE = 1))

MODEMEC2=CALC_CHAMP(reuse=MODEMEC2,  RESULTAT=MODEMEC2,
                   FORCE='REAC_NODA',
                      LIST_FREQ=LIS ,PRECISION=1.E-3,)

TEST_RESU(RESU=(_F(PARA='FREQ',
                   NUME_MODE=1,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=0.246729837,
                   VALE_REFE=0.24690999999999999,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FREQ',
                   NUME_MODE=2,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=0.416069793,
                   VALE_REFE=0.41665999999999997,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FREQ',
                   NUME_MODE=3,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=7.393219890,
                   VALE_REFE=7.4074,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FREQ',
                   NUME_MODE=4,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=12.467464460,
                   VALE_REFE=12.5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FREQ',
                   NUME_MODE=5,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=27.507460450,
                   VALE_REFE=27.777699999999999,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FREQ',
                   NUME_MODE=6,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=41.740148177,
                   VALE_REFE=41.666600000000003,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                ),
          )

#

TEST_RESU(RESU=(_F(PARA='FACT_PARTICI_DY',
                   NUME_MODE=1,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=73.316046400,
                   VALE_REFE=73.299999999999997,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FACT_PARTICI_DZ',
                   NUME_MODE=2,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=73.316046400,
                   VALE_REFE=73.299999999999997,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FACT_PARTICI_DY',
                   NUME_MODE=3,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=222.766149449,
                   VALE_REFE=223.0,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FACT_PARTICI_DZ',
                   NUME_MODE=4,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=-222.766149449,
                   VALE_REFE=-223.0,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FACT_PARTICI_DX',
                   NUME_MODE=5,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=130.136742759,
                   VALE_REFE=130.0,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(PARA='FACT_PARTICI_DX',
                   NUME_MODE=6,
                   RESULTAT=MODE_MEC,
                   VALE_CALC=195.101071714,
                   VALE_REFE=195.0,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                ),
          )

MODE_STA=MODE_STATIQUE(  MATR_RIGI=RIGIDITE,   MATR_MASS=MASSE,
                         SOLVEUR=_F(METHODE='MULT_FRONT'),
                          PSEUDO_MODE=(
                                       _F(  AXE = ( 'X',  'Y', )),
                                       _F(  DIRECTION = ( 0., 0., 1., ),
                                         NOM_DIR = 'Z')) )

MODE_STA=CALC_CHAMP(reuse=MODE_STA,RESULTAT=MODE_STA,CONTRAINTE=('SIEF_ELGA'))


MODE_STA=CALC_CHAMP(reuse=MODE_STA,  RESULTAT=MODE_STA,
                   FORCE='REAC_NODA',
                      NOEUD_CMP=('ACCE', 'X',))

MODE_STA=CALC_CHAMP(reuse=MODE_STA,  RESULTAT=MODE_STA,
                   FORCE='REAC_NODA',
                      NOEUD_CMP=('ACCE', 'Y',))

MODE_STA=CALC_CHAMP(reuse=MODE_STA,  RESULTAT=MODE_STA,
                    FORCE='REAC_NODA',
                      NOEUD_CMP=('ACCE', 'Z',))

ACCE_X=DEFI_FONCTION(  NOM_PARA='FREQ',        INTERPOL='LOG',
                          VALE=( 0.2,            2.4,
                                 2.0,           25.,
                                 7.70,          25.,
                                 20.0,          10.,
                                 100.0,         10.,  ) )

SPECT=DEFI_NAPPE(  NOM_PARA='AMOR',
                         INTERPOL=( 'LIN', 'LOG', ),
                       PARA=(     0.005,   0.01,    0.015,  ),
                       FONCTION=( ACCE_X,  ACCE_X,  ACCE_X, )        )

# ----------------------------------------------------------------------
#                  COMBINAISON SRSS
# ----------------------------------------------------------------------

SISM_SP3=COMB_SISM_MODAL(  MODE_MECA=MODE_MEC,
                           NUME_MODE=( 1,  2,  3, ),
                           AMOR_REDUIT=0.01,
                           MASS_INER=TABL_MAS,
                           CORR_FREQ='NON',
                           MONO_APPUI = 'OUI',
                           EXCIT=_F(TRI_AXE = ( 1.,  1.,  1., ),
                                    SPEC_OSCI = SPECT),
                           COMB_MODE=_F(  TYPE = 'DPC'),
                           COMB_DIRECTION=_F(  TYPE = 'QUAD'),
                           OPTION=( 'DEPL',  'REAC_NODA',
                                      'EFGE_ELNO',
                                      'SIPO_ELNO',  )
                            )

SISMSP32=COMB_SISM_MODAL(  MODE_MECA=MODEMEC2,
                           NUME_MODE=( 1,  2,  3, ),
                           AMOR_REDUIT=0.01,
                           CORR_FREQ='NON',
                           MASS_INER=TABL_MAS,
                           MONO_APPUI = 'OUI',
                           EXCIT=_F(  TRI_AXE = ( 1.,  1.,  1., ),
                                      SPEC_OSCI = SPECT),
                           COMB_MODE=_F(  TYPE = 'DPC'),
                           COMB_DIRECTION=_F(  TYPE = 'QUAD'),
                           OPTION=( 'DEPL',  'REAC_NODA', )
                            )

TEST_RESU(RESU=(_F(RESULTAT=SISM_SP3,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DY',
                   VALE_CALC=0.012473834,
                   VALE_REFE=0.012540000000000001,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DY',
                   VALE_CALC=1.282038367,
                   VALE_REFE=1.2689999999999999,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DZ',
                   VALE_CALC= 2.83266995E-03,
                   VALE_REFE=2.8E-3,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DZ',
                   VALE_CALC=0.767326026,
                   VALE_REFE=0.75749999999999995,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

#

TEST_RESU(RESU=(_F(RESULTAT=SISM_SP3,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DX',
                   VALE_CALC=0.0,
                   CRITERE='ABSOLU',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DY',
                   VALE_CALC= 1.24072177E+06,
                   VALE_REFE=1.231000E6,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DZ',
                   VALE_CALC= 2.71885264E+04,
                   VALE_REFE=2.7000E4,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRY',
                   VALE_CALC= 2.62689630E+05,
                   VALE_REFE=2.56000E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.029999999999999999,),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRZ',
                   VALE_CALC= 5.96936678E+05,
                   VALE_REFE=5.91000E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

#
TEST_RESU(RESU=(_F(RESULTAT=SISM_SP3,
                   NOM_CHAM='SIPO_ELNO',
                   NOEUD='A',
                   NOM_CMP='SMFY',
                   VALE_CALC= 4.61182637E+09,
                   VALE_REFE=4.611000000E9,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,
                   MAILLE='E01',),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='SIPO_ELNO',
                   NOEUD='A',
                   NOM_CMP='SMFZ',
                   VALE_CALC= 2.98021307E+10,
                   VALE_REFE=2.9800000000E10,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,
                   MAILLE='E01',),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='SIPO_ELNO',
                   NOEUD='A',
                   NOM_CMP='SVY',
                   VALE_CALC= 1.58863223E+08,
                   VALE_REFE=1.58800000E8,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,
                   MAILLE='E01',),
                _F(RESULTAT=SISM_SP3,
                   NOM_CHAM='SIPO_ELNO',
                   NOEUD='A',
                   NOM_CMP='SVZ',
                   VALE_CALC= 3.48124538E+06,
                   VALE_REFE=3.481000E6,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.029999999999999999,
                   MAILLE='E01',),
                ),
          )

#
TEST_RESU(RESU=(_F(RESULTAT=SISMSP32,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DX',
                   VALE_CALC=0.0,
                   CRITERE='ABSOLU',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(RESULTAT=SISMSP32,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DY',
                   VALE_CALC= 1.24072177E+06,
                   VALE_REFE=1.231000E6,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISMSP32,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DZ',
                   VALE_CALC= 2.71885264E+04,
                   VALE_REFE=2.7000E4,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISMSP32,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRY',
                   VALE_CALC= 2.62689630E+05,
                   VALE_REFE=2.56000E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.029999999999999999,),
                _F(RESULTAT=SISMSP32,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRZ',
                   VALE_CALC= 5.96936678E+05,
                   VALE_REFE=5.91000E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

#

SISM_SP6=COMB_SISM_MODAL(  MODE_MECA=MODE_MEC,
                           AMOR_REDUIT=0.01,
                           MASS_INER=TABL_MAS,
                           CORR_FREQ='NON',
                           MONO_APPUI = 'OUI',
                           EXCIT=_F(  TRI_AXE = ( 1.,  1.,  1., ),
                                      SPEC_OSCI = SPECT),
                           COMB_MODE=_F(  TYPE = 'DPC'),
                           COMB_DIRECTION=_F(  TYPE = 'QUAD'),
                           OPTION=( 'DEPL',  'REAC_NODA',
                                         'VITE',  'ACCE_ABSOLU', )
                            )

TEST_RESU(RESU=(_F(RESULTAT=SISM_SP6,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DX',
                   VALE_CALC= 1.33360770E-04,
                   VALE_REFE=1.3200000000000001E-4,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP6,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DX',
                   VALE_CALC= 6.02208369E-04,
                   VALE_REFE=5.9999999999999995E-4,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP6,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DY',
                   VALE_CALC=0.012473834,
                   VALE_REFE=0.01255,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP6,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DY',
                   VALE_CALC=1.282038367,
                   VALE_REFE=1.2689999999999999,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP6,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DZ',
                   VALE_CALC= 3.81495339E-03,
                   VALE_REFE=3.8300000000000001E-3,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP6,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DZ',
                   VALE_CALC=0.767326032,
                   VALE_REFE=0.75800000000000001,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

#

TEST_RESU(RESU=(_F(RESULTAT=SISM_SP6,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DX',
                   VALE_CALC= 4.16619045E+05,
                   VALE_REFE=4.12000E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP6,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DY',
                   VALE_CALC= 1.24072177E+06,
                   VALE_REFE=1.227000E6,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP6,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DZ',
                   VALE_CALC= 7.81617591E+05,
                   VALE_REFE=7.96000E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP6,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRY',
                   VALE_CALC= 4.48140462E+05,
                   VALE_REFE=4.49000E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_SP6,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRZ',
                   VALE_CALC= 5.96936678E+05,
                   VALE_REFE=5.90000E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

SISM_3ST=COMB_SISM_MODAL(  MODE_MECA=MODE_MEC,
                           NUME_MODE=( 1,  2,  3, ),
                           MODE_CORR=MODE_STA,
                           AMOR_REDUIT=0.01,
                           MASS_INER=TABL_MAS,
                           CORR_FREQ='NON',
                           MONO_APPUI = 'OUI',
                           EXCIT=_F(  TRI_AXE = ( 1.,  1.,  1., ),
                                      SPEC_OSCI = SPECT),
                           COMB_MODE=_F(  TYPE = 'SRSS'),
                           COMB_DIRECTION=_F(  TYPE = 'QUAD'),
                           OPTION=( 'DEPL',  'REAC_NODA', )
                            )

TEST_RESU(RESU=(_F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DX',
                   VALE_CALC= 4.40140845E-04,
                   VALE_REFE=1.76E-4,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=1.6000000000000001,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DX',
                   VALE_CALC= 1.20038412E-03,
                   VALE_REFE=4.8000000000000001E-4,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=1.6000000000000001,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DY',
                   VALE_CALC=0.012473834,
                   VALE_REFE=0.012670000000000001,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DY',
                   VALE_CALC=1.282038367,
                   VALE_REFE=1.2769999999999999,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DZ',
                   VALE_CALC= 4.94923368E-03,
                   VALE_REFE=3.3E-3,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.5,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DZ',
                   VALE_CALC=0.767326041,
                   VALE_REFE=0.76200000000000001,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

#
TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DX',
                   VALE_CALC=4.4014084507042E-4,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DX',
                   VALE_CALC=1.2003841229193E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DY',
                   VALE_CALC=0.012473833912904001,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DY',
                   VALE_CALC=1.2820383667859001,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DZ',
                   VALE_CALC=4.9492336845147001E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DZ',
                   VALE_CALC=0.76732604110226998,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                ),
          )

#

TEST_RESU(RESU=(_F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DX',
                   VALE_CALC= 1.37500000E+06,
                   VALE_REFE=5.46000E5,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=1.6000000000000001,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DY',
                   VALE_CALC= 1.24072177E+06,
                   VALE_REFE=1.230000E6,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DZ',
                   VALE_CALC= 1.24091682E+06,
                   VALE_REFE=4.90000E5,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=1.6000000000000001,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRY',
                   VALE_CALC= 6.33655104E+05,
                   VALE_REFE=3.43000E5,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.84999999999999998,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRZ',
                   VALE_CALC= 5.96936678E+05,
                   VALE_REFE=5.91000E5,
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

#
TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DX',
                   VALE_CALC=1.375000E6,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DY',
                   VALE_CALC=1.2407217704157999E6,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DZ',
                   VALE_CALC=1.2409168199940999E6,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRY',
                   VALE_CALC=6.3365510433958995E5,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(
                   RESULTAT=SISM_3ST,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRZ',
                   VALE_CALC=5.9693667838728998E5,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                ),
          )

# ----------------------------------------------------------------------
#                  COMBINAISON CQC
# ----------------------------------------------------------------------

SISM_CQC=COMB_SISM_MODAL(  MODE_MECA=MODE_MEC,
                           AMOR_REDUIT=0.01,
                           MASS_INER=TABL_MAS,
                           CORR_FREQ='NON',
                           MONO_APPUI = 'OUI',
                           EXCIT=_F(  TRI_AXE = ( 1.,  1.,  1., ),
                                      SPEC_OSCI = SPECT),
                           COMB_MODE=_F(  TYPE = 'CQC'),
                           COMB_DIRECTION=_F(  TYPE = 'QUAD'),
                           OPTION=( 'DEPL',  'REAC_NODA', )
                            )

TEST_RESU(RESU=(_F(RESULTAT=SISM_CQC,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DX',
                   VALE_CALC= 1.33470374E-04,
                   VALE_REFE=1.3379599999999999E-4,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_CQC,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DX',
                   VALE_CALC= 6.01965499E-04,
                   VALE_REFE=6.01243E-4,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_CQC,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DY',
                   VALE_CALC=0.012473856,
                   VALE_REFE=0.0124739,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_CQC,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DY',
                   VALE_CALC=1.282038365,
                   VALE_REFE=1.2820400000000001,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_CQC,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DZ',
                   VALE_CALC= 3.81496298E-03,
                   VALE_REFE=3.8149899999999999E-3,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_CQC,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DZ',
                   VALE_CALC=0.767326032,
                   VALE_REFE=0.76732599999999995,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

#

TEST_RESU(RESU=(_F(RESULTAT=SISM_CQC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DX',
                   VALE_CALC= 4.16961447E+05,
                   VALE_REFE=4.17978E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_CQC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DY',
                   VALE_CALC= 1.24072185E+06,
                   VALE_REFE=1.240720E6,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_CQC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DZ',
                   VALE_CALC= 7.81617728E+05,
                   VALE_REFE=7.81618E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_CQC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRY',
                   VALE_CALC= 4.48141537E+05,
                   VALE_REFE=4.48145E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_CQC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRZ',
                   VALE_CALC= 5.96937431E+05,
                   VALE_REFE=5.96940E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

# ----------------------------------------------------------------------
#                  COMBINAISON DSC
# ----------------------------------------------------------------------

SISM_DPC=COMB_SISM_MODAL(  MODE_MECA=MODE_MEC,
                           AMOR_REDUIT=0.01,
                           MASS_INER=TABL_MAS,
                           CORR_FREQ='NON',
                           MONO_APPUI = 'OUI',
                           EXCIT=_F(  TRI_AXE = ( 1.,  1.,  1., ),
                                      SPEC_OSCI = SPECT),
                           COMB_MODE=_F(  TYPE = 'DSC',
                                       DUREE = 5.),
                           COMB_DIRECTION=_F(  TYPE = 'QUAD'),
                           OPTION=( 'DEPL',  'REAC_NODA', )
                            )

TEST_RESU(RESU=(_F(RESULTAT=SISM_DPC,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DX',
                   VALE_CALC= 1.33524470E-04,
                   VALE_REFE=1.3391299999999999E-4,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_DPC,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DX',
                   VALE_CALC= 6.01845519E-04,
                   VALE_REFE=6.0098200000000001E-4,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_DPC,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DY',
                   VALE_CALC=0.012477381,
                   VALE_REFE=0.0124805,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_DPC,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DY',
                   VALE_CALC=1.282038022,
                   VALE_REFE=1.2820400000000001,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_DPC,
                   NOM_CHAM='DEPL',
                   NOEUD='B',
                   NOM_CMP='DZ',
                   VALE_CALC= 3.81580957E-03,
                   VALE_REFE=3.8168899999999999E-3,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_DPC,
                   NOM_CHAM='DEPL',
                   NOEUD='C',
                   NOM_CMP='DZ',
                   VALE_CALC=0.767325990,
                   VALE_REFE=0.76732599999999995,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

#

TEST_RESU(RESU=(_F(RESULTAT=SISM_DPC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DX',
                   VALE_CALC= 4.17130443E+05,
                   VALE_REFE=4.18344E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_DPC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DY',
                   VALE_CALC= 1.24073471E+06,
                   VALE_REFE=1.240750E6,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_DPC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DZ',
                   VALE_CALC= 7.81629853E+05,
                   VALE_REFE=7.81645E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_DPC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRY',
                   VALE_CALC= 4.48236498E+05,
                   VALE_REFE=4.48357E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                _F(RESULTAT=SISM_DPC,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='A',
                   NOM_CMP='DRZ',
                   VALE_CALC= 5.97057463E+05,
                   VALE_REFE=5.97165E5,
                   REFERENCE='SOURCE_EXTERNE',
                   CRITERE='RELATIF',
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   PRECISION=0.02,),
                ),
          )

FIN( )
#
