# MODIF  DATE 21/06/2005   AUTEUR MCOURTOI M.COURTOIS 
# TITRE TEST IMPR_FONCTION ET METHODES PYTHON DE TRACE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2004  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================

DEBUT(CODE=_F(NOM = 'ZZZZ140A', NIV_PUB_WEB='INTERNET', VISU_EFICAS='NON', ),
   PAR_LOT='NON',
)

# ------------------------------------------------------------------------------
# COURBE DE TRACTION

A5=DEFI_FONCTION(
   NOM_RESU='SIGM',
   NOM_PARA='EPSI',
   VALE=(0.002,400.0,
         0.003,500.0,
         0.0045,550.0,
         0.0065,580.0,
         0.008,590.0,
         0.01,600.0,
         0.02,600.0,
   ),
   PROL_DROITE='CONSTANT',
   PROL_GAUCHE='LINEAIRE',
)
                 
# ------------------------------------------------------------------------------
# NAPPE
FCT1=DEFI_FONCTION(
   NOM_PARA='EPSI',
   VALE=(0.002,400.0,0.004,500.0,),
   PROL_DROITE='LINEAIRE',
   PROL_GAUCHE='LINEAIRE',
)

FCT2=DEFI_FONCTION(
   NOM_PARA='EPSI',
   VALE=(0.001,200.0,0.003,300.0,),
   PROL_DROITE='LINEAIRE',
   PROL_GAUCHE='LINEAIRE',
)

FCT3=DEFI_FONCTION(
   NOM_PARA='EPSI',
   VALE=(0.001,2000.0,0.003,3000.0,),
   PROL_DROITE='LINEAIRE',
   PROL_GAUCHE='LINEAIRE',
)

CTRACB=DEFI_NAPPE(
   NOM_PARA='TEMP',
   PARA=(0.0,50.0,),
   FONCTION=(FCT1,FCT2,),
   PROL_DROITE='LINEAIRE',
   PROL_GAUCHE='LINEAIRE',
)

CTRACC=DEFI_NAPPE(
   NOM_PARA='TEMP',
   PARA=(0.0,50.0,100.),
   FONCTION=(FCT1,FCT2,FCT3),
   PROL_DROITE='LINEAIRE',
   PROL_GAUCHE='LINEAIRE',
)

# ------------------------------------------------------------------------------
IMPR_FONCTION(
   FORMAT='TABLEAU',
   UNITE=50,
   COURBE=  _F( FONCTION=CTRACC, ),
   )

IMPR_FONCTION(
   FORMAT='TABLEAU',
   UNITE=51,
   COURBE=( _F( FONCTION=FCT1,   ),
            _F( FONCTION=CTRACB, ),
            _F( FONCTION=FCT2,   ), )
   )

TEST_FICHIER(
   FICHIER='fort.51',
   VALE_K='fcd52c816c4684b5303d81c30c582707',
   REFERENCE='NON_REGRESSION',
   VERSION='8.0.10',
)
# ------------------------------------------------------------------------------
IMPR_FONCTION(
   FORMAT='TABLEAU',
   UNITE=52,
   COURBE= _F( FONC_X=FCT1,
               FONC_Y=FCT2, ), 
   )

TEST_FICHIER(
   FICHIER='fort.52',
   VALE_K='7f4ce2167cd1e3a7dfc66d31a1d64c0e',
   REFERENCE='NON_REGRESSION',
   VERSION='8.0.10',
)
# ------------------------------------------------------------------------------
IMPR_FONCTION(
   FORMAT='XMGRACE',
   UNITE=53,
   COURBE=(
      _F(
         ABSCISSE=[0.]+A5.Absc(),
         ORDONNEE=[0.]+A5.Ordo(),
         COULEUR=2,
      ),
   ),
   TITRE='Courbe de traction',
   SOUS_TITRE='avec un palier horizontal',
   LEGENDE_X='Deformation',
   LEGENDE_Y='Contrainte',
)
TEST_FICHIER(
   FICHIER='fort.53',
   VALE_K='937a8d2d066eff0ef4d476d5d91ed583',
   REFERENCE='NON_REGRESSION',
   VERSION='7.4.0',
)

# ------------------------------------------------------------------------------
A5.Trace(FORMAT='AGRAF',FICHIER=('A5.dogr','A5.digr'))
TEST_FICHIER(
   FICHIER='A5.dogr',
   VALE_K='8869480960c43875ba2ee3ec0588c9e3',
   REFERENCE='NON_REGRESSION',
   VERSION='7.4.0',
)
TEST_FICHIER(
   FICHIER='A5.digr',
   VALE_K='9283df657c2fa170d6c422e6d94b4dc4',
   REFERENCE='NON_REGRESSION',
   VERSION='7.4.0',
)

# ------------------------------------------------------------------------------
DEFI_FICHIER(UNITE=54, FICHIER='./REPE_OUT/unite.54')
IMPR_FONCTION(
   FORMAT='XMGRACE',
   UNITE=54,
   COURBE=(
      _F(
         FONCTION=CTRACB,
      ),
   ),
)
DEFI_FICHIER(UNITE=54, ACTION='LIBERER')
TEST_FICHIER(
   FICHIER='./REPE_OUT/unite.54',
   VALE_K='e80ba4454850c406d162e377a1e720b0',
   REFERENCE='NON_REGRESSION',
   VERSION='7.4.0',
)

# ------------------------------------------------------------------------------
CTRACB.Trace(FORMAT='XMGRACE',FICHIER='fort.55')
TEST_FICHIER(
   FICHIER='fort.55',
   VALE_K='9c840c55e3e2eee6fa27babbdbf95850',
   REFERENCE='NON_REGRESSION',
   VERSION='7.4.0',
)

FIN()
