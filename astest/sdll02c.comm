# MODIF  DATE 06/02/2013   AUTEUR COURTOIS M.COURTOIS 
# RESPONSABLE ADBHHPM P.MASSIN
# DATE   : 03/05/2000
# AUTEUR : F. LEBOUVIER (DELTACAD)
# TITRE  : POUTRE ELANCEE, ENCASTREE-LIBRE, REPLIEE SUR ELLE MEME
# sdll02c.para = tps_job 60 mem_job 512Mo ncpus 1 liste_test S
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2013  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#---------------------------------------------------------------------
#  - PROBLEME BIDIMENSIONNEL EN ANALYSE MODALE DYNAMIQUE D'UNE POUTRE
#    ELANCEE
#  - MODELISATION AVEC DES ELEMENTS 'COQUE_C_PLAN'
#---------------------------------------------------------------------
#
DEBUT(CODE=_F(NOM='SDLL02C',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

MAIL=LIRE_MAILLAGE(FORMAT='MED', )

#
MODEL=AFFE_MODELE(   MAILLAGE=MAIL,
                           AFFE=_F( TOUT = 'OUI',
                                 PHENOMENE = 'MECANIQUE',
                                 MODELISATION = 'COQUE_C_PLAN')
                     )

#
#---------------------------------------------------------------------
#                      CARACTERISTIQUES ELEMENTAIRES
#---------------------------------------------------------------------
#
CARA=AFFE_CARA_ELEM(   MODELE=MODEL,
                          COQUE=_F( GROUP_MA = 'TOUT_ELT',
                                 EPAIS = 0.005)
                       )

#
#---------------------------------------------------------------------
#                      CARACTERISTIQUES MATERIAUX
#---------------------------------------------------------------------
#
MATER=DEFI_MATERIAU(   ELAS=_F( E = 2.1E+11,
                               NU = 0.3,
                               RHO = 7800.)
                       )

#
AFFMATER=AFFE_MATERIAU(   MAILLAGE=MAIL,
                                AFFE=_F( TOUT = 'OUI',
                                      MATER = MATER)
                         )

#
#---------------------------------------------------------------------
#                      CHARGEMENTS
#---------------------------------------------------------------------
#
CHARGE=AFFE_CHAR_MECA(        MODELE=MODEL,
                              DDL_IMPO=_F( NOEUD = 'NO1',
                                          DX = 0.,
                                          DY = 0.,
                                          DRZ = 0.)
                         )

#
#---------------------------------------------------------------------
#                      RESOLUTION
#---------------------------------------------------------------------
#
MATRIGI=CALC_MATR_ELEM(       MODELE=MODEL,
                            CHAM_MATER=AFFMATER,
                             CARA_ELEM=CARA,
                                OPTION='RIGI_MECA',
                                CHARGE=CHARGE
                          )

#
MATMASS=CALC_MATR_ELEM(       MODELE=MODEL,
                            CHAM_MATER=AFFMATER,
                             CARA_ELEM=CARA,
                                OPTION='MASS_MECA',
                                CHARGE=CHARGE
                          )

#
NU=NUME_DDL(   MATR_RIGI=MATRIGI)

#
MATRI_AS=ASSE_MATRICE(   MATR_ELEM=MATRIGI,   NUME_DDL=NU)

#
MATMA_AS=ASSE_MATRICE(   MATR_ELEM=MATMASS,   NUME_DDL=NU)

#

MODES=MODE_ITER_SIMULT(      MATR_RIGI=MATRI_AS,
                               MATR_MASS=MATMA_AS,
                              METHODE='SORENSEN',
                            CALC_FREQ=_F( OPTION = 'PLUS_PETITE',
                                       NMAX_FREQ = 8)
                          )


#
MODES=NORM_MODE( reuse=MODES,   MODE=MODES,
                      NORME='TRAN'
                    )

MODE_1=CREA_CHAMP(      RESULTAT=MODES,
                        OPERATION='EXTR',
                         TYPE_CHAM='NOEU_DEPL_R',
                         NOM_CHAM='DEPL',
                       NUME_ORDRE=1
                    )

MODE_2=CREA_CHAMP(      RESULTAT=MODES,
                        OPERATION='EXTR',
                         TYPE_CHAM='NOEU_DEPL_R',
                         NOM_CHAM='DEPL',
                       NUME_ORDRE=2
                    )

MODE_3=CREA_CHAMP(      RESULTAT=MODES,
                        OPERATION='EXTR',
                         TYPE_CHAM='NOEU_DEPL_R',
                         NOM_CHAM='DEPL',
                       NUME_ORDRE=3
                    )

MODE_4=CREA_CHAMP(      RESULTAT=MODES,
                        OPERATION='EXTR',
                         TYPE_CHAM='NOEU_DEPL_R',
                         NOM_CHAM='DEPL',
                       NUME_ORDRE=4
                    )

MODE_7=CREA_CHAMP(      RESULTAT=MODES,
                        OPERATION='EXTR',
                         TYPE_CHAM='NOEU_DEPL_R',
                         NOM_CHAM='DEPL',
                       NUME_ORDRE=7
                    )

MODE_8=CREA_CHAMP(      RESULTAT=MODES,
                        OPERATION='EXTR',
                         TYPE_CHAM='NOEU_DEPL_R',
                         NOM_CHAM='DEPL',
                       NUME_ORDRE=8
                    )

#
#---------------------------------------------------------------------
#                      VERIFICATIONS DES RESULTATS
#---------------------------------------------------------------------
#
#FREQUENCES ET MODES DE VIBRATION DE LA STRUCTURE
#################################################
TEST_RESU(RESU=(_F(NUME_ORDRE=1,
                   PARA='FREQ',
                   RESULTAT=MODES,
                   VALE_CALC=11.767395646,
                   VALE_REFE=11.76,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=2,
                   PARA='FREQ',
                   RESULTAT=MODES,
                   VALE_CALC=11.804351794,
                   VALE_REFE=11.76,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=3,
                   PARA='FREQ',
                   RESULTAT=MODES,
                   VALE_CALC=106.532624267,
                   VALE_REFE=105.88,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=4,
                   PARA='FREQ',
                   RESULTAT=MODES,
                   VALE_CALC=107.556058443,
                   VALE_REFE=105.88,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=0.02,),
                _F(NUME_ORDRE=5,
                   PARA='FREQ',
                   RESULTAT=MODES,
                   VALE_CALC=299.685294510,
                   VALE_REFE=294.10000000000002,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=0.02,),
                _F(NUME_ORDRE=6,
                   PARA='FREQ',
                   RESULTAT=MODES,
                   VALE_CALC=304.643106693,
                   VALE_REFE=294.10000000000002,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=0.040000000000000001,),
                _F(NUME_ORDRE=7,
                   PARA='FREQ',
                   RESULTAT=MODES,
                   VALE_CALC=599.025137712,
                   VALE_REFE=576.44000000000005,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=0.040000000000000001,),
                _F(NUME_ORDRE=8,
                   PARA='FREQ',
                   RESULTAT=MODES,
                   VALE_CALC=613.505883232,
                   VALE_REFE=576.44000000000005,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=0.065000000000000002,),
                ),
          CHAM_NO=(_F(NOEUD='NO2',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=MODE_1,
                      VALE_CALC=-0.707106783,
                      VALE_REFE=-0.70699999999999996,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO41',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=MODE_1,
                      VALE_CALC=1.000000000,
                      VALE_REFE=1.0,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO2',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=MODE_2,
                      VALE_CALC=0.707106776,
                      VALE_REFE=0.70699999999999996,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO41',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=MODE_2,
                      VALE_CALC=1.000000000,
                      VALE_REFE=1.0,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO2',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=MODE_3,
                      VALE_CALC=0.707106781,
                      VALE_REFE=0.70699999999999996,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO41',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=MODE_3,
                      VALE_CALC=1.000000000,
                      VALE_REFE=1.0,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO2',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=MODE_4,
                      VALE_CALC=-0.372637654,
                      VALE_REFE=-0.37,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO41',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=MODE_4,
                      VALE_CALC=0.526989225,
                      VALE_REFE=0.52300000000000002,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO2',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      VALE_CALC=0.707106781,
                      CHAM_GD=MODE_7,
                      VALE_REFE=0.70699999999999996,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO41',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=MODE_7,
                      VALE_CALC=1.000000000,
                      VALE_REFE=1.0,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO2',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.040000000000000001,
                      CHAM_GD=MODE_8,
                      VALE_CALC=-0.403480261,
                      VALE_REFE=-0.38800000000000001,
                      REFERENCE='NON_DEFINI',),
                   _F(NOEUD='NO41',
                      CRITERE='RELATIF',
                      NOM_CMP='DY',
                      PRECISION=0.040000000000000001,
                      CHAM_GD=MODE_8,
                      VALE_CALC=0.570607258,
                      VALE_REFE=0.54900000000000004,
                      REFERENCE='NON_DEFINI',),
                   ),
          )

FIN()






