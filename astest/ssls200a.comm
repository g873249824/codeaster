# MODIF  DATE 24/05/2011   AUTEUR MACOCCO K.MACOCCO 
# TITRE NON-REGRESSION THERMO-ELASTICITE POUR TOUTES COQUES SURFACIQUES
# RESPONSABLE VABHHTS J.PELLET
# ssls200a.para = tps_job 60 mem_job 250Mo ncpus 1 liste_test R
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2011  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
# ========================================================================
# TEST DE NON REGRESSION :
# (les valeurs de reference ont ete obtenues par Code_Aster)
#
# - On utilise dans le maillage de nombreux types de mailles
#   (pour valider le plus d'elements finis)
#
# - domaines testes :
#      MECANIQUE THERMO LINEAIRE, MODELISATION='DKT','COQUE_3D', ...
# =========================================================================

DEBUT(CODE=_F(NOM='SSLS200A',
              NIV_PUB_WEB='INTERNET',),
      DEBUG=_F(SDVERI='OUI',),);

M1=LIRE_MAILLAGE();

M1=DEFI_GROUP(reuse =M1,
              MAILLAGE=M1,
              CREA_GROUP_MA=_F(NOM='TOUT',
                               TOUT='OUI',),);

MA=CREA_MAILLAGE(MAILLAGE=M1,
                 MODI_MAILLE=(_F(MAILLE='Q9',
                                 OPTION='QUAD8_9',),
                              _F(MAILLE='T7',
                                 OPTION='TRIA6_7',),),);

MO=AFFE_MODELE(MAILLAGE=MA,
               AFFE=(_F(MAILLE='S1',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='DKT',),
                     _F(MAILLE='Q1',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='DKT',),
                     _F(MAILLE='T1',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='DKT',),
                     _F(MAILLE='T2',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='DKT',),
                     _F(MAILLE='Q2',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='Q4G',),
                     _F(MAILLE='Q3',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='DST',),
                     _F(MAILLE='T3',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='DST',),
                     _F(MAILLE='Q9',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='COQUE_3D',),
                     _F(MAILLE='T7',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='COQUE_3D',),),);

F1=DEFI_FONCTION(NOM_PARA='TEMP',VALE=(-1000.,-1200.,
                       1000.,1200.,
                       ),PROL_DROITE='LINEAIRE',PROL_GAUCHE='CONSTANT',);

F2=DEFI_CONSTANTE(VALE=0.3,);

MAT=DEFI_MATERIAU(ELAS_FO=_F(E=F1,
                             NU=F2,
                             RHO=8.1,
                             TEMP_DEF_ALPHA=1.5,
                             ALPHA=F1,),);

CARA=AFFE_CARA_ELEM(MODELE=MO,
                    COQUE=_F(GROUP_MA='TOUT',
                             EPAIS=0.7,
                             ANGL_REP=(10.,-20.,),
                             A_CIS=0.6,),);

TEMPLIN=CREA_CHAMP(TYPE_CHAM='NOEU_TEMP_R',
                   OPERATION='AFFE',
                   MAILLAGE=MA,
                   AFFE=_F(TOUT='OUI',
                           NOM_CMP=('TEMP_INF','TEMP','TEMP_SUP',),
                           VALE=(12.,18.,24.,),),);

TEMPLI=CREA_RESU(OPERATION='AFFE',
                 TYPE_RESU='EVOL_THER',
                 NOM_CHAM='TEMP',
                 AFFE=_F(CHAM_GD=TEMPLIN,
                         INST=0.0,),);

TEMPER=CREA_RESU(OPERATION='PREP_VRC2',
                 TYPE_RESU='EVOL_THER',
                 PREP_VRC2=_F(EVOL_THER=TEMPLI,
                              MODELE=MO,
                              CARA_ELEM=CARA,),);

CHMAT=AFFE_MATERIAU(MAILLAGE=MA,
                    AFFE=_F(TOUT='OUI',
                            MATER=MAT,),
                    AFFE_VARC=_F(TOUT='OUI',
                                 EVOL=TEMPER,
                                 NOM_VARC='TEMP',
                                 NOM_CHAM='TEMP',
                                 VALE_REF=1.5,),);

# ------------------------------------------------------------------

CHPES=AFFE_CHAR_MECA(MODELE=MO,
                     PESANTEUR=_F(GRAVITE=9.8,
                                  DIRECTION=(0.3,0.1,-0.4,),),
                     DDL_IMPO=(_F(NOEUD='N1',
                                  DX=1.,
                                  DY=2.,
                                  DZ=3.,
                                  DRX=1.,
                                  DRY=2.,
                                  DRZ=3.,),
                               _F(NOEUD='N6',
                                  DX=2.,
                                  DY=3.,
                                  DZ=4.,
                                  DRX=1.,
                                  DRY=2.,
                                  DRZ=5.,),),
                     FORCE_ARETE=_F(MAILLE='S1',
                                    FZ=8.,),
                     FORCE_COQUE=_F(TOUT='OUI',
                                    F1=5.,
                                    F2=8.,
                                    F3=9.,
                                    MF1=5.,),);

CHME2=AFFE_CHAR_MECA(MODELE=MO,
                     FORCE_COQUE=_F(TOUT='OUI',
                                    PRES=5.,),);

# ------------------------------------------------------------------

MESTAT=MECA_STATIQUE(MODELE=MO,
                     CHAM_MATER=CHMAT,
                     CARA_ELEM=CARA,
                     EXCIT=(_F(CHARGE=CHPES,),
                            _F(CHARGE=CHME2,),),);

MESTAT=CALC_ELEM(reuse =MESTAT,
                 RESULTAT=MESTAT,
                 OPTION=('SIEF_ELGA','SIGM_ELNO','EPSI_ELNO','EFGE_ELNO',),);

MESTAT=CALC_ELEM(reuse =MESTAT,
                 RESULTAT=MESTAT,
                 MAILLE=('Q1','T1','Q2','Q3','T3',),
                 OPTION='DEGE_ELNO',);

MESTAT=CALC_NO(reuse =MESTAT,
               RESULTAT=MESTAT,
               OPTION=('EPSI_NOEU','SIGM_NOEU',),);

ENGENDRE_TEST(CO=MESTAT,);

TEST_RESU(RESU=(_F(RESULTAT=MESTAT,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEPL',
                   TYPE_TEST='SOMM_ABS',
                   VALE=43695.191085325,
                   REFERENCE='NON_REGRESSION',
                   VERSION='10.4.4',),
                _F(RESULTAT=MESTAT,
                   NUME_ORDRE=1,
                   NOM_CHAM='EFGE_ELNO',
                   TYPE_TEST='SOMM_ABS',
                   VALE=172671.402159,
                   PRECISION=0.0040,
                   REFERENCE='NON_REGRESSION',),
                _F(RESULTAT=MESTAT,
                   NUME_ORDRE=1,
                   NOM_CHAM='EPSI_ELNO',
                   TYPE_TEST='SOMM_ABS',
                   VALE=29086.9233306,
                   PRECISION=0.0007,
                   REFERENCE='NON_REGRESSION',),
                _F(RESULTAT=MESTAT,
                   NUME_ORDRE=1,
                   NOM_CHAM='EPSI_NOEU',
                   TYPE_TEST='SOMM_ABS',
                   VALE=9360.65222995,
                   PRECISION=0.0005,
                   REFERENCE='NON_REGRESSION',),
                _F(RESULTAT=MESTAT,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIEF_ELGA',
                   TYPE_TEST='SOMM_ABS',
                   VALE=1030972.8503538,
                   REFERENCE='NON_REGRESSION',
                   VERSION='10.4.4',),
                _F(RESULTAT=MESTAT,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIGM_ELNO',
                   TYPE_TEST='SOMM_ABS',
                   VALE=225807.085034,
                   PRECISION=0.0006,
                   REFERENCE='NON_REGRESSION',),
                _F(RESULTAT=MESTAT,
                   NUME_ORDRE=1,
                   NOM_CHAM='SIGM_NOEU',
                   TYPE_TEST='SOMM_ABS',
                   VALE=56853.4965839,
                   PRECISION=0.00055,
                   REFERENCE='NON_REGRESSION',),
                _F(RESULTAT=MESTAT,
                   NUME_ORDRE=1,
                   NOM_CHAM='DEGE_ELNO',
                   TYPE_TEST='SOMM_ABS',
                   VALE=24435.24051536,
                   REFERENCE='NON_REGRESSION',
                   VERSION='10.4.4',),),);

# ----------------------------------------------------------------------

MASS2=POST_ELEM(ENER_POT=_F(MAILLE=('Q1','T1','Q2','Q3','T3',),),
                MODELE=MO,
                CHAM_MATER=CHMAT,
                CARA_ELEM=CARA,
                RESULTAT=MESTAT,);

MASS3=POST_ELEM(MASS_INER=_F(TOUT='OUI',),
                MODELE=MO,
                CHAM_MATER=CHMAT,
                CARA_ELEM=CARA,
                RESULTAT=MESTAT,);

ENGENDRE_TEST(CO=(MASS2,MASS3,),);

TEST_TABLE(TABLE=MASS2,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='NUME_ORDRE',
           VALE_I=5,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS2,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='INST',
           VALE=0.0,
           CRITERE='ABSOLU',
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS2,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='TOTALE',
           VALE=25814353.2294,
           PRECISION=0.0003,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS2,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='POUR_CENT',
           VALE=100.0,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='MASSE',
           VALE=88.749538027,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='CDG_X',
           VALE=0.761904761905,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='CDG_Y',
           VALE=0.428571428571,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='CDG_Z',
           VALE=0.857142857143,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='IX_G',
           VALE=38.3388948201,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='IY_G',
           VALE=46.7095258512,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='IZ_G',
           VALE=28.0549163224,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='IXY_G',
           VALE=2.56588800418,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='IXZ_G',
           VALE=5.13177600836,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='IYZ_G',
           VALE=12.4364063525,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='IX_PRIN_G',
           VALE=20.0379579022,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='IY_PRIN_G',
           VALE=40.1376500641,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='IZ_PRIN_G',
           VALE=52.9277290274,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='ALPHA',
           VALE=125.03147009,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='BETA',
           VALE=58.5908333064,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

TEST_TABLE(TABLE=MASS3,
           TYPE_TEST='SOMM_ABS',
           NOM_PARA='GAMMA',
           VALE=149.107781688,
           PRECISION=1e-10,
           REFERENCE='NON_REGRESSION',);

IMPR_RESU(FORMAT='MED',
          RESU=_F(MAILLAGE=MA,
                  RESULTAT=MESTAT,
                  NOM_CHAM='SIEF_ELGA',),);

FIN();

#

