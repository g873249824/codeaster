# MODIF  DATE 12/09/2005   AUTEUR MABBAS M.ABBAS 
# TITRE CYLINDRE DANS UN ALESAGE AVEC CONTACT ET FROTTEMENT
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2005  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================
#       CAS-TEST SSNV127: 2D (Q8), METHODE CONTINUE

DEBUT(CODE=_F( NOM = 'SSNV127G',
NIV_PUB_WEB='INTERNET',VISU_EFICAS='NON'));

PRE_GIBI();

#_____________________________________________________________________ 
#                                                       
#                    LECTURE DE SSNV127G.MGIB           
#_____________________________________________________________________ 
#                                                       

SSNV127G=LIRE_MAILLAGE();

SSNV127G=DEFI_GROUP(reuse =SSNV127G,
                    MAILLAGE=SSNV127G,
                    CREA_GROUP_NO=(_F(GROUP_MA='CC4',),
                                   _F(GROUP_MA='AD1',),
                                   _F(GROUP_MA='AD2',),
                                   _F(GROUP_MA='AD3',),
                                   _F(GROUP_MA='BD3',),
                                   _F(GROUP_MA='AD4',),
                                   _F(GROUP_MA='BD4',),
                                   _F(OPTION='NOEUD_ORDO',
                                      NOM='RELEVE',
                                      GROUP_MA='BCC2',
                                      GROUP_NO_ORIG='A1',
                                      GROUP_NO_EXTR='B2',),),);
                                      
#_____________________________________________________________________ 
#                                                       
#                    DEFINITION DU MODELE               
#_____________________________________________________________________ 
#

MO=AFFE_MODELE(MAILLAGE=SSNV127G,
               AFFE=_F(TOUT='OUI',
                       PHENOMENE='MECANIQUE',
                       MODELISATION='C_PLAN',),);

SSNV127G=MODI_MAILLAGE(reuse =SSNV127G,
                       MAILLAGE=SSNV127G,
                       ORIE_PEAU_2D=_F(GROUP_MA='BCC1',),
                       MODELE=MO,);

SSNV127G=MODI_MAILLAGE(reuse =SSNV127G,
                       MAILLAGE=SSNV127G,
                       ORIE_PEAU_2D=_F(GROUP_MA='BCC2',),
                       MODELE=MO,);
#_____________________________________________________________________ 
#                                                       
#                    DEFINITION DES MATERIAUX           
#_____________________________________________________________________ 
#                                                       

MAT1=DEFI_MATERIAU(ELAS=_F(E=210000000000.0,
                           NU=0.3,),);

CHMAT=AFFE_MATERIAU(MAILLAGE=SSNV127G,
                    AFFE=_F(GROUP_MA='SURFF',
                            MATER=MAT1,),);
#_____________________________________________________________________ 
#                                                       
#             AFFECTATION DES CONDITIONS AUX LIMITES            
#                       ET DU CHARGEMENT                
#_____________________________________________________________________ 
#                                                       

CHA1=AFFE_CHAR_MECA(MODELE=MO,
                    DDL_IMPO=(_F(GROUP_NO='CC4',
                                 DX=0.0,
                                 DY=0.0,),
                              _F(GROUP_NO='AD1',
                                 DX=0.0,),
                              _F(GROUP_NO='AD2',
                                 DX=0.0,),
                              _F(GROUP_NO='AD3',
                                 DX=0.0,),
                              _F(GROUP_NO='AD4',
                                 DX=0.0,),
                              _F(GROUP_NO='BD3',
                                 DX=0.0,),
                              _F(GROUP_NO='BD4',
                                 DX=0.0,),),
                    FORCE_NODALE=_F(GROUP_NO='O2',
                                    FY=-937500.0,),);

CHA2=AFFE_CHAR_MECA(MODELE=MO,
                    CONTACT=_F(METHODE='CONTINUE',
                               GROUP_MA_MAIT='BCC1',
                               GROUP_MA_ESCL='BCC2',
                               FROTTEMENT='COULOMB',
                               PROJECTION='LINEAIRE',
                               COEF_REGU_CONT=100.0,
                               MODL_AXIS='NON',
                               ITER_GEOM_MAXI=10,
                               ITER_CONT_MAXI=50,
                               ITER_FROT_MAXI=20, 
                               COULOMB=0.4,),);
#_____________________________________________________________________ 
#                                                       
#               DEFINITION DES FONCTIONS TEMPORELLES    
#_____________________________________________________________________ 
#                                                       

RAMPE=DEFI_FONCTION(NOM_PARA='INST',
                    VALE=(0.0,0.0,1.0,1.0,),
                    PROL_DROITE='LINEAIRE',
                    PROL_GAUCHE='LINEAIRE',);

L_INST=DEFI_LIST_REEL(DEBUT=0.0,
                      INTERVALLE=_F(JUSQU_A=1.0,
                                    NOMBRE=1,),);
#_____________________________________________________________________ 
#                                                       
#                            RESOLUTION                 
#_____________________________________________________________________ 
#                                                       

U=STAT_NON_LINE(MODELE=MO,
                CHAM_MATER=CHMAT,
                EXCIT=(_F(CHARGE=CHA1,
                          FONC_MULT=RAMPE,),
                       _F(CHARGE=CHA2,),),
                COMP_ELAS=_F(RELATION='ELAS',),
                INCREMENT=_F(LIST_INST=L_INST,),
                NEWTON=_F(MATRICE='TANGENTE',
                          REAC_ITER=1,),
                CONVERGENCE=_F(ITER_GLOB_MAXI=20,),);

U=CALC_ELEM(reuse =U,
            RESULTAT=U,
            OPTION='SIEF_ELNO_ELGA',);

TPRESS=POST_RELEVE_T(ACTION=_F(INTITULE='PRESS',
                               GROUP_NO='RELEVE',
                               RESULTAT=U,
                               NOM_CHAM='SIEF_ELNO_ELGA',
                               INST=1.0,
                               NOM_CMP='SIXX',
                               REPERE='POLAIRE',
                               OPERATION='EXTRACTION',),);

TCONT=POST_RELEVE_T(ACTION=_F(INTITULE='CONT',
                              GROUP_NO='RELEVE',
                              RESULTAT=U,
                              NOM_CHAM='VALE_CONT',
                              INST=1.0,
                              TOUT_CMP='OUI',
                              OPERATION='EXTRACTION',),);

IMPR_TABLE(TABLE=TPRESS,);

IMPR_TABLE(TABLE=TCONT,);


#_____________________________________________________________________ 
#                                                       
# TEST DE LA CONFORMITE AVEC LA SOLUTION DE REFERENCE ANALYTIQUE       
#_____________________________________________________________________ 
#                                                       

# VALEUR DE PRESSION

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N512',),),
           NOM_PARA='SIXX',
           VALE=-17813000.0,
           PRECISION=0.0054,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N506',),),
           NOM_PARA='SIXX',
           VALE=-17813000.0,
           PRECISION=0.0586,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N502',),),
           NOM_PARA='SIXX',
           VALE=-17750000.0,
           PRECISION=0.07016,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N495',),),
           NOM_PARA='SIXX',
           VALE=-17688000.0,
           PRECISION=0.06407,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N485',),),
           NOM_PARA='SIXX',
           VALE=-17594000.0,
           PRECISION=0.05661,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N472',),),
           NOM_PARA='SIXX',
           VALE=-17470000.0,
           PRECISION=0.05,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N457',),),
           NOM_PARA='SIXX',
           VALE=-17312000.0,
           PRECISION=0.03327,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N440',),),
           NOM_PARA='SIXX',
           VALE=-17125000.0,
           PRECISION=0.0203,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N438',),),
           NOM_PARA='SIXX',
           VALE=-16906000.0,
           PRECISION=0.0106,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N421',),),
           NOM_PARA='SIXX',
           VALE=-16656000.0,
           PRECISION=0.034,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N420',),),
           NOM_PARA='SIXX',
           VALE=-16343000.0,
           PRECISION=0.04211,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N401',),),
           NOM_PARA='SIXX',
           VALE=-15937000.0,
           PRECISION=0.01285,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N379',),),
           NOM_PARA='SIXX',
           VALE=-15406000.0,
           PRECISION=0.01168,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N355',),),
           NOM_PARA='SIXX',
           VALE=-14781000.0,
           PRECISION=0.024,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N330',),),
           NOM_PARA='SIXX',
           VALE=-14031000.0,
           PRECISION=0.02,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N302',),),
           NOM_PARA='SIXX',
           VALE=-13094000.0,
           PRECISION=0.023,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N269',),),
           NOM_PARA='SIXX',
           VALE=-11169000.0,
           PRECISION=0.115,
           REFERENCE='ANALYTIQUE',);

TEST_TABLE(TABLE=TPRESS,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N267',),),
           NOM_PARA='SIXX',
           VALE=-10593000.0,
           PRECISION=0.053,
           REFERENCE='ANALYTIQUE',);
#
# ADHERENT OU GLISSANT

TEST_TABLE(TABLE=TCONT,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N420',),),
           NOM_PARA='CONT',
           VALE=1.0,
           PRECISION=1e-05,
           REFERENCE='NON_REGRESSION',
           VERSION='V6.3.22',);

TEST_TABLE(TABLE=TCONT,
           FILTRE=(_F(NOM_PARA='INST',
                      VALE=1.0,),
                   _F(NOM_PARA='NOEUD',
                      VALE_K='N401',),),
           NOM_PARA='CONT',
           VALE=2.0,
           PRECISION=1e-05,
           REFERENCE='NON_REGRESSION',
           VERSION='V6.3.22',);

#IMPR_RESU(FORMAT='CASTEM',
#          UNITE=55,
#          RESU=(_F(MAILLAGE=SSNV127G,),
#                _F(RESULTAT=U,),),);

FIN();
