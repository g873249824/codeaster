# MODIF  DATE 11/10/2004   AUTEUR DURAND C.DURAND 
# TITRE ESSAI DE FLUAGE PROPRE (MODELE GRANGER_FP_INDT : INDEPDT TEMPER.)
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
# -----------------------------------------------------
# CYLINDRE AXISYMETRIQUE EN FLUAGE : FLUAGE DE GRANGER
# -----------------------------------------------------

DEBUT( CODE=_F( NOM = 'SSNV142A',NIV_PUB_WEB='INTERNET'))

PRE_GIBI()

M=LIRE_MAILLAGE( )

M=DEFI_GROUP( reuse=M,  MAILLAGE=M,
                     CREA_GROUP_NO=_F( GROUP_MA = 'D3')
                  )

MO=AFFE_MODELE( 
            MAILLAGE=M,
           AFFE=_F( TOUT = 'OUI',PHENOMENE = 'MECANIQUE',MODELISATION = 'AXIS')
           )
E=DEFI_CONSTANTE (VALE=  31000 )

NU=DEFI_CONSTANTE (VALE=  0.2 )

ALPHA =DEFI_CONSTANTE (VALE= 0.)

FONC1=DEFI_FONCTION( 
           NOM_PARA='SECH',PROL_DROITE='LINEAIRE',PROL_GAUCHE='LINEAIRE',
           VALE=(0.0, 0.0, 1.,  1.,)
           )

BETON=DEFI_MATERIAU( 
                ELAS_FO=_F( E = E, NU = NU, ALPHA = ALPHA,
                            TEMP_DEF_ALPHA = 20.0,
                            FONC_DESORP = FONC1),
                GRANGER_FP_INDT=_F( J1 = 0.2,
                            TAUX_1 = 4320000.,
                            J2 = 0.1,
                            TAUX_2 = 2160000.,)
                         )

CM=AFFE_MATERIAU( 
            MAILLAGE=M,   
            AFFE=_F( TOUT = 'OUI',
                     MATER = BETON, 
                     TEMP_REF = 20., 
                     SECH_REF = 1.) )

SECH=CREA_CHAMP( OPERATION='AFFE', TYPE_CHAM='NOEU_TEMP_R', MAILLAGE=M,
                        AFFE=_F( TOUT = 'OUI',
                              NOM_CMP = 'TEMP',
                              VALE = 1.)
                       )

TEMP=CREA_CHAMP( OPERATION='AFFE', TYPE_CHAM='NOEU_TEMP_R', MAILLAGE=M,
                         AFFE=_F( 
                               TOUT = 'OUI',
                               NOM_CMP = 'TEMP',
                               VALE = 20.)
                       )
TEMP1=CREA_RESU(  OPERATION='AFFE', TYPE_RESU='EVOL_THER',
                    NOM_CHAM='TEMP',AFFE=(
                     _F(  INST = 0.,   CHAM_GD = TEMP),
                                         )
                  )

SECH1=CREA_RESU(  OPERATION='AFFE', TYPE_RESU='EVOL_THER',
                    NOM_CHAM='TEMP',AFFE=(
                     _F(  INST = 0.,   CHAM_GD = SECH),
                                         )
                  )
FORCE=DEFI_FONCTION( 
           NOM_PARA='INST',PROL_DROITE='LINEAIRE',PROL_GAUCHE='LINEAIRE',
           VALE=(0.0, 0.0, 10., -20.,31536010., -20.,)
           )

CH1=AFFE_CHAR_MECA( 
            MODELE=MO,
           FACE_IMPO=_F( GROUP_MA = 'D1',

                       DY = 0.)
           )

CH2=AFFE_CHAR_MECA_F( 
            MODELE=MO,
           PRES_REP=_F(  GROUP_MA = 'D3',
                        PRES = FORCE)
                          )

CH3=AFFE_CHAR_MECA(
            MODELE=MO,
            TEMP_CALCULEE=TEMP1,
            SECH_CALCULEE=SECH1
                          )

L_INST=DEFI_LIST_REEL(  DEBUT=0.0,INTERVALLE=(
             _F( JUSQU_A = 10.0,       NOMBRE = 1),
             _F( JUSQU_A = 31536010.,     NOMBRE = 73))
           )

#DELTAT=432000=5J


U=STAT_NON_LINE(  MODELE=MO,
                  CHAM_MATER=CM,
                  EXCIT=( _F(CHARGE = CH1),
                          _F(CHARGE = CH2),
                          _F(CHARGE = CH3)),
                  COMP_INCR=_F(RELATION = 'GRANGER_FP_INDT'),
                  INCREMENT=_F(LIST_INST = L_INST,
                               NUME_INST_FIN = 74),
                  NEWTON=_F(MATRICE = 'TANGENTE',
                            REAC_ITER = 1),
                  CONVERGENCE=_F(RESI_GLOB_MAXI = 1.E-6,
                                 ITER_GLOB_MAXI = 25,
                                 ITER_INTE_MAXI = 1000)
              )

U=CALC_ELEM( reuse=U,
             OPTION=('SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
             RESULTAT=U,
              )

U=CALC_ELEM(reuse=U,   RESULTAT=U,
            OPTION='EPSI_ELNO_DEPL')

U=CALC_ELEM(reuse=U, RESULTAT=U,
            OPTION='EPGR_ELNO')

TEST_RESU(RESU=(

  _F( RESULTAT = U,NOM_CHAM = 'EPGR_ELNO',MAILLE = 'M3',NOEUD = 'N5',
NUME_ORDRE = 10,NOM_CMP = 'EPXX',VALE = -0.80862,PRECISION = 0.005),
  _F( RESULTAT = U,NOM_CHAM = 'EPGR_ELNO',MAILLE = 'M3',NOEUD = 'N5',
NUME_ORDRE = 10,NOM_CMP = 'EPYY',VALE = 4.04313,PRECISION = 0.005),
  _F( RESULTAT = U,NOM_CHAM = 'EPGR_ELNO',MAILLE = 'M3',NOEUD = 'N5',
NUME_ORDRE = 50,NOM_CMP = 'EPXX',VALE = -1.19402,PRECISION = 0.005),
  _F( RESULTAT = U,NOM_CHAM = 'EPGR_ELNO',MAILLE = 'M3',NOEUD = 'N5',
NUME_ORDRE = 50,NOM_CMP = 'EPYY',VALE = 5.97010,PRECISION = 0.005),
  _F( RESULTAT = U,NOM_CHAM = 'EPGR_ELNO',MAILLE = 'M3',NOEUD = 'N5',
NUME_ORDRE = 74,NOM_CMP = 'EPXX',VALE = -1.19946,PRECISION = 0.005),
  _F( RESULTAT = U,NOM_CHAM = 'EPGR_ELNO',MAILLE = 'M3',NOEUD = 'N5',
NUME_ORDRE = 74,NOM_CMP = 'EPYY',VALE = 5.99730,PRECISION = 0.005))
           )

FIN()
#
