# MODIF  DATE 29/05/2002   AUTEUR DURAND C.DURAND 
# TITRE CYLINDRE OBLIQUE SOUS CHARGE AXIALE UNIFORME
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
DEBUT( CODE=_F(  NOM = 'SSLV307A',NIV_PUB_WEB='INTERNET') )

MAIL=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='NON'),   )

#
# DEFINITION DES GROUPES DE NOEUDS
MAIL=DEFI_GROUP( reuse=MAIL,   MAILLAGE=MAIL,CREA_GROUP_NO=(
                       _F(  GROUP_MA = ('SECT0_1', 'SECT0_2',)),
                       _F(  GROUP_MA = ('LAB',   'LEF',
                                                   'LA2B2_1', 'LE2F2_1',
                                                   'LA2B2_2', 'LE2F2_2',
                                                   'LA3B3', 'LE3F3',)),
                       _F(  GROUP_MA = ('FACE_AB1', 'FACE_AB2',)),
                       _F(  GROUP_MA = ('FACE_EF1', 'FACE_EF2',)),

                       _F( NOM = 'GN1',
                                      OPTION = 'PLAN',
                                      NOEUD_CENTRE = 'N2',
                                  PRECISION = 0.01,
                                  VECT_NORMALE = (0.,-0.8660254,0.5,)),

                       _F( NOM = 'GN2',
                                      OPTION = 'PLAN',
                                      NOEUD_CENTRE = 'N1540',
                                  PRECISION = 0.01,
                                  VECT_NORMALE = (-1.,0.,0.,)))
                   )

# IMPR_CO (CO : MAIL) ;
#
# DEFINITION DU MODELE
MODELE=AFFE_MODELE(    MAILLAGE=MAIL,
                         AFFE=_F(  TOUT = 'OUI',
                       PHENOMENE = 'MECANIQUE',
                       MODELISATION = '3D')  )

#
# DEFINITION DU MATERIAU
ACIER=DEFI_MATERIAU(    ELAS=_F(  E = 2.1E11,  NU = 0.3,
                                 ALPHA = 1.E-5,  RHO = 7800.)
                      )

#
# ATTRIBUTION DU MATERIAU
CHMAT=AFFE_MATERIAU(    MAILLAGE=MAIL,
                          AFFE=_F(  TOUT = 'OUI',
                                 MATER = ACIER)  )

#
# DEFINITION DES CONDITIONS AUX LIMITES
CLIM=AFFE_CHAR_MECA(    MODELE=MODELE,LIAISON_OBLIQUE=(
# DEPLACEMENT AXIAL BLOQUE
                       _F( GROUP_NO = ('SECT0_1', 'SECT0_2',),
                                        DZ = 0.,
                                        ANGL_NAUT = (0.,  0., -30.,)),
#                     LIAISON_OBLIQUE : (GROUP_NO : (SECT0_1 SECT0_2)
#                                        DX: 0.
#                                        ANGL_NAUT : (0.  0. -30.) )
#                     LIAISON_OBLIQUE : (GROUP_NO : (SECT0_1 SECT0_2)
#                                        DY : 0.
#                                        ANGL_NAUT : (0.  0. -30.) )
# COND. DE SYM. SUR FACE AB : V=0
                       _F( GROUP_NO = ('FACE_AB1', 'FACE_AB2',),
                                        DY = 0.,
                                        ANGL_NAUT = (0.,  0., -30.,)),
# COND. DE SYM. SUR FACE EF : U=0
                       _F( GROUP_NO = ('FACE_EF1', 'FACE_EF2',),
                                        DX = 0.,
                                        ANGL_NAUT = (0.,  0., -30.,))),LIAISON_GROUP=(
# IDENTIFICATION DES SECTIONS COMMUNES AUX 2 ZONES
                            _F( GROUP_MA_1 = 'SECT2_1',
                                           GROUP_MA_2 = 'SECT2_3',
                                           DDL_1 = ('DX',),
                                           DDL_2 = ('DX',),
                                           COEF_MULT_1 = ( 1., ),
                                           COEF_MULT_2 = (-1., ),
                                           COEF_IMPO = 0.,
                          SANS_GROUP_NO = (
                                           'FACE_EF1', 'FACE_EF2', )),
                            _F( GROUP_MA_1 = 'SECT2_1',
                                           GROUP_MA_2 = 'SECT2_3',
                                           DDL_1 = ('DY',),
                                           DDL_2 = ('DY',),
                                           COEF_MULT_1 = ( 1., ),
                                           COEF_MULT_2 = (-1., ),
                                           COEF_IMPO = 0.,
                          SANS_GROUP_NO = ('FACE_AB1', 'FACE_AB2',
                                            )),
                            _F( GROUP_MA_1 = 'SECT2_1',
                                           GROUP_MA_2 = 'SECT2_3',
                                           DDL_1 = ('DZ',),
                                           DDL_2 = ('DZ',),
                                           COEF_MULT_1 = ( 1., ),
                                           COEF_MULT_2 = (-1., ),
                                           COEF_IMPO = 0.),
                            _F( GROUP_MA_1 = 'SECT2_2',
                                           GROUP_MA_2 = 'SECT2_4',
                                           DDL_1 = ('DX',),
                                           DDL_2 = ('DX',),
                                           COEF_MULT_1 = ( 1., ),
                                           COEF_MULT_2 = (-1., ),
                                           COEF_IMPO = 0.,
                          SANS_GROUP_NO = (
                                           'FACE_EF1', 'FACE_EF2', )),
                            _F( GROUP_MA_1 = 'SECT2_2',
                                           GROUP_MA_2 = 'SECT2_4',
                                           DDL_1 = ('DY',),
                                           DDL_2 = ('DY',),
                                           COEF_MULT_1 = ( 1., ),
                                           COEF_MULT_2 = (-1., ),
                                           COEF_IMPO = 0.,
                          SANS_GROUP_NO = ('FACE_AB1', 'FACE_AB2',
                                            )),
                            _F( GROUP_MA_1 = 'SECT2_2',
                                           GROUP_MA_2 = 'SECT2_4',
                                           DDL_1 = ('DZ',),
                                           DDL_2 = ('DZ',),
                                           COEF_MULT_1 = ( 1., ),
                                           COEF_MULT_2 = (-1., ),
                                           COEF_IMPO = 0.))
                        )

#
CHARGT=AFFE_CHAR_MECA(    MODELE=MODELE,
                            FORCE_FACE=_F(  GROUP_MA = ('SECT4_3', 'SECT4_4',),
                                         FX = 0.,
                                         FY = 250000.,
                                         FZ = 433013.)
#                .......... PRESSION = Q/H ...............
                        )

#
# RESOLUTION
DEF=MECA_STATIQUE(    MODELE=MODELE,
                        CHAM_MATER=CHMAT,
                           SOLVEUR=_F(  METHODE = 'LDLT'),EXCIT=(
                        _F(  CHARGE = CHARGT),
                              _F(  CHARGE = CLIM)),
                         INFO=2
                    )

#
# RECUPERATION DU CHAMP DE DEPLACEMENTS
U=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
NOM_CHAM='DEPL', RESULTAT=DEF,
                 NUME_ORDRE=1
                  )

#
# CALCUL DES CONTRAINTES
SIG=CALC_CHAM_ELEM(    MODELE=MODELE,
                         CHAM_MATER=CHMAT,
                         OPTION='SIGM_ELNO_DEPL',
                         DEPL=U )

TEST_RESU(CHAM_NO=(
# G
              _F(   CHAM_GD = U,
                         NOEUD = 'N1540',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU'),
              _F(   CHAM_GD = U,
                         NOEUD = 'N1540',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N1540',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# H
              _F(   CHAM_GD = U,
                         NOEUD = 'N962',
                         NOM_CMP = 'DX',
                         VALE = -7.143E-7,
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N962',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N962',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# H'
              _F(   CHAM_GD = U,
                         NOEUD = 'N3360',
                         NOM_CMP = 'DX',
                         VALE = -7.143E-7,
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N3360',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N3360',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# I
              _F(   CHAM_GD = U,
                         NOEUD = 'N3356',
                         NOM_CMP = 'DX',
                         VALE = -7.143E-7,
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N3356',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N3356',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# H1
              _F(   CHAM_GD = U,
                         NOEUD = 'N2121',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2121',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2121',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# H'1
              _F(   CHAM_GD = U,
                         NOEUD = 'N2156',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2156',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2156',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# I1
              _F(   CHAM_GD = U,
                         NOEUD = 'N2150',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2150',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2150',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# A2
              _F(   CHAM_GD = U,
                         NOEUD = 'N961',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N961',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N961',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# A'2
              _F(   CHAM_GD = U,
                         NOEUD = 'N3361',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N3361',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N3361',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# B2
              _F(   CHAM_GD = U,
                         NOEUD = 'N993',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N993',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N993',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# B'2
              _F(   CHAM_GD = U,
                         NOEUD = 'N3364',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N3364',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N3364',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# E2
              _F(   CHAM_GD = U,
                         NOEUD = 'N2141',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2141',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2141',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# E'2
              _F(   CHAM_GD = U,
                         NOEUD = 'N2159',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2159',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2159',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# F2
              _F(   CHAM_GD = U,
                         NOEUD = 'N2122',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2122',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2122',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
# F'2
              _F(   CHAM_GD = U,
                         NOEUD = 'N2155',
                         NOM_CMP = 'DX',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2155',
                         NOM_CMP = 'DY',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006),
              _F(   CHAM_GD = U,
                         NOEUD = 'N2155',
                         NOM_CMP = 'DZ',
                         VALE = 0.,
                         CRITERE = 'ABSOLU',
                         PRECISION = 0.006))

          )

#
T1=POST_RELEVE_T(    ACTION=_F( 
                                GROUP_NO = ('LAB',
                                             'LA2B2_1',
                                             'LA2B2_2',
                                             'LA3B3',
                                            ),
                                INTITULE = 'SIG',
                                CHAM_GD = SIG,
                                NOM_CMP = ('SIXX',  'SIYY', 'SIZZ',),
                                OPERATION = 'EXTRACTION')
                   )

#
TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N1'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N321'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N961'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N993'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N962'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N3361'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N3364'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N3360'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N3359'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N3355'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

TEST_TABLE(       TABLE=T1,
                  FILTRE=_F(  NOM_PARA = 'NOEUD',
                           VALE_K = 'N3356'),
                NOM_PARA='SIYY',
                    VALE=1.25E5            )

FIN()
#
