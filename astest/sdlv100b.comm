# MODIF  DATE 10/10/2012   AUTEUR COURTOIS M.COURTOIS 
# TITRE POUTRE DE SECTION RECTANGULAIRE VARIABLE (ENCASTREE-LIBRE)
# sdlv100b.para = tps_job 60 mem_job 512Mo ncpus 1 liste_test S
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#CAS_TEST__: SDLV100B
# SDLV100/B                 COMMANDES                           7/11/97
# POUTRE ELANCEE DE SECTION RECTANGULAIRE VARIABLE
# SECT RECT:  0.04*0.04==>0.01*0.01
# L= 1M -- ENCASTREE-LIBRE --                     REF: SFM.VPCS SDLL100
# MODELISATION MECA_HEXA20:  368 NOEUDS -- 30 MAILLES
#=======================================================================


DEBUT(CODE=_F(NOM='SDLV100B',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

MA=LIRE_MAILLAGE(FORMAT='MED', )

MO=AFFE_MODELE(  MAILLAGE=MA,
                  AFFE=_F(  TOUT = 'OUI',    PHENOMENE = 'MECANIQUE',
                         MODELISATION = '3D')  )

MAT=DEFI_MATERIAU( ELAS=_F(  E = 2.0E+11,  NU = 0.3,  RHO = 7800.) )

CHMAT=AFFE_MATERIAU(  MAILLAGE=MA,
                       AFFE=_F(  TOUT = 'OUI',    MATER = MAT) )

# PB PLAN + NOEUD 'A' ENCASTRE
CH=AFFE_CHAR_MECA(  MODELE=MO,DDL_IMPO=(
          _F(  TOUT = 'OUI',    DZ = 0.),
                   _F(  GROUP_NO = 'G_1',   DX = 0., DY = 0.)) )

MASSX1=POST_ELEM(    MODELE=MO,
                       CHAM_MATER=CHMAT,
                       MASS_INER=_F( TOUT = 'OUI')
                   )

#


TEST_TABLE(VALE_CALC=5.46,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='MASSE',
           TABLE=MASSX1,)

TEST_TABLE(VALE_CALC=0.32142799999999999,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='CDG_X',
           TABLE=MASSX1,)

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.0,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='CDG_Y',
           TABLE=MASSX1,)

TEST_TABLE(CRITERE='ABSOLU',
           VALE_CALC=0.0,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='CDG_Z',
           TABLE=MASSX1,)

TEST_TABLE(VALE_CALC=8.8659000000000003E-4,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='IX_G',
           TABLE=MASSX1,)

TEST_TABLE(VALE_CALC=0.32033600000000001,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='IY_G',
           TABLE=MASSX1,)

TEST_TABLE(VALE_CALC=0.32033600000000001,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='IZ_G',
           TABLE=MASSX1,)

TEST_TABLE(VALE_CALC=8.8659000000000003E-4,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='IX_PRIN_G',
           TABLE=MASSX1,)

TEST_TABLE(VALE_CALC=0.32033600000000001,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='IY_PRIN_G',
           TABLE=MASSX1,)

TEST_TABLE(VALE_CALC=0.32033600000000001,
           TOLE_MACHINE=1.E-3,
           NOM_PARA='IZ_PRIN_G',
           TABLE=MASSX1,)

# --------------------------------------------------------------------

MELR1=CALC_MATR_ELEM(  MODELE=MO,             CHARGE=CH,
                         CHAM_MATER=CHMAT,     OPTION='RIGI_MECA'
                        )

MELM1=CALC_MATR_ELEM(  MODELE=MO,             CHARGE=CH,
                         CHAM_MATER=CHMAT,     OPTION='MASS_MECA'
                        )

MELM2=CALC_MATR_ELEM(  MODELE=MO,             CHARGE=CH,
                         CHAM_MATER=CHMAT,     OPTION='MASS_MECA_DIAG'
                        )

NUM1=NUME_DDL(  MATR_RIGI=MELR1 )

MATASSR1=ASSE_MATRICE(MATR_ELEM=MELR1,NUME_DDL=NUM1)

MATASSM1=ASSE_MATRICE(MATR_ELEM=MELM1,NUME_DDL=NUM1)

MATASSM2=ASSE_MATRICE(MATR_ELEM=MELM2,NUME_DDL=NUM1)

# ------------------------------------------------------------------
#         *********   2 CALCULS  **********
# ------------------------------------------------------------------

# ---  CAS1 -------

MODE1=MODE_ITER_INV(  MATR_RIGI=MATASSR1,
                        MATR_MASS=MATASSM1,
                       CALC_FREQ=_F(  FREQ = ( 53.,    1500., )) )


# ---  CAS2 -------

MODE2=MODE_ITER_INV(  MATR_RIGI=MATASSR1,
                        MATR_MASS=MATASSM2,
                       CALC_FREQ=_F(  FREQ = ( 53.,    1500., )) )


# --------------------------------------------------------------------


TEST_RESU(RESU=(_F(NUME_ORDRE=1,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC=56.818396159,
                   VALE_REFE=56.840000000000003,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=2,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC=179.960046041,
                   VALE_REFE=180.0,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=3,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC=400.926450145,
                   VALE_REFE=401.0,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=4,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC=723.411707221,
                   VALE_REFE=723.20000000000005,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=5,
                   PARA='FREQ',
                   RESULTAT=MODE1,
                   VALE_CALC= 1.14641372E+03,
                   VALE_REFE=1145.4100000000001,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=1,
                   PARA='FREQ',
                   RESULTAT=MODE2,
                   VALE_CALC=56.755108966,
                   VALE_REFE=56.840000000000003,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=2,
                   PARA='FREQ',
                   RESULTAT=MODE2,
                   VALE_CALC=179.509940157,
                   VALE_REFE=180.0,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=3,
                   PARA='FREQ',
                   RESULTAT=MODE2,
                   VALE_CALC=399.246745839,
                   VALE_REFE=401.0,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=4,
                   PARA='FREQ',
                   RESULTAT=MODE2,
                   VALE_CALC=718.982260200,
                   VALE_REFE=723.20000000000005,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                _F(NUME_ORDRE=5,
                   PARA='FREQ',
                   RESULTAT=MODE2,
                   VALE_CALC= 1.13693103E+03,
                   VALE_REFE=1145.4100000000001,
                   REFERENCE='NON_DEFINI',
                   CRITERE='RELATIF',
                   PRECISION=1.E-2,),
                ),
          )

FIN()
#






