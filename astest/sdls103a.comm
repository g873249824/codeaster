# TITRE COQUES COAXIALES SOUS ECOULEMENT ANNULAIRE
# ======================================================================
# COPYRIGHT (C) 1991 - 2013  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
# CONFIGURATION COQUES INTERNE ET EXTERNE SOUPLES
#-------------------------------------------------
# person_in_charge: andre.adobes at edf.fr
#

DEBUT( CODE=_F( NOM = 'SDLS103A',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

#

BICOQUE=LIRE_MAILLAGE(FORMAT='MED',    UNITE=20 )

#

MODELE=AFFE_MODELE( 
               MAILLAGE=BICOQUE,
                   AFFE=_F(  TOUT = 'OUI',
                          PHENOMENE = 'MECANIQUE',
                          MODELISATION = 'DKT')
                      )

#

CARA=AFFE_CARA_ELEM( 
                  MODELE=MODELE,COQUE=(
                   _F(  GROUP_MA = ( 'MA_COQU1',  'MA_COQU2', ),
                           EPAIS = 1.E-2),
                   _F(  GROUP_MA = ( 'MA_COURO', ),
                           EPAIS = 1.E-1))
                       )

#

MATER1=DEFI_MATERIAU( 
                     ELAS=_F(  E = 2.E+11,
                            NU = 0.3,
                            RHO = 7800.)
                        )

#

MATER2=DEFI_MATERIAU( 
                     ELAS=_F(  E = 2.E+13,
                            NU = 0.3,
                            RHO = 780.)
                        )

#

CHMAT=AFFE_MATERIAU( 
                MAILLAGE=BICOQUE,AFFE=(
                    _F(  GROUP_MA = ( 'MA_COQU1',  'MA_COQU2', ),
                           MATER = MATER1),
                    _F(  GROUP_MA = ( 'MA_COURO', ),
                           MATER = MATER2))
                       )

#

CHARG=AFFE_CHAR_MECA( 
                   MODELE=MODELE,DDL_IMPO=(
                 _F(  GROUP_NO = ( 'NO_COURO', ),
                            DX = 0.,
                            DY = 0.,
                            DZ = 0.,
                            DRX = 0.,
                            DRY = 0.,
                            DRZ = 0.),
                 _F(  NOEUD = ( 'N100076','N200076', ),
                            DRX = 0.))
                        )

#

MELR=CALC_MATR_ELEM( 
                  MODELE=MODELE,
                  CHARGE=CHARG,
               CARA_ELEM=CARA,
              CHAM_MATER=CHMAT,
                  OPTION='RIGI_MECA'
                       )

#

MELM=CALC_MATR_ELEM( 
                  MODELE=MODELE,
                  CHARGE=CHARG,
               CARA_ELEM=CARA,
              CHAM_MATER=CHMAT,
                  OPTION='MASS_MECA'
                       )

#

NUM=NUME_DDL(   MATR_RIGI=MELR)

#

MATRR=ASSE_MATRICE( MATR_ELEM=MELR,   NUME_DDL=NUM)

#

MATRM=ASSE_MATRICE( MATR_ELEM=MELM,   NUME_DDL=NUM)

#

MODES=MODE_ITER_SIMULT( 
                     MATR_RIGI=MATRR,
                     MATR_MASS=MATRM, 
                  CALC_FREQ=_F( OPTION = 'PLUS_PETITE',
                             NMAX_FREQ = 12)
                          )


#

MODES=NORM_MODE( reuse=MODES,    MODE=MODES,
                        NORME='EUCL_TRAN' )

#

TYPEFLUI=DEFI_FLUI_STRU( 
                 COQUE_COAX=_F( 
                MASS_AJOU = 'OUI',
                GROUP_MA_INT = 'MA_COQU1',
                GROUP_MA_EXT = 'MA_COQU2',
                VECT_X = (0.,0.,1.,),
                CARA_ELEM = CARA,
                MATER_INT = MATER1,
                MATER_EXT = MATER1,
                RHO_FLUI = 1000.,
                VISC_CINE = 1.E-6,
                RUGOSITE = 1.E-5,
                PDC_MOY_1 = 0.5,
                PDC_DYN_1 = 0.,
                PDC_MOY_2 = 1.,
                PDC_DYN_2 = 0.),
                        INFO=2
                           )

#

MELASFLU=CALC_FLUI_STRU( 
                   VITE_FLUI=_F(  VITE_MIN = 0.,
                               VITE_MAX = 10.,
                               NB_POIN = 5),
                 BASE_MODALE=_F(  MODE_MECA = MODES,
                               AMOR_UNIF = 0.001),
              TYPE_FLUI_STRU=TYPEFLUI,
                  IMPRESSION=_F(  PARA_COUPLAGE = 'OUI',
                               DEFORMEE = 'NON')
                           )

#

F_FREQ1=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=1  )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=5.29595072444,
                        VALE_REFE=5.6474200000000003,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.075,
                        FONCTION=F_FREQ1,),
              )

#

F_FREQ2=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=2  )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=5.29630195528,
                        VALE_REFE=5.6484699999999997,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        TOLE_MACHINE=1.E-5,      # ajustement pour clap0f0q
                        PRECISION=0.075,
                        FONCTION=F_FREQ2,),
              )

#

F_FREQ3=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=3  )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=6.12090458841,
                        VALE_REFE=6.4795299999999996,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.075,
                        TOLE_MACHINE=1.E-4,      # ajustement pour clap0f0q
                        FONCTION=F_FREQ3,),
              )

#

F_FREQ4=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=4  )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=6.12114340928,
                        VALE_REFE=6.4799899999999999,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.075,
                        TOLE_MACHINE=1.E-3,      # ajustement pour clap0f0q
                        FONCTION=F_FREQ4,),
              )

#

F_FREQ5=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=5  )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=8.69268821338,
                        VALE_REFE=9.3430499999999999,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.075,
                        FONCTION=F_FREQ5,),
              )

#

F_FREQ6=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=6  )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=8.69285628879,
                        VALE_REFE=9.3439599999999992,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.075,
                        TOLE_MACHINE=1.E-4,      # ajustement pour clap0f0q
                        FONCTION=F_FREQ6,),
              )

#

F_FREQ7=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=7  )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=21.9585504982,
                        VALE_REFE=20.816700000000001,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.074999999999999997,
                        FONCTION=F_FREQ7,),
              )

#

F_FREQ8=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=8  )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=21.9593697422,
                        VALE_REFE=20.820599999999999,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.075,
                        TOLE_MACHINE=1.E-5,      # ajustement pour clap0f0q
                        FONCTION=F_FREQ8,),
              )

#

F_FREQ9=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=9  )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=29.3397080215,
                        VALE_REFE=28.223600000000001,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.074999999999999997,
                        FONCTION=F_FREQ9,),
              )

#

F_FREQ10=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=10 )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=29.3402437815,
                        VALE_REFE=28.226500000000001,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.074999999999999997,
                        FONCTION=F_FREQ10,),
              )

#

F_FREQ11=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=11 )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=33.7495099904,
                        VALE_REFE=31.475000000000001,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.074999999999999997,
                        FONCTION=F_FREQ11,),
              )

#

F_FREQ12=RECU_FONCTION( 
                 BASE_ELAS_FLUI=MELASFLU,
                         PARA_X='VITE_FLU',
                         PARA_Y='FREQ',
                     TOUT_ORDRE='OUI',
                      NUME_MODE=12 )

#

TEST_FONCTION(VALEUR=_F(VALE_CALC=33.7496889132,
                        VALE_REFE=31.4772,
                        VALE_PARA=0.0,
                        REFERENCE='AUTRE_ASTER',
                        PRECISION=0.075,
                        TOLE_MACHINE=1.E-4,      # ajustement pour clap0f0q
                        FONCTION=F_FREQ12,),
              )



FIN()
#
