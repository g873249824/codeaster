# MODIF  DATE 10/10/2012   AUTEUR COURTOIS M.COURTOIS 
# TITRE MELANGE 3D-PLAQUE-POUTRE
# sslx100c.para = tps_job 60 mem_job 256Mo ncpus 1 liste_test R
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================

DEBUT(CODE=_F(NOM='SSLX100C',
              NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

MA=LIRE_MAILLAGE();

MO=AFFE_MODELE(MAILLAGE=MA,
               AFFE=(_F(MAILLE='HE1',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='3D',),
                     _F(GROUP_MA='GRMA1',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='DKT',),
                     _F(GROUP_MA='GRMA2',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='COQUE_C_PLAN',),),);

MAT=DEFI_MATERIAU(ELAS=_F(E=200000.0,
                          NU=0.3,
                          ALPHA=0.0,),);

MATQ=DEFI_MATERIAU(ELAS=_F(E=600000.0,
                           NU=0.3,
                           ALPHA=0.0,),);

CHMA=AFFE_MATERIAU(MAILLAGE=MA,
                   AFFE=(_F(TOUT='OUI',
                            MATER=MAT,),
                         _F(MAILLE='S1',
                            MATER=MATQ,),),);

CARA=AFFE_CARA_ELEM(MODELE=MO,
                    COQUE=(_F(GROUP_MA='GRMA1',
                              EPAIS=1.0,),
                           _F(GROUP_MA='GRMA2',
                              EPAIS=1.0,),),);

CHME=AFFE_CHAR_MECA(MODELE=MO,
                    DDL_IMPO=(_F(GROUP_NO='GRNO1',
                                 DX=0.0,),
                              _F(NOEUD=('N10','N11','N26','N23',),
                                 DZ=0.0,),),
                    LIAISON_DDL=(_F(NOEUD=('N1','N7','N8','N9','N12','N13','N19','N20',),
                                    DDL=('DY','DY','DY','DY','DY','DY','DY','DY',),
                                    COEF_MULT=(1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,),
                                    COEF_IMPO=0.0,),
                                 _F(NOEUD=('N1','N7','N8','N9','N12','N13','N19','N20',),
                                    DDL=('DZ','DZ','DZ','DZ','DZ','DZ','DZ','DZ',),
                                    COEF_MULT=(1.0,1.0,1.0,1.0,1.0,1.0,1.0,1.0,),
                                    COEF_IMPO=0.0,),
                                 _F(NOEUD=('N1','N7','N8','N13','N19','N20',),
                                    DDL=('DY','DY','DY','DY','DY','DY',),
                                    COEF_MULT=(1.0,1.0,1.0,-1.0,-1.0,-1.0,),
                                    COEF_IMPO=0.0,),
                                 _F(NOEUD=('N22','N23',),
                                    DDL=('DRZ','DRZ',),
                                    COEF_MULT=(1.0,-1.0,),
                                    COEF_IMPO=0.0,),
                                 _F(NOEUD=('N23','N24',),
                                    DDL=('DRZ','DRZ',),
                                    COEF_MULT=(1.0,-1.0,),
                                    COEF_IMPO=0.0,),),
                    LIAISON_GROUP=(_F(NOEUD_1=('N4','N16',),
                                      NOEUD_2=('N21','N25',),
                                      DDL_1='DX',
                                      COEF_MULT_1=1.0,
                                      DDL_2='DX',
                                      COEF_MULT_2=-1.0,
                                      COEF_IMPO=0.0,),
                                   _F(NOEUD_1=('N4','N16',),
                                      NOEUD_2=('N21','N25',),
                                      DDL_1='DY',
                                      COEF_MULT_1=1.0,
                                      DDL_2='DY',
                                      COEF_MULT_2=-1.0,
                                      COEF_IMPO=0.0,),
                                   _F(NOEUD_1=('N4','N16',),
                                      NOEUD_2=('N21','N25',),
                                      DDL_1='DZ',
                                      COEF_MULT_1=1.0,
                                      DDL_2='DZ',
                                      COEF_MULT_2=-1.0,
                                      COEF_IMPO=0.0,),
                                   _F(NOEUD_1=('N5','N11','N17',),
                                      GROUP_NO_2='GRNO3',
                                      DDL_1='DX',
                                      COEF_MULT_1=1.0,
                                      DDL_2='DRZ',
                                      COEF_MULT_2=0.5,
                                      COEF_IMPO=0.0,),
                                   _F(NOEUD_1=('N3','N15','N10',),
                                      GROUP_NO_2='GRNO3',
                                      DDL_1='DX',
                                      COEF_MULT_1=1.0,
                                      DDL_2='DRZ',
                                      COEF_MULT_2=-0.5,
                                      COEF_IMPO=0.0,),),);

CHMEF=AFFE_CHAR_MECA(MODELE=MO,
                     FORCE_NODALE=_F(NOEUD='N29',
                                     FY=-1.0,),);

CHMEC=AFFE_CHAR_MECA(MODELE=MO,
                     DDL_IMPO=_F(NOEUD='N29',
                                 DRZ=0.0006,),);

DEPF=MECA_STATIQUE(MODELE=MO,
                   CHAM_MATER=CHMA,
                   CARA_ELEM=CARA,
                   EXCIT=(_F(CHARGE=CHME,),
                          _F(CHARGE=CHMEF,),),);

DEP1=CREA_CHAMP(TYPE_CHAM='NOEU_DEPL_R',
                OPERATION='EXTR',
                RESULTAT=DEPF,
                NOM_CHAM='DEPL',
                NUME_ORDRE=1,);

DEPC=MECA_STATIQUE(MODELE=MO,
                   CHAM_MATER=CHMA,
                   CARA_ELEM=CARA,
                   EXCIT=(_F(CHARGE=CHME,),
                          _F(CHARGE=CHMEC,),),);

DEP2=CREA_CHAMP(TYPE_CHAM='NOEU_DEPL_R',
                OPERATION='EXTR',
                RESULTAT=DEPC,
                NOM_CHAM='DEPL',
                NUME_ORDRE=1,);

TEST_RESU(CHAM_NO=(_F(NOEUD='N8',
                      CRITERE='ABSOLU',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=6.0000000000000002E-05,
                      CHAM_GD=DEP1,
                      VALE_CALC= 5.97444714E-05,
                      VALE_REFE=0.0,),
                   _F(NOEUD='N26',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=0.057000000000000002,
                      CHAM_GD=DEP1,
                      VALE_CALC=-0.025277808,
                      VALE_REFE=-0.026700000000000002,),
                   _F(NOEUD='N4',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=0.057000000000000002,
                      CHAM_GD=DEP1,
                      VALE_CALC=-0.025187670,
                      VALE_REFE=-0.026700000000000002,),
                   _F(NOEUD='N22',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=0.021499999999999998,
                      CHAM_GD=DEP1,
                      VALE_CALC=-0.091335584,
                      VALE_REFE=-0.093299999999999994,),
                   _F(NOEUD='N23',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=DEP1,
                      VALE_CALC=-0.091457605,
                      VALE_REFE=-0.093299999999999994,),
                   _F(NOEUD='N29',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=0.02,
                      CHAM_GD=DEP1,
                      VALE_CALC=-0.176811928,
                      VALE_REFE=-0.17999999999999999,),
                   ),
          )

TEST_RESU(CHAM_NO=(_F(NOEUD='N8',
                      CRITERE='ABSOLU',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=3.0000000000000001E-06,
                      CHAM_GD=DEP2,
                      VALE_CALC=-2.27861901E-06,
                      VALE_REFE=0.0,),
                   _F(NOEUD='N26',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=5.0000000000000001E-3,
                      CHAM_GD=DEP2,
                      VALE_CALC= 1.00432708E-03,
                      VALE_REFE=1.E-3,),
                   _F(NOEUD='N4',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=5.0000000000000001E-3,
                      CHAM_GD=DEP2,
                      VALE_CALC= 9.97572926E-04,
                      VALE_REFE=1.E-3,),
                   _F(NOEUD='N22',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=2.E-3,
                      CHAM_GD=DEP2,
                      VALE_CALC= 3.99740337E-03,
                      VALE_REFE=4.0000000000000001E-3,),
                   _F(NOEUD='N23',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=2.E-3,
                      CHAM_GD=DEP2,
                      VALE_CALC= 4.00417347E-03,
                      VALE_REFE=4.0000000000000001E-3,),
                   _F(NOEUD='N29',
                      REFERENCE='ANALYTIQUE',
                      NOM_CMP='DY',
                      PRECISION=1.E-3,
                      CHAM_GD=DEP2,
                      VALE_CALC= 9.00452995E-03,
                      VALE_REFE=8.9999999999999993E-3,),
                   ),
          )

DEPF=CALC_CHAMP(reuse =DEPF,
                RESULTAT=DEPF,
                NUME_ORDRE=1,
                GROUP_MA='GRMA2',
                CONTRAINTE=('EFGE_ELNO','SIGM_ELNO',),
                DEFORMATION=('EPSI_ELNO'),);

DEPFPOS=POST_CHAMP(RESULTAT=DEPF,
                   GROUP_MA='GRMA2',
                   NUME_ORDRE=1,
                   EXTR_COQUE=_F(NOM_CHAM=('SIGM_ELNO','EPSI_ELNO'),
                                 NUME_COUCHE=1,
                                 NIVE_COUCHE='SUP',),);

DEPC=CALC_CHAMP(reuse =DEPC,
               RESULTAT=DEPC,
               NUME_ORDRE=1,
               GROUP_MA='GRMA2',
               CONTRAINTE=('EFGE_ELNO','SIGM_ELNO',),
               DEFORMATION=('EPSI_ELNO'),);

DEPCPOS=POST_CHAMP(RESULTAT=DEPC,
                   GROUP_MA='GRMA2',
                   NUME_ORDRE=1,
                   EXTR_COQUE=_F(NOM_CHAM=('SIGM_ELNO','EPSI_ELNO'),
                                 NUME_COUCHE=1,
                                 NIVE_COUCHE='SUP',),);

TEST_RESU(RESU=(_F(NUME_ORDRE=1,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=DEPF,
                   NOM_CHAM='EFGE_ELNO',
                   NOEUD='N28',
                   NOM_CMP='MXX',
                   VALE_CALC=-5.000000000,
                   VALE_REFE=-5.0,
                   PRECISION=5.0000000000000001E-3,
                   MAILLE='S1',),
                _F(NUME_ORDRE=1,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=DEPFPOS,
                   NOM_CHAM='SIGM_ELNO',
                   NOEUD='N28',
                   NOM_CMP='SIXX',
                   VALE_CALC=-30.000000000,
                   VALE_REFE=-30.0,
                   PRECISION=5.0000000000000001E-3,
                   MAILLE='S1',),
                _F(NUME_ORDRE=1,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=DEPFPOS,
                   NOM_CHAM='EPSI_ELNO',
                   NOEUD='N28',
                   NOM_CMP='EPXX',
                   VALE_CALC=-5.00000000E-05,
                   VALE_REFE=-5.0000000000000002E-05,
                   PRECISION=5.0000000000000001E-3,
                   MAILLE='S1',),
                _F(NUME_ORDRE=1,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=DEPC,
                   NOM_CHAM='EFGE_ELNO',
                   NOEUD='N28',
                   NOM_CMP='MXX',
                   VALE_CALC=0.999643519,
                   VALE_REFE=1.0,
                   PRECISION=5.0000000000000001E-3,
                   MAILLE='S1',),
                _F(NUME_ORDRE=1,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=DEPCPOS,
                   NOM_CHAM='SIGM_ELNO',
                   NOEUD='N28',
                   NOM_CMP='SIXX',
                   VALE_CALC=5.997861116,
                   VALE_REFE=6.0,
                   PRECISION=5.0000000000000001E-3,
                   MAILLE='S1',),
                _F(NUME_ORDRE=1,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=DEPCPOS,
                   NOM_CHAM='EPSI_ELNO',
                   NOEUD='N28',
                   NOM_CMP='EPXX',
                   VALE_CALC= 9.99643519E-06,
                   VALE_REFE=1.0000000000000001E-05,
                   PRECISION=5.0000000000000001E-3,
                   MAILLE='S1',),
                ),
          )

FIN();
#
