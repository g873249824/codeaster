# MODIF  DATE 13/01/2011   AUTEUR PELLET J.PELLET 
# TITRE CYLINDRE SOUMIS A UNE PRESSION EN MODE 1 FOURIER (TRIA6)
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2011  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
# CAS TEST SSLV109A
# CYLINDRE EN FLEXION FOURIER MODE_FOURIER 1
#
# MODELISATION : ELEMENTS MECANIQUE AXIS_FOURIER (TRIA6)
# MAILLAGE     : ALIBABA ==> ASTER
#
# ----------------------------------------------------------------------
# GROUPES DE MAILLES:           PRES_REP : BOUT
# ----------------------------------------------------------------------
#

DEBUT(CODE=_F(NOM='SSLV109A', NIV_PUB_WEB='INTERNET'), DEBUG=_F(SDVERI='OUI'))

NUM_HARM=1

M=LIRE_MAILLAGE( )

MO=AFFE_MODELE(  MAILLAGE=M,
                         AFFE=_F(  TOUT = 'OUI',
                                PHENOMENE = 'MECANIQUE',
                                MODELISATION = 'AXIS_FOURIER',  ) )

MA=DEFI_MATERIAU( ELAS=_F(  E = 72.,   NU = 0.3,   RHO = 0.,  ) )

P=DEFI_FONCTION(      NOM_PARA='X',
           VALE=(0.,0., .5, .5, 1., 1.,) )

U0=DEFI_CONSTANTE(  VALE=0. )

CM=AFFE_MATERIAU(  MAILLAGE=M,
                           AFFE=_F(  TOUT = 'OUI',   MATER = MA,  ) )

BLOQU=AFFE_CHAR_MECA_F(       MODELE=MO,DDL_IMPO=(
               _F(  NOEUD = 'N1',           DX = U0,   DY = U0,    DZ = U0,   ),
                        _F(  NOEUD = 'N2',           DY = U0,   ),
                        _F(  NOEUD = 'N3',           DY = U0,   ))   )

CH=AFFE_CHAR_MECA_F(       MODELE=MO,
               PRES_REP=_F(  GROUP_MA = 'BOUT',       PRES = P,  )  )

FO_ELAS1=MACRO_ELAS_MULT(            MODELE=MO,
                                   CHAM_MATER=CM,
                             CHAR_MECA_GLOBAL=BLOQU,
                            CAS_CHARGE=_F(
                                 MODE_FOURIER = 1,

                                 TYPE_MODE = 'SYME',
                                 CHAR_MECA = CH,
                                 SOUS_TITRE = 'MODE FOURIER 1 SYME')
                          )

DEPLA=CREA_CHAMP( OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
                    RESULTAT=FO_ELAS1, NUME_MODE=1,
                    NOM_CHAM='DEPL' ),

T_ENER=POST_ELEM(  MODELE       = MO,
                   CHAM_MATER   = CM,
                   MODE_FOURIER = NUM_HARM,
                   CHAM_GD      = DEPLA,
                   ENER_POT     = _F(  TOUT = 'OUI',  )
                   )

TEST_TABLE(       TABLE=T_ENER,
                    FILTRE=_F(  NOM_PARA = 'LIEU',
                             VALE_K = 'M',          ),
                  NOM_PARA='TOTALE',
                      VALE=2.083333333E-02      )



# ----------------------------------------------------------------------
#                     OPERATEUR COMB_FOURIER
# ----------------------------------------------------------------------

FO_ELAS1=CALC_ELEM(reuse=FO_ELAS1,   RESULTAT=FO_ELAS1,
                         OPTION=( 'SIGM_ELNO_DEPL', 'SIEF_ELGA', ),
                       )

FO_ELAS1=CALC_NO(reuse=FO_ELAS1,   RESULTAT=FO_ELAS1,
                       OPTION='FORC_NODA',
                         )

FO_ELAS1=CALC_NO(reuse=FO_ELAS1,   RESULTAT=FO_ELAS1,
                       OPTION='REAC_NODA',
                         )

SIGMA=CREA_CHAMP( OPERATION='EXTR', TYPE_CHAM='ELNO_SIEF_R',
                    RESULTAT=FO_ELAS1, NUME_MODE=1,
                    NOM_CHAM='SIGM_ELNO_DEPL' ),

TEST_RESU(RESU=(
            _F(  RESULTAT = FO_ELAS1,       NUME_MODE = NUM_HARM,
              NOM_CHAM = 'REAC_NODA',
              NOEUD = 'N1',    NOM_CMP = 'DY',    VALE = -1.84682E-02,   ),
            _F(  RESULTAT = FO_ELAS1,       NUME_MODE = NUM_HARM,
              NOM_CHAM = 'REAC_NODA',
              NOEUD = 'N2',    NOM_CMP = 'DY',    VALE = 2.03706E-01,    ),
            _F(  RESULTAT = FO_ELAS1,       NUME_MODE = NUM_HARM,
              NOM_CHAM = 'REAC_NODA',
              NOEUD = 'N3',    NOM_CMP = 'DY',    VALE = 1.48146E-01,    ))
             )

TEST_RESU(RESU=(
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N3',    NOM_CMP = 'DX',    VALE = 2.083333333E-3,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
          CRITERE = 'ABSOLU', NOEUD = 'N3',    NOM_CMP = 'DY',    VALE = 0.,),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N3',    NOM_CMP = 'DZ',    VALE = -2.083333333E-3,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N7',    NOM_CMP = 'DX',    VALE = 0.25,              ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
          CRITERE = 'ABSOLU', NOEUD = 'N7',    NOM_CMP = 'DY',    VALE = 0.,),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N7',    NOM_CMP = 'DZ',    VALE = 0.25,              ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N8',    NOM_CMP = 'DX',    VALE = 0.250520833333,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N8',    NOM_CMP = 'DY',    VALE = -0.041666666666,   ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N8',    NOM_CMP = 'DZ',    VALE = 0.249479166666,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N9',    NOM_CMP = 'DX',    VALE = 0.252083333333,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N9',    NOM_CMP = 'DY',    VALE = -0.083333333333,   ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N9',    NOM_CMP = 'DZ',    VALE = 0.247916666666,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N13',   NOM_CMP = 'DX',    VALE = 1.,                ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
          CRITERE = 'ABSOLU', NOEUD = 'N13',   NOM_CMP = 'DY',    VALE = 0.,),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N13',   NOM_CMP = 'DZ',    VALE = 1.,                ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N15',   NOM_CMP = 'DX',    VALE = 1.0020833333333,   ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N15',   NOM_CMP = 'DY',    VALE = -0.1666666666666,  ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='DEPL',
            NOEUD = 'N15',   NOM_CMP = 'DZ',    VALE = 0.9977916666666,   ),) )

TEST_RESU(RESU=(
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
            MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIYY',   VALE = -1.,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
          CRITERE = 'ABSOLU', MAILLE = 'M2',   NOEUD = 'N7',    NOM_CMP = 'SIYY',
          VALE = 0.,     ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
          CRITERE = 'ABSOLU', MAILLE = 'M3',   NOEUD = 'N7',    NOM_CMP = 'SIYY',
          VALE = 0.,     ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
          CRITERE = 'ABSOLU', MAILLE = 'M4',   NOEUD = 'N7',    NOM_CMP = 'SIYY',
          VALE = 0.,     ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
            MAILLE = 'M2',   NOEUD = 'N8',    NOM_CMP = 'SIYY',   VALE = -0.5,   ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
            MAILLE = 'M3',   NOEUD = 'N8',    NOM_CMP = 'SIYY',   VALE = -0.5,   ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
            MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = -1.,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
            MAILLE = 'M2',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = -1.,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
            MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = -1.,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
          CRITERE = 'ABSOLU',   PRECISION = 2.E-3, MAILLE = 'M4',   NOEUD = 'N13',
          NOM_CMP = 'SIYY',   VALE = 0.,     ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
            MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIYY',   VALE = -1.,    ),
          _F(  RESULTAT = FO_ELAS1, NUME_MODE=1, NOM_CHAM='SIGM_ELNO_DEPL',
          PRECISION = 2.E-3,  MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIYY',
          VALE = -1.,    ))
          )


ANGL1=45.

ANGL2=135.

CO_FOUR1=COMB_FOURIER(   RESULTAT=FO_ELAS1,
                            NOM_CHAM=( 'DEPL',  'REAC_NODA',
                      'SIEF_ELGA', 'SIGM_ELNO_DEPL', ),
                                ANGL=( ANGL1,  ANGL2,  )
                        )

CO_FOUR1=CALC_ELEM(reuse =CO_FOUR1,
                   RESULTAT=CO_FOUR1,
                   OPTION=('EQUI_ELGA_SIGM','EQUI_ELNO_SIGM',),);

TEST_RESU(RESU=(
            _F(  RESULTAT = CO_FOUR1,
              NOM_CHAM = 'DEPL',    ANGL = ANGL1,
              NOEUD = 'N7',    NOM_CMP = 'DX',    VALE = 0.1767766,    ),
            _F(  RESULTAT = CO_FOUR1,
              NOM_CHAM = 'DEPL',    ANGL = ANGL1,     CRITERE = 'ABSOLU',
              NOEUD = 'N7',    NOM_CMP = 'DY',    VALE = 0.,           ),
            _F(  RESULTAT = CO_FOUR1,
              NOM_CHAM = 'DEPL',    ANGL = ANGL1,
              NOEUD = 'N7',    NOM_CMP = 'DZ',    VALE = -0.1767766,    ),
            _F(  RESULTAT = CO_FOUR1,
              NOM_CHAM = 'DEPL',    ANGL = ANGL1,
              NOEUD = 'N13',   NOM_CMP = 'DX',    VALE = 0.7071067,    ),
            _F(  RESULTAT = CO_FOUR1,
              NOM_CHAM = 'DEPL',    ANGL = ANGL1,     CRITERE = 'ABSOLU',
              NOEUD = 'N13',   NOM_CMP = 'DY',    VALE = 0.,           ),
            _F(  RESULTAT = CO_FOUR1,
              NOM_CHAM = 'DEPL',    ANGL = ANGL1,
              NOEUD = 'N13',   NOM_CMP = 'DZ',    VALE = -0.7071067,    ))
            )

TEST_RESU(RESU=(
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIYY',   VALE = -0.7071068,  ),
         _F(  RESULTAT = CO_FOUR1,      CRITERE = 'ABSOLU',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M2',   NOEUD = 'N7',    NOM_CMP = 'SIYY',   VALE = 0.,          ),
         _F(  RESULTAT = CO_FOUR1,      CRITERE = 'ABSOLU',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M3',   NOEUD = 'N7',    NOM_CMP = 'SIYY',   VALE = 0.,          ),
         _F(  RESULTAT = CO_FOUR1,      CRITERE = 'ABSOLU',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M4',   NOEUD = 'N7',    NOM_CMP = 'SIYY',   VALE = 0.,          ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M2',   NOEUD = 'N8',    NOM_CMP = 'SIYY',   VALE = -0.3535534,  ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M3',   NOEUD = 'N8',    NOM_CMP = 'SIYY',   VALE = -0.3535534,  ),
          _F(  RESULTAT = CO_FOUR1,
          NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = -0.7071068,  ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M2',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = -0.7071068,  ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = -0.7071068,  ),
         _F(  RESULTAT = CO_FOUR1,      CRITERE = 'ABSOLU',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
          MAILLE = 'M4',   NOEUD = 'N13',   NOM_CMP = 'SIYY',   VALE = 0.,         ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIYY',   VALE = -0.7071068,  ),
         _F(  RESULTAT = CO_FOUR1,      PRECISION = 2.E-3,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL1,
         MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIYY',   VALE = -0.7071068,  ),

         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIYY',   VALE = 0.7071068,   ),
         _F(  RESULTAT = CO_FOUR1,      CRITERE = 'ABSOLU',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M2',   NOEUD = 'N7',    NOM_CMP = 'SIYY',   VALE = 0.,          ),
         _F(  RESULTAT = CO_FOUR1,      CRITERE = 'ABSOLU',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M3',   NOEUD = 'N7',    NOM_CMP = 'SIYY',   VALE = 0.,          ),
         _F(  RESULTAT = CO_FOUR1,      CRITERE = 'ABSOLU',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M4',   NOEUD = 'N7',    NOM_CMP = 'SIYY',   VALE = 0.,          ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M2',   NOEUD = 'N8',    NOM_CMP = 'SIYY',   VALE = 0.3535534,   ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M3',   NOEUD = 'N8',    NOM_CMP = 'SIYY',   VALE = 0.3535534,   ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = 0.7071068,   ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M2',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = 0.7071068,   ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = 0.7071068,   ),
         _F(  RESULTAT = CO_FOUR1,      CRITERE = 'ABSOLU',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M4',   NOEUD = 'N13',   NOM_CMP = 'SIYY',   VALE = 0.,          ),
         _F(  RESULTAT = CO_FOUR1,
           NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIYY',   VALE = 0.7071068,   ),
      _F(  RESULTAT = CO_FOUR1,      PRECISION = 2.E-3,
        NOM_CHAM = 'SIGM_ELNO_DEPL',    ANGL = ANGL2,
         MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIYY',   VALE = 0.7071068,   ))
         )

TEST_RESU(RESU=(
         _F(  RESULTAT = CO_FOUR1,REFERENCE='NON_REGRESSION',
           NOM_CHAM = 'EQUI_ELNO_SIGM',    ANGL = ANGL1,
         MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'VMIS',   VALE = 0.707110,  ),
         _F(  RESULTAT = CO_FOUR1,REFERENCE='NON_REGRESSION',
           NOM_CHAM = 'EQUI_ELNO_SIGM',    ANGL = ANGL1,
          MAILLE = 'M1',   NOEUD = 'N6',    NOM_CMP = 'TRESCA',   VALE = 0.707110,  ),
           ))

# ----------------------------------------------------------------------
#                     COMBINAISON DE CHAMPS
# ----------------------------------------------------------------------
DEP45=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='NOEU_DEPL_R',
                   NOM_CHAM='DEPL', RESULTAT=CO_FOUR1,
                   ANGL=ANGL1    )


SIG45=CREA_CHAMP(OPERATION='EXTR',TYPE_CHAM='ELNO_SIEF_R',
                  RESULTAT=CO_FOUR1,ANGL=ANGL1,
                  NOM_CHAM='SIGM_ELNO_DEPL'),


DEP135=CREA_CHAMP(OPERATION='EXTR',TYPE_CHAM='NOEU_DEPL_R',
                  RESULTAT=CO_FOUR1,ANGL=ANGL2,
                  NOM_CHAM='DEPL'),

SIG135=CREA_CHAMP(OPERATION='EXTR',TYPE_CHAM='ELNO_SIEF_R',
                  RESULTAT=CO_FOUR1,ANGL=ANGL2,
                  NOM_CHAM='SIGM_ELNO_DEPL'),


DEPRZ = CREA_CHAMP(OPERATION='ASSE',MODELE=MO,TYPE_CHAM='NOEU_DEPL_R',
                   OPTION='DEPL',
                   ASSE=(_F( CHAM_GD=DEP45,TOUT='OUI',CUMUL='OUI',COEF_R=1.),
                         _F( CHAM_GD=DEP135,TOUT='OUI',CUMUL='OUI',COEF_R=1.),),)

TEST_RESU(CHAM_NO=(
           _F(  CHAM_GD = DEPRZ,    CRITERE = 'ABSOLU',
             NOEUD = 'N7',    NOM_CMP = 'DX',    VALE = 0.,    ),
           _F(  CHAM_GD = DEPRZ,    CRITERE = 'ABSOLU',
             NOEUD = 'N7',    NOM_CMP = 'DY',    VALE = 0.,    ),
           _F(  CHAM_GD = DEPRZ,    CRITERE = 'ABSOLU',
             NOEUD = 'N13',   NOM_CMP = 'DX',    VALE = 0.,    ),
           _F(  CHAM_GD = DEPRZ,    CRITERE = 'ABSOLU',
             NOEUD = 'N13',   NOM_CMP = 'DY',    VALE = 0.,    ))  )

DEPTH = CREA_CHAMP(OPERATION='ASSE',MODELE=MO,TYPE_CHAM='NOEU_DEPL_R',
                   OPTION='DEPL',
                   ASSE=(_F( CHAM_GD=DEP45,TOUT='OUI',CUMUL='OUI',COEF_R=1.),
                         _F( CHAM_GD=DEP135,TOUT='OUI',CUMUL='OUI',COEF_R=-1.),),)

TEST_RESU(CHAM_NO=(
           _F(  CHAM_GD = DEPTH,    CRITERE = 'ABSOLU',
             NOEUD = 'N7',    NOM_CMP = 'DZ',    VALE = 0.,    ),
           _F(  CHAM_GD = DEPTH,    CRITERE = 'ABSOLU',
             NOEUD = 'N13',   NOM_CMP = 'DZ',    VALE = 0.,    ))  )

SIGRZ = CREA_CHAMP(OPERATION='ASSE',MODELE=MO,TYPE_CHAM='ELNO_SIEF_R',
                   OPTION='SIGM_ELNO_DEPL',
                   ASSE=(_F( CHAM_GD=SIG45,TOUT='OUI',CUMUL='OUI',COEF_R=1.),
                         _F( CHAM_GD=SIG135,TOUT='OUI',CUMUL='OUI',COEF_R=1.),),)

TEST_RESU(CHAM_ELEM=(
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N7',    NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N7',    NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N7',    NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N8',    NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N8',    NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIXX',   VALE = 0.,    ),

          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N9',    NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N13',   NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIXX',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N7',    NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N7',    NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N7',    NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N8',    NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N8',    NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N13',   NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIYY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIYY',   VALE = 0.,    ),

          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N7',    NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N7',    NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N7',    NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N8',    NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N8',    NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N9',    NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N13',   NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIZZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIZZ',   VALE = 0.,    ),

          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N7',    NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N7',    NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N7',    NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N8',    NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N8',    NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N9',    NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N13',   NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIXY',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGRZ,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIXY',   VALE = 0.,    )) )

SIGTH = CREA_CHAMP(OPERATION='ASSE',MODELE=MO,TYPE_CHAM='ELNO_SIEF_R',
                   OPTION='SIGM_ELNO_DEPL',
                   ASSE=(_F( CHAM_GD=SIG45,TOUT='OUI',CUMUL='OUI',COEF_R=1.),
                         _F( CHAM_GD=SIG135,TOUT='OUI',CUMUL='OUI',COEF_R=-1.),),)

TEST_RESU(CHAM_ELEM=(
       _F(  CHAM_GD = SIGTH,
         MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIYY',   VALE = -1.4142135,  ),
       _F(  CHAM_GD = SIGTH,
         MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = -1.4142135,  ),
       _F(  CHAM_GD = SIGTH,
         MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIYY',   VALE = -1.4142135,  ),
       _F(  CHAM_GD = SIGTH,
         MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIYY',   VALE = -1.4142135,  ),
       _F(  CHAM_GD = SIGTH,     PRECISION = 2.E-3,
         MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIYY',   VALE = -1.4142135,  ),

          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N7',    NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N7',    NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N7',    NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N8',    NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N8',    NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N9',    NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N13',   NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIXZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIXZ',   VALE = 0.,    ),

          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N3',    NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N7',    NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N7',    NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N7',    NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N8',    NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N8',    NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M1',   NOEUD = 'N9',    NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M2',   NOEUD = 'N9',    NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N9',    NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N13',   NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M3',   NOEUD = 'N15',   NOM_CMP = 'SIYZ',   VALE = 0.,    ),
          _F(  CHAM_GD = SIGTH,    CRITERE = 'ABSOLU',
            MAILLE = 'M4',   NOEUD = 'N15',   NOM_CMP = 'SIYZ',   VALE = 0.,    )) )

FIN( )
#
