# MODIF  DATE 03/07/2007   AUTEUR SALMONA L.SALMONA 
# RESPONSABLE ADBHHPM P.MASSIN
# DATE   : 26/04/2000
# AUTEUR : F. LEBOUVIER (DELTACAD)
# TITRE  : POUTRE ENCASTREE SOUMISE A DES EFFORTS UNITAIRES
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#---------------------------------------------------------------------
#  - VERIFICATION SIMPLE DES CALCULS DE POUTRES DROITES EN MECANIQUE
#    DES STRUCTURES STATIQUES LINEAIRE
#  - MODELISATION AVEC DES ELEMENTS 'COQUE_C_PLAN'
#---------------------------------------------------------------------
#
DEBUT( CODE=_F( NOM = 'SSLL102H',NIV_PUB_WEB='INTERNET'))

#
#PRE_IDEAS ();
#
POUTMAIL=LIRE_MAILLAGE( )

#
POUTMODE=AFFE_MODELE(   MAILLAGE=POUTMAIL,
                              AFFE=_F( TOUT = 'OUI',
                                    PHENOMENE = 'MECANIQUE',
                                    MODELISATION = 'COQUE_C_PLAN')
                        )

#
#---------------------------------------------------------------------
#                       CARACTERISTIQUES ELEMENTAIRES
#---------------------------------------------------------------------
#
CARELEM=AFFE_CARA_ELEM(   MODELE=POUTMODE,
                             COQUE=_F( GROUP_MA = 'TOUT_ELT',
                                    EPAIS = 0.2)
                          )

#
#---------------------------------------------------------------------
#                       CARACTERISTIQUES MATERIAUX
#---------------------------------------------------------------------
#
#PUISQU'IL S'AGIT D'UNE MODELISATION DE TYPE 'COQUE_C_PLAN', LE MODULE
#D'YOUNG EST MULTIPLIE PAR LA LARGEUR QUI EST DE 0.1
#
POUTMATE=DEFI_MATERIAU(   ELAS=_F( E = 2.E+10,
                                  NU = 0.3)
                          )

#
POUTAF_M=AFFE_MATERIAU(   MAILLAGE=POUTMAIL,
                                AFFE=_F( TOUT = 'OUI',
                                      MATER = POUTMATE)
                          )

#
#---------------------------------------------------------------------
#                       CHARGEMENTS
#---------------------------------------------------------------------
#
COND_LIM=AFFE_CHAR_MECA(     MODELE=POUTMODE,
                             DDL_IMPO=_F( GROUP_NO = 'O',
                                       DX = 0., DY = 0., DRZ = 0.)
                           )

#
CHARGE1=AFFE_CHAR_MECA(         MODELE=POUTMODE,
                            FORCE_NODALE=_F( GROUP_NO = 'B',
                                          FX = 1.)
                          )

#
CHARGE2=AFFE_CHAR_MECA(         MODELE=POUTMODE,
                            FORCE_NODALE=_F( GROUP_NO = 'B',
                                          FY = 1.)
                          )

#
CHARGE3=AFFE_CHAR_MECA(         MODELE=POUTMODE,
                            FORCE_NODALE=_F( GROUP_NO = 'B',
                                          MZ = 1.)
                          )

#
#---------------------------------------------------------------------
#                       RESOLUTION
#---------------------------------------------------------------------
#
RESU=MACRO_ELAS_MULT(             MODELE=POUTMODE,
                                CHAM_MATER=POUTAF_M,
                                 CARA_ELEM=CARELEM,
                          CHAR_MECA_GLOBAL=COND_LIM,
                          CAS_CHARGE=(_F( NOM_CAS = 'CHARGE NUMERO 1',
                                          CHAR_MECA = CHARGE1,
                                          OPTION = 'DEGE_ELNO_DEPL'),
                                      _F( NOM_CAS = 'CHARGE NUMERO 2',
                                          CHAR_MECA = CHARGE2,
                                          OPTION = 'DEGE_ELNO_DEPL',
                                          NIVE_COUCHE = 'SUP',),
                                      _F( NOM_CAS = 'CHARGE NUMERO 3',
                                          CHAR_MECA = CHARGE3,
                                          OPTION = 'DEGE_ELNO_DEPL'),),
                        )

#
RESU=CALC_ELEM( reuse=RESU,       MODELE=POUTMODE,
                      CHAM_MATER=POUTAF_M,
                       CARA_ELEM=CARELEM,
                     REPE_COQUE=_F(NIVE_COUCHE='SUP',),
                          OPTION=('EFGE_ELNO_DEPL',
                                  'SIGM_ELNO_DEPL',
                                  ),
                        RESULTAT=RESU
                   )

#
#---------------------------------------------------------------------
#                       VERIFICATION DES RESULTATS
#---------------------------------------------------------------------
#
TEST_RESU(RESU=(
     _F( RESULTAT = RESU,                NOM_CAS = 'CHARGE NUMERO 1',
           NOM_CHAM = 'DEPL',              GROUP_NO = 'B',
           NOM_CMP = 'DX',                VALE = 5.E-10,
           PRECISION = 0.01),

     _F( RESULTAT = RESU,                NOM_CAS = 'CHARGE NUMERO 1',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    MAILLE = 'MA1', 
           GROUP_NO = 'O',
           NOM_CMP = 'SIXX',              VALE = 5.,
           PRECISION = 0.01),

     _F( RESULTAT = RESU,                NOM_CAS = 'CHARGE NUMERO 2',
           NOM_CHAM = 'DEPL',              GROUP_NO = 'B',
           NOM_CMP = 'DY',                VALE = 2.E-07,
           PRECISION = 0.01),

     _F( RESULTAT = RESU,                NOM_CAS = 'CHARGE NUMERO 2',
           NOM_CHAM = 'DEPL',              GROUP_NO = 'B',
           NOM_CMP = 'DRZ',               VALE = 1.5E-07,
           PRECISION = 0.01),

     _F( RESULTAT = RESU,                NOM_CAS = 'CHARGE NUMERO 2',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    MAILLE = 'MA1',  
           GROUP_NO = 'O',
           NOM_CMP = 'SIXX',              VALE = 300.,
           PRECISION = 0.036),

     _F( RESULTAT = RESU,                NOM_CAS = 'CHARGE NUMERO 3',
           NOM_CHAM = 'DEPL',              GROUP_NO = 'B',
           NOM_CMP = 'DY',                VALE = 1.5E-07,
           PRECISION = 0.01),

     _F( RESULTAT = RESU,                NOM_CAS = 'CHARGE NUMERO 3',
           NOM_CHAM = 'DEPL',              GROUP_NO = 'B',
           NOM_CMP = 'DRZ',               VALE = 1.5E-07,
           PRECISION = 0.01),

     _F( RESULTAT = RESU,                NOM_CAS = 'CHARGE NUMERO 3',
           NOM_CHAM = 'SIGM_ELNO_DEPL',    MAILLE = 'MA1', 
           GROUP_NO = 'O',
           NOM_CMP = 'SIXX',              VALE = 150.,
           PRECISION = 0.01))
           )

#
FIN()
# 
# 
