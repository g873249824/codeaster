# MODIF  DATE 09/05/2007   AUTEUR PELLET J.PELLET 
# TITRE REPONSE HARMONIQUE CYLINDRE EN D.P. (TRIA6 QUAD8) AXISYM
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#CAS_TEST__: SHLV100I
# ----------------------------------------------------------------------
# SHLV100 I               COMMANDES                            23/05/91
# CYLINDRE SOUS PRESSION INTERNE HARMONIQUE AVEC EXTREMITES BLOQUEES
# SOLUTION ANALYTIQUE EN DEFORMATIONS PLANES
#
#         ..                      JWT                JWT
# K X + M X   = P    AVEC  P = P E        ET  X = X E
#       2
# (K - W M) X = P    AVEC  W = 0.2 RD/S   ET  P = 1 MPA
#
# MODELISATION : ELEMENTS MECANIQUE AXIS (TRIA6+QUAD8)
# MAILLAGE     : ALIBABA ==> ASTER
#
# ----------------------------------------------------------------------
# GROUPES DE NOEUDS ET MAILLES:
# A=GRNO1  B=GRNO2  C=GRNO3  D=GRNO4  E=GRNO5  F=GRNO6
# NOEUDS(AB)=GRNM11          SEG(EF)=GRMA12    SEG(AE)=GRMA13
# ----------------------------------------------------------------------
#

DEBUT(CODE=_F(  NOM = 'SHLV100I',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

M=LIRE_MAILLAGE(   )

MO=AFFE_MODELE(        MAILLAGE=M,
                                AFFE=_F(  TOUT = 'OUI',
                                       PHENOMENE = 'MECANIQUE',
                                       MODELISATION = 'AXIS'))

F0=DEFI_CONSTANTE(     VALE=0. )

MA=DEFI_MATERIAU(          ELAS=_F(  E = 26.,
                                       NU = 0.3,
                                       RHO = 35.,
                                       ALPHA = 0.))

CM=AFFE_MATERIAU(      MAILLAGE=M,
                                AFFE=_F(  TOUT = 'OUI',
                                       MATER = MA))

CH1=AFFE_CHAR_MECA(       MODELE=MO,
                            DDL_IMPO=_F(  GROUP_NO = 'GRNM11',  DY = 0.),
                            PRES_REP=_F(  GROUP_MA = 'GRMA13',  PRES = 1.))

CH2=AFFE_CHAR_MECA_F(       MODELE=MO,
                            FACE_IMPO=_F(  GROUP_MA = 'GRMA12',  DY = F0))

KE=CALC_MATR_ELEM(       MODELE=MO,
                              CHARGE=(CH1, CH2,),
                          CHAM_MATER=CM,
                              OPTION='RIGI_MECA'                      )

ME=CALC_MATR_ELEM(       MODELE=MO,
                              CHARGE=(CH1, CH2,),
                          CHAM_MATER=CM,
                              OPTION='MASS_MECA'                      )

VE=CALC_VECT_ELEM(       CHARGE=(CH1, CH2,),
                          CHAM_MATER=CM,
                              OPTION='CHAR_MECA'                      )

NU=NUME_DDL(          MATR_RIGI=KE                               )

KAS=ASSE_MATRICE(      MATR_ELEM=KE,
                            NUME_DDL=NU                               )

MAS=ASSE_MATRICE(      MATR_ELEM=ME,
                             NUME_DDL=NU                  )

VAS=ASSE_VECTEUR(      VECT_ELEM=VE,
                            NUME_DDL=NU                               )

KHA=COMB_MATR_ASSE( COMB_R=(      _F(  MATR_ASSE = KAS, COEF_R = 1.),
                              _F(  MATR_ASSE = MAS, COEF_R = -.04)))

KHA=FACT_LDLT(      reuse=KHA,   MATR_ASSE=KHA                              )

DEPLA=RESO_LDLT(         MATR_FACT=KHA,
                             CHAM_NO=VAS                              )

DEP=CREA_RESU(OPERATION='AFFE',
              TYPE_RESU='EVOL_ELAS',
              NOM_CHAM='DEPL',
              AFFE=_F(CHAM_GD=DEPLA,
                      INST=0.,
                      ),
                );


DEP=CALC_ELEM(reuse=DEP, RESULTAT=DEP,
              MODELE=MO,
              OPTION='SIGM_ELNO_DEPL',
              INST=0.,
              CHAM_MATER=CM                               )

#--------------------------------------------------------------------
RELEVE_1=POST_RELEVE_T(
        ACTION=_F(  INTITULE = 'EXT_SIGM',
                 NOEUD = ('N8', 'N174', 'N5', 'N170', 'N3', 'N159',),
                 RESULTAT = DEP,
                 INST=0.,
                 NOM_CHAM='SIGM_ELNO_DEPL',
                 NOM_CMP = ('SIXX', 'SIYY', 'SIZZ', 'SIXY',),
                 OPERATION = 'EXTRACTION') )

#--------------------------------------------------------------------


TEST_RESU(CHAM_NO=(
   # DEPLACEMENTS

            _F(  CHAM_GD = DEPLA,    CRITERE = 'RELATIF',  PRECISION = 1.E-2,
           GROUP_NO = 'A',        NOM_CMP = 'DX',           VALE = 7.3398E-3),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'ABSOLU',   PRECISION = 1.E-10,
           GROUP_NO = 'A',        NOM_CMP = 'DY',           VALE = 0.),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'RELATIF',  PRECISION = 1.E-2,
           GROUP_NO = 'B',        NOM_CMP = 'DX',           VALE = 4.6716E-3),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
           GROUP_NO = 'B',        NOM_CMP = 'DY',           VALE = 0.),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'RELATIF',  PRECISION = 1.E-2,
           GROUP_NO = 'C',        NOM_CMP = 'DX',           VALE = 7.3398E-3),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'ABSOLU',   PRECISION = 1.E-10,
           GROUP_NO = 'C',        NOM_CMP = 'DY',           VALE = 0.),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'RELATIF',  PRECISION = 1.E-2,
           GROUP_NO = 'D',        NOM_CMP = 'DX',           VALE = 4.6716E-3),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
           GROUP_NO = 'D',        NOM_CMP = 'DY',           VALE = 0.),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'RELATIF',  PRECISION = 1.E-2,
           GROUP_NO = 'E',        NOM_CMP = 'DX',           VALE = 7.3398E-3),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'ABSOLU',   PRECISION = 1.E-10,
           GROUP_NO = 'E',        NOM_CMP = 'DY',           VALE = 0.),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'RELATIF',  PRECISION = 1.E-2,
           GROUP_NO = 'F',        NOM_CMP = 'DX',           VALE = 4.6716E-3),
            _F(  CHAM_GD = DEPLA,    CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
           GROUP_NO = 'F',        NOM_CMP = 'DY',           VALE = 0.)),RESU=(


   # CONTRAINTES


            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M2',     GROUP_NO = 'A',        NOM_CMP = 'SIXX',         VALE = -1.),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M2',     GROUP_NO = 'A',        NOM_CMP = 'SIYY',         VALE = 0.20055),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M2',     GROUP_NO = 'A',        NOM_CMP = 'SIZZ',         VALE = 1.6685),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
MAILLE = 'M2',     GROUP_NO = 'A',        NOM_CMP = 'SIXY',         VALE = 0.),
#
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
MAILLE = 'M59',     GROUP_NO = 'B',        NOM_CMP = 'SIXX',        VALE = 0.),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M59',     GROUP_NO = 'B',        NOM_CMP = 'SIYY',        VALE = 0.20021),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M59',     GROUP_NO = 'B',        NOM_CMP = 'SIZZ',        VALE = 0.66738),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
MAILLE = 'M59',     GROUP_NO = 'B',        NOM_CMP = 'SIXY',        VALE = 0.),
#
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M1',     GROUP_NO = 'C',        NOM_CMP = 'SIXX',         VALE = -1.),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M1',     GROUP_NO = 'C',        NOM_CMP = 'SIYY',         VALE = 0.20055),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M1',     GROUP_NO = 'C',        NOM_CMP = 'SIZZ',         VALE = 1.6685),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
MAILLE = 'M1',     GROUP_NO = 'C',        NOM_CMP = 'SIXY',         VALE = 0.),
#
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
MAILLE = 'M55',     GROUP_NO = 'D',        NOM_CMP = 'SIXX',        VALE = 0.),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M55',     GROUP_NO = 'D',        NOM_CMP = 'SIYY',        VALE = 0.20021),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M55',     GROUP_NO = 'D',        NOM_CMP = 'SIZZ',        VALE = 0.66738),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
MAILLE = 'M55',     GROUP_NO = 'D',        NOM_CMP = 'SIXY',        VALE = 0.),
#
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M1',     GROUP_NO = 'E',        NOM_CMP = 'SIXX',         VALE = -1.),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M1',     GROUP_NO = 'E',        NOM_CMP = 'SIYY',        VALE = 0.20055),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M1',     GROUP_NO = 'E',        NOM_CMP = 'SIZZ',         VALE = 1.6685),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
MAILLE = 'M1',     GROUP_NO = 'E',        NOM_CMP = 'SIXY',         VALE = 0.),
#
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
MAILLE = 'M56',     GROUP_NO = 'F',        NOM_CMP = 'SIXX',        VALE = 0.),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M56',     GROUP_NO = 'F',        NOM_CMP = 'SIYY',        VALE = 0.20021),
            _F(  RESULTAT = DEP, INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'RELATIF',  PRECISION = 1.E-2,
MAILLE = 'M56',     GROUP_NO = 'F',        NOM_CMP = 'SIZZ',        VALE = 0.66738),
            _F(  RESULTAT = DEP , INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            CRITERE = 'ABSOLU',   PRECISION = 1.E-2,
MAILLE = 'M56',     GROUP_NO = 'F',        NOM_CMP = 'SIXY',        VALE = 0.))
#

            )

FIN()
#
