# MODIF  DATE 10/10/2012   AUTEUR COURTOIS M.COURTOIS 
# TITRE ESSAI DE THERMOPLASTICITE (MISES ECR. ISOT. BARRE)
# ssnl112a.para = tps_job 60 mem_job 512Mo ncpus 1 liste_test R
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================

DEBUT(CODE=_F(NOM='SSNL112A',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

#

MAIL=LIRE_MAILLAGE();

MAIL=DEFI_GROUP(reuse =MAIL,
                MAILLAGE=MAIL,
                CREA_GROUP_MA=_F(NOM='TOUT',
                                 TOUT='OUI',),);

#

MOD=AFFE_MODELE(MAILLAGE=MAIL,
                AFFE=_F(TOUT='OUI',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='BARRE',),);

#

MATER=DEFI_MATERIAU(ELAS=_F(E=2.E11,
                            NU=0.3,
                            RHO=1.,
                            ALPHA=1.E-5,),
                    ECRO_LINE=_F(D_SIGM_EPSI=2.E9,
                                 SY=2.E8,),);

#

TABCAR=LIRE_TABLE(UNITE=38,FORMAT='LIBRE')

CARBA=AFFE_CARA_ELEM(MODELE=MOD,
                     BARRE=_F(GROUP_MA='TOUT',
                              SECTION='GENERALE',
                              TABLE_CARA=TABCAR,
                              NOM_SEC='SEC_1',
                              #CARA='A',
                              #VALE=5.E-4,
                              ),);

#

F1_T=DEFI_FONCTION(NOM_PARA='INST',VALE=(0.0,50.0,
                         1.0,-50.0,
                         2.0,-300.0,
                         3.0,-100.0,
                         4.0,50.0,
                         5.0,-150.0,
                         6.0,-350.0,
                         7.0,-200.0,
                         ),PROL_DROITE='EXCLU',PROL_GAUCHE='EXCLU',);

#

LINST=DEFI_LIST_REEL(DEBUT=0.,
                     INTERVALLE=(_F(JUSQU_A=1.,
                                    NOMBRE=1,),
                                 _F(JUSQU_A=2.,
                                    NOMBRE=1,),
                                 _F(JUSQU_A=3.,
                                    NOMBRE=1,),
                                 _F(JUSQU_A=4.,
                                    NOMBRE=1,),
                                 _F(JUSQU_A=5.,
                                    NOMBRE=1,),
                                 _F(JUSQU_A=6.,
                                    NOMBRE=1,),
                                 _F(JUSQU_A=7.,
                                    NOMBRE=1,),),);

#

TEMPIMPO=CREA_CHAMP(TYPE_CHAM='NOEU_TEMP_F',
                    OPERATION='AFFE',
                    MAILLAGE=MAIL,
                    AFFE=_F(GROUP_NO='BARRE',
                            NOM_CMP='TEMP',
                            VALE_F=F1_T,),);

#

TEMPRESU=CREA_RESU(OPERATION='AFFE',
                   TYPE_RESU='EVOL_THER',
                   NOM_CHAM='TEMP',
                   AFFE=_F(CHAM_GD=TEMPIMPO,
                           INST=(0.,1.,2.,3.,4.,5.,6.,7.,),),);

LIAISON=AFFE_CHAR_MECA(MODELE=MOD,
                       DDL_IMPO=_F(TOUT='OUI',
                                   DX=0.,
                                   DY=0.,
                                   DZ=0.,),);

#

CHMTM=AFFE_MATERIAU(MAILLAGE=MAIL,
                    AFFE=_F(TOUT='OUI',
                            MATER=MATER,),
                    AFFE_VARC=_F(TOUT='OUI',
                                 NOM_VARC='TEMP',
                                 EVOL=TEMPRESU,
                                 NOM_CHAM='TEMP',
                                 VALE_REF=50.0,),);

#

UELAS=MECA_STATIQUE(MODELE=MOD,
                    CHAM_MATER=CHMTM,
                    CARA_ELEM=CARBA,
                    EXCIT=_F(CHARGE=LIAISON,),
                    LIST_INST=LINST,);

U=STAT_NON_LINE(MODELE=MOD,
                CHAM_MATER=CHMTM,
                CARA_ELEM=CARBA,
                EXCIT=_F(CHARGE=LIAISON,),
                COMP_INCR=_F(RELATION='VMIS_ISOT_LINE',),
                INCREMENT=_F(LIST_INST=LINST,
                             NUME_INST_INIT=0,
                             NUME_INST_FIN=7,),
                NEWTON=_F(REAC_INCR=1,
                          MATRICE='ELASTIQUE',
                          REAC_ITER=1,),
                RECH_LINEAIRE=_F(ITER_LINE_MAXI=8,),
                CONVERGENCE=_F(RESI_GLOB_MAXI=1.0E-04,
                               ITER_GLOB_MAXI=40,),);

U=CALC_CHAMP(reuse=U,RESULTAT=U,CONTRAINTE=('SIEF_ELNO'))


U=CALC_CHAMP(reuse =U,
          RESULTAT=U,
          FORCE='FORC_NODA',);

MASS=POST_ELEM(MASS_INER=_F(TOUT='OUI',),
               MODELE=MOD,
               CHAM_MATER=CHMTM,
               CARA_ELEM=CARBA,);

TEST_TABLE(REFERENCE='ANALYTIQUE',
           VALE_CALC= 5.00000000E-04,
           VALE_REFE=5.0000000000000001E-4,
           NOM_PARA='MASSE',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='CDG_X',
           TABLE=MASS,)

TEST_TABLE(REFERENCE='ANALYTIQUE',
           VALE_CALC=0.500000000,
           VALE_REFE=0.5,
           NOM_PARA='CDG_Y',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='CDG_Z',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='IX_G',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='IY_G',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='IZ_G',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='IXY_G',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='IXZ_G',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='IYZ_G',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='IX_PRIN_G',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='IY_PRIN_G',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='IZ_PRIN_G',
           TABLE=MASS,)

TEST_TABLE(CRITERE='ABSOLU',
           REFERENCE='ANALYTIQUE',
           VALE_CALC= 0.00000000E+00,
           VALE_REFE=0.0,
           NOM_PARA='ALPHA',
           TABLE=MASS,)

SIGY_T=RECU_FONCTION(RESULTAT=U,
                     TOUT_INST='OUI',
                     NOM_CHAM='SIEF_ELNO',
                     NOM_CMP='N',
                     MAILLE='M1',
                     NOEUD='N1',
                     NOM_PARA='INST',
                     NOM_RESU='SIGY_T',
                     INTERPOL='LIN',
                     PROL_GAUCHE='LINEAIRE',);

#

TEMP_T=RECU_FONCTION(RESULTAT=TEMPRESU,
                     TOUT_INST='OUI',
                     NOM_CHAM='TEMP',
                     NOM_CMP='TEMP',
                     MAILLE='M1',
                     NOEUD='N1',
                     NOM_PARA='INST',
                     NOM_RESU='TEMP_T',
                     INTERPOL='LIN',);

TEST_RESU(RESU=(_F(INST=1.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='SIEF_ELNO',
                   NOEUD='N1',
                   NOM_CMP='N',
                   VALE_CALC= 1.00000000E+05,
                   VALE_REFE=1.E5,
                   PRECISION=1.E-3,
                   MAILLE='M1',),
                _F(INST=2.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='SIEF_ELNO',
                   NOEUD='N1',
                   NOM_CMP='N',
                   VALE_CALC= 1.02500000E+05,
                   VALE_REFE=1.02500E5,
                   PRECISION=1.E-3,
                   MAILLE='M1',),
                _F(INST=3.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='SIEF_ELNO',
                   NOEUD='N1',
                   NOM_CMP='N',
                   VALE_CALC=-9.75000000E+04,
                   VALE_REFE=-9.7500E4,
                   PRECISION=1.E-3,
                   MAILLE='M1',),
                _F(INST=4.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='SIEF_ELNO',
                   NOEUD='N1',
                   NOM_CMP='N',
                   VALE_CALC=-1.03950000E+05,
                   VALE_REFE=-1.03950E5,
                   PRECISION=1.E-3,
                   MAILLE='M1',),
                _F(INST=5.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='SIEF_ELNO',
                   NOEUD='N1',
                   NOM_CMP='N',
                   VALE_CALC= 9.60500000E+04,
                   VALE_REFE=9.6050E4,
                   PRECISION=1.E-3,
                   MAILLE='M1',),
                _F(INST=6.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='SIEF_ELNO',
                   NOEUD='N1',
                   NOM_CMP='N',
                   VALE_CALC= 1.05871000E+05,
                   VALE_REFE=1.05871E5,
                   PRECISION=1.E-3,
                   MAILLE='M1',),
                _F(INST=7.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='SIEF_ELNO',
                   NOEUD='N1',
                   NOM_CMP='N',
                   VALE_CALC=-4.41290000E+04,
                   VALE_REFE=-4.4129E4,
                   PRECISION=1.E-3,
                   MAILLE='M1',),
                ),
          )

TEST_RESU(RESU=(_F(INST=1.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='FORC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DY',
                   VALE_CALC= 1.00000000E+05,
                   VALE_REFE=1.E5,
                   PRECISION=1.E-3,),
                _F(INST=2.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='FORC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DY',
                   VALE_CALC= 1.02500000E+05,
                   VALE_REFE=1.02500E5,
                   PRECISION=1.E-3,),
                _F(INST=3.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='FORC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DY',
                   VALE_CALC=-9.75000000E+04,
                   VALE_REFE=-9.7500E4,
                   PRECISION=1.E-3,),
                _F(INST=4.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='FORC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DY',
                   VALE_CALC=-1.03950000E+05,
                   VALE_REFE=-1.03950E5,
                   PRECISION=1.E-3,),
                _F(INST=5.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='FORC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DY',
                   VALE_CALC= 9.60500000E+04,
                   VALE_REFE=9.6050E4,
                   PRECISION=1.E-3,),
                _F(INST=6.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='FORC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DY',
                   VALE_CALC= 1.05871000E+05,
                   VALE_REFE=1.05871E5,
                   PRECISION=1.E-3,),
                _F(INST=7.0,
                   REFERENCE='ANALYTIQUE',
                   RESULTAT=U,
                   NOM_CHAM='FORC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DY',
                   VALE_CALC=-4.41290000E+04,
                   VALE_REFE=-4.4129E4,
                   PRECISION=1.E-3,),
                ),
          )

FIN();
