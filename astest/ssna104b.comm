# MODIF  DATE 17/02/2009   AUTEUR SELLENET N.SELLENET 
# TITRE CYLINDRE CREUX VISCOPLASTICITE LINEAIRE, PRESSION INTERNE
# ssna104b.para = tps_job 150 mem_job 300Mo ncpus 1 liste_test S
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2004  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================

DEBUT(CODE=_F(NOM='SSNA104B',NIV_PUB_WEB='INTERNET'))

MA = LIRE_MAILLAGE();

MA = DEFI_GROUP(reuse =MA,
                MAILLAGE=MA,
                CREA_GROUP_NO =(
                       _F(GROUP_MA = 'DAB',),
                       _F(GROUP_MA = 'DCD',),
                        )
                )

MO = AFFE_MODELE( MAILLAGE =MA,
                  AFFE=_F(
                       TOUT ='OUI',
                       PHENOMENE = 'MECANIQUE',
                       MODELISATION = 'AXIS',)
                 )

CHAM=CREA_CHAMP(  OPERATION='AFFE', 
                      TYPE_CHAM='CART_IRRA_R',
                      MAILLAGE=MA,
                      AFFE=_F( TOUT = 'OUI', NOM_CMP = 'IRRA', 
                            VALE = 1,))     
MAT = DEFI_MATERIAU(
            ELAS=_F( E = 1., NU = 0.3, ALPHA = 0.),
            LEMA_SEUIL=_F( A=0.866025403785,S=1.E-10)
           )

BLOC = AFFE_CHAR_MECA (MODELE = MO,
                       DDL_IMPO=_F(GROUP_NO =('DAB','DCD'),
                                   DY=0.)
                      )
PRES = AFFE_CHAR_MECA (MODELE = MO,
                          PRES_REP=_F (GROUP_MA = 'DDA',
                                    PRES = 1.E-3)
                          )
  
L_INST=DEFI_LIST_REEL(  DEBUT=0.0,
                        INTERVALLE=(
                        _F( PAS = 1.E-6,       JUSQU_A = 1.E-6),
                        _F( PAS = 0.999E-3,    JUSQU_A = 0.001),
                        _F( PAS = 1.E-3,       JUSQU_A = 0.01),
                        _F( PAS = 2.E-3,       JUSQU_A = 0.03),
                        _F( PAS = 5.E-3,       JUSQU_A = 0.1),
                        _F( PAS = 1.E-2,       JUSQU_A = 0.9),
)
                      )
                                  
FLUENC=CREA_RESU(  
                      OPERATION='AFFE', TYPE_RESU='EVOL_VARC',
                      NOM_CHAM='IRRA',AFFE=_F( CHAM_GD = CHAM,LIST_INST=L_INST)
                    )
CHMAT = AFFE_MATERIAU (MAILLAGE = MA,
          AFFE =_F(TOUT='OUI',  MATER = MAT),
          AFFE_VARC=_F(NOM_VARC='IRRA', EVOL =FLUENC, ),
                       )
RESU = STAT_NON_LINE (MODELE = MO,
                      CHAM_MATER = CHMAT,
                      EXCIT =(
                         _F( CHARGE = BLOC),
                         _F( CHARGE = PRES),),
                      COMP_INCR =_F(RELATION ='LEMA_SEUIL',PARM_THETA = 1.,
                                    ITER_INTE_MAXI = 1000),
                      INCREMENT =_F(LIST_INST =L_INST),
                      NEWTON    =_F(
                                MATRICE ='TANGENTE', 
                                REAC_ITER= 1),
                      CONVERGENCE=_F(
                                RESI_GLOB_RELA = 1.E-6,
                                ITER_GLOB_MAXI = 25)
                        )

RESU = CALC_ELEM( reuse= RESU,
                  RESULTAT = RESU,
                  OPTION = 'SIEF_ELNO_ELGA',)
RESU = CALC_NO ( reuse= RESU,
                  RESULTAT = RESU,
                  OPTION = 'SIEF_NOEU_ELGA',)

TEST_RESU( 
          RESU=( _F(RESULTAT = RESU,
                   NUME_ORDRE =115,
                   NOM_CHAM ='DEPL',
                   GROUP_NO ='B',
                   NOM_CMP ='DX',
                   VALE= 2.14498E-3,
                   REFERENCE='ANALYTIQUE'),
                _F(RESULTAT = RESU,
                   NUME_ORDRE =115,
                   NOM_CHAM ='SIEF_NOEU_ELGA',
                   GROUP_NO ='B',
                   NOM_CMP ='SIXX',
                   VALE= 0.,
                   CRITERE='ABSOLU',
                   REFERENCE='ANALYTIQUE'),
                 _F(RESULTAT = RESU,
                   NUME_ORDRE =115,
                   NOM_CHAM ='SIEF_NOEU_ELGA',
                   GROUP_NO ='B',
                   NOM_CMP ='SIYY',
                   VALE= 2.7912E-4,
                   PRECISION=1.5E-2,
                   REFERENCE='ANALYTIQUE'),
                 _F(RESULTAT = RESU,
                   NUME_ORDRE =115,
                   NOM_CHAM ='SIEF_NOEU_ELGA',
                   GROUP_NO ='B',
                   NOM_CMP ='SIZZ',
                   VALE= 6.666E-4,
                   PRECISION=5.E-3,
                   REFERENCE='ANALYTIQUE'))
                   
         )
        
FIN()
