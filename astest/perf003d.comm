# MODIF  DATE 30/07/2012   AUTEUR LEFEBVRE J-P.LEFEBVRE 
# TITRE MODES PROPRES D'UNE PLAQUE CARRE ENCASTREE SUR 2 BORDS
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================
# perf003d.para = tps_job 400 mem_job 512Mo ncpus 1 liste_test S

#       INTERET : CALCULER 10 MODES EN POSITION 11, 12, ..., 20 PAR
#                 L'OPERATEUR MODE_ITER_INV AVEC COMME SOLVEUR LDLT
#---------------------------------------------------------------------------

DEBUT(CODE=_F(NOM='PERF003D',
              NIV_PUB_WEB='INTERNET',),);

MA=LIRE_MAILLAGE(FORMAT='MED',);

MODEL=AFFE_MODELE(MAILLAGE=MA,
                  AFFE=_F(TOUT='OUI',
                          PHENOMENE='MECANIQUE',
                          MODELISATION='DKT',),);

CAREL=AFFE_CARA_ELEM(MODELE=MODEL,
                     COQUE=_F(GROUP_MA='ABCD',
                              EPAIS=0.02,),);

MAT1=DEFI_MATERIAU(ELAS=_F(E=5.E11,
                           NU=0.3,
                           RHO=9800.,),);

CHMAT=AFFE_MATERIAU(MAILLAGE=MA,
                    AFFE=_F(TOUT='OUI',
                            MATER=MAT1,),);

BLOQ=AFFE_CHAR_MECA(MODELE=MODEL,
                    DDL_IMPO=(_F(GROUP_MA='AB',
                                 DX=0.,
                                 DY=0.,
                                 DZ=0.,
                                 DRX=0.,
                                 DRY=0.,
                                 DRZ=0.,),
                              _F(GROUP_MA='DA',
                                 DX=0.,
                                 DY=0.,
                                 DZ=0.,
                                 DRX=0.,
                                 DRY=0.,
                                 DRZ=0.,),),);

MERIME=CALC_MATR_ELEM(OPTION='RIGI_MECA',
                      MODELE=MODEL,
                      CHAM_MATER=CHMAT,
                      CARA_ELEM=CAREL,
                      CHARGE=BLOQ,);

#

MEMAME=CALC_MATR_ELEM(OPTION='MASS_MECA',
                      MODELE=MODEL,
                      CHAM_MATER=CHMAT,
                      CARA_ELEM=CAREL,
                      CHARGE=BLOQ,);

#

NUMDDL=NUME_DDL(MATR_RIGI=MERIME,);

#

RAIDASS=ASSE_MATRICE(MATR_ELEM=MERIME,
                     NUME_DDL=NUMDDL,);

#

MASSASS=ASSE_MATRICE(MATR_ELEM=MEMAME,
                     NUME_DDL=NUMDDL,);

MODES=MODE_ITER_INV(MATR_A=RAIDASS,
                    MATR_B=MASSASS,
                    CALC_FREQ=_F(OPTION='SEPARE',
                                 FREQ=(840.,1600.,),),);

TEST_RESU(RESU=_F(RESULTAT=MODES,
                  NUME_ORDRE=3,
                  PARA='FREQ',
                  VALE=993.5,
                  CRITERE='RELATIF',
                  PRECISION=0.003,
                  REFERENCE='NON_REGRESSION',),);

FIN();
