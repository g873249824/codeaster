# MODIF  DATE 07/06/2002   AUTEUR DURAND C.DURAND 
# TITRE CONTACT UNIDIRECTIONNEL AVEC FROTTEMENT
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
# D'UNE PLAQUE SUR UN PLAN RIGIDE
# CAS_TEST__:SSNV128E
# TEST ASTER CALCUL 2D
# MODELE 
# MAILLAGE : ELEMENT 2D QUADRANGLE A 4 NOEUDS
# UNITES   : NEWTON , METRE , SECONDE (N,M,S)
#

DEBUT( CODE=_F(  NOM = 'SSNV128E',NIV_PUB_WEB='INTERNET') )

#......................................................................
#  PRE_GIBI();
#

MA=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='NON'), )

#

MA=DEFI_GROUP( reuse=MA,
                       MAILLAGE=MA,CREA_GROUP_NO=(
                       _F(  GROUP_MA = 'D',  ),
                       _F(  GROUP_MA = 'C1',  ),
                       _F(  GROUP_MA = 'C2',  ))
                    )

#

MO=AFFE_MODELE( 
            MAILLAGE=MA,
           AFFE=_F( TOUT = 'OUI',PHENOMENE = 'MECANIQUE',MODELISATION = 'D_PLAN',)
           )

MA=MODI_MAILLAGE( reuse=MA,   MAILLAGE=MA,
                           MODELE=MO,
                       ORIE_PEAU_2D=_F(  GROUP_MA = 'DH3',  )
                     )

#

MAT2=DEFI_MATERIAU(
                            ELAS=_F( 
                                  E = 1.3E11, 
                                  NU = 0., 
                                 )
                          )

#

MAT1=DEFI_MATERIAU(
                            ELAS=_F( 
                                  E = 1.E16, 
                                  NU = 0.0, 
                                 )
                          )

#

CHMAT=AFFE_MATERIAU(
                            MAILLAGE=MA,AFFE=(
                           _F( 
                                 GROUP_MA = 'SURF2', 
                                 MATER = MAT2, 
                                ),
                           _F( 
                                 GROUP_MA = 'SURF1', 
                                 MATER = MAT1, 
                                ))
                           )

#

CHA1=AFFE_CHAR_MECA(
                             MODELE=MO,DDL_IMPO=(
                     _F(  GROUP_NO = 'CH1',   DY = 0.0,),
                     _F(  GROUP_NO = 'CH1P',  DY = 0.0,),
                     _F(  GROUP_NO = 'D',   DX = 0.0,   DY = 0.0,),
                     _F(  GROUP_NO = 'C2',  DX = 0.0,   )),PRES_REP=(
                            _F( GROUP_MA = 'IA2',   PRES = 15.E07, ),
                            _F( GROUP_MA = 'DH3',   PRES = 5.E07,  ))
                           )

#

CHA2=AFFE_CHAR_MECA(
                             MODELE=MO,
                             CONTACT=_F( GROUP_MA_1 = 'D1H1P',    
                                      GROUP_MA_2 = 'ID1H1',    
                                      METHODE='LAGRANGIEN',
                                      APPARIEMENT = 'MAIT_ESCL',   
                                      FROTTEMENT = 'COULOMB',    
                                      COULOMB = 1.E+00,       
                              )
                            )

# 

RAMPE=DEFI_FONCTION(   NOM_PARA='INST',
            PROL_GAUCHE='LINEAIRE',   PROL_DROITE='LINEAIRE',
            VALE=(0.0,0.0,1.0,1.0,)
           )

L_INST=DEFI_LIST_REEL(   DEBUT=0.,
             INTERVALLE=_F( JUSQU_A = 1.0,   NOMBRE = 1, )
           )

#

U=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CHMAT,EXCIT=(
                             _F( 
                CHARGE = CHA1,            
                FONC_MULT = RAMPE,         
                ), _F( 
                CHARGE = CHA2,            
                )),
                         COMP_ELAS=_F( 
                RELATION = 'ELAS',          
                ),
                           SOLVEUR=_F( 
                STOP_SINGULIER = 'OUI',    
                METHODE = 'LDLT',           
                ),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE',           
                REAC_ITER = 1,         
                ),
                         INCREMENT=_F( 
                LIST_INST = L_INST,         
                ),
                       CONVERGENCE=_F( 
                ITER_GLOB_MAXI = 100,    
                RESI_GLOB_RELA = 1.0E-6,    
                )
              )

U=CALC_ELEM( reuse=U,
                            OPTION=(
                  'SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
                          RESULTAT=U,
                            MODELE=MO,
                        CHAM_MATER=CHMAT
              )

#

TEST_RESU(RESU=(  _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N363', 
                     NOM_CMP = 'DX', 
                     VALE = 3.4824E-5, 
                     PRECISION = 1.E-2, 
                    ),
               _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N362', 
                     NOM_CMP = 'DX', 
                     VALE = 3.3383E-5, 
                     PRECISION = 1.E-2, 
                    ),
               _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N347', 
                     NOM_CMP = 'DX', 
                     VALE = 2.8844E-5, 
                     PRECISION = 1.E-2, 
                    ),
               _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N327', 
                     NOM_CMP = 'DX', 
                     VALE = 2.5664E-5, 
                     PRECISION = 1.E-2, 
                    ),
               _F( 
                     RESULTAT = U, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N282', 
                     NOM_CMP = 'DX', 
                     VALE = 2.0954E-5, 
                     PRECISION = 1.E-2, 
                    ))
       )

#

FIN()
#
