# ======================================================================
# COPYRIGHT (C) 1991 - 2017  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#              DE SECTION RECTANGULAIRE VARIABLE,
#              DE SECTION GENERALE  VARIABLE,
# person_in_charge: jean-luc.flejou at edf.fr
#
# ENCASTREE-LIBRE SOUMISE A UN EFFORT FX
#                         A UN EFFORT FY,
#                         A UN MOMENT MX,
#                         A UN MOMENT MY,
#                         A UNE CHARGE REPARTIE FX,
#                         A UNE CHARGE REPARTIE FY,
#                         A EFFORT DE PESANTEUR SUIVANT X
#======================================================================
#
DEBUT(CODE=_F(NIV_PUB_WEB='INTERNET'), DEBUG=_F(SDVERI='OUI'))

#
MA=LIRE_MAILLAGE(FORMAT="ASTER",  )

#
MO=AFFE_MODELE(    MAILLAGE=MA,
                         AFFE=_F( TOUT = 'OUI',
                               PHENOMENE = 'MECANIQUE',
                               MODELISATION = 'POU_D_E')
                 )

#
MATR=DEFI_MATERIAU(    ELAS=_F( E = 2.E11,
                                NU = 0.3,
                                RHO = 7800.)
                      )

#
CHMA=AFFE_MATERIAU(    MAILLAGE=MA,
                             AFFE=_F( TOUT = 'OUI',
                                   MATER = MATR)
                     )

#
# ------ FORC100X - FORCE PONCTUELLE FX = 100 N AU NOEUD N2 :
#
FORC100X=AFFE_CHAR_MECA(          MODELE=MO,
                                  DDL_IMPO=_F( NOEUD = 'N1',
                                            DX = 0.,
                                            DY = 0.,
                                            DZ = 0.,
                                            DRX = 0.,
                                            DRY = 0.,
                                            DRZ = 0.),
                              FORCE_NODALE=_F( NOEUD = 'N2',
                                            FX = 100.E0)
                          )

#
# ------ FOR100Y - FORCE PONCTUELLE FY = 100 N AU NOEUD N2 :
#
FOR100Y=AFFE_CHAR_MECA(          MODELE=MO,
                                 DDL_IMPO=_F( NOEUD = 'N1',
                                           DX = 0.,
                                           DY = 0.,
                                           DZ = 0.,
                                           DRX = 0.,
                                           DRY = 0.,
                                           DRZ = 0.),
                             FORCE_NODALE=_F( NOEUD = 'N2',
                                           FY = 100.E0)
                         )

#
# ------ MOM100X - MOMENT DE TORSION  MX = 100 N.M AU NOEUD N2 :
#
MOM100X=AFFE_CHAR_MECA(          MODELE=MO,
                                 DDL_IMPO=_F( NOEUD = 'N1',
                                           DX = 0.,
                                           DY = 0.,
                                           DZ = 0.,
                                           DRX = 0.,
                                           DRY = 0.,
                                           DRZ = 0.),
                             FORCE_NODALE=_F( NOEUD = 'N2',
                                           MX = 100.E0)
                         )

#
# ------ MOM100Y - MOMENT DE FLEXION  MY = 100 N.M AU NOEUD N2 :
#
MOM100Y=AFFE_CHAR_MECA(          MODELE=MO,
                                 DDL_IMPO=_F( NOEUD = 'N1',
                                           DX = 0.,
                                           DY = 0.,
                                           DZ = 0.,
                                           DRX = 0.,
                                           DRY = 0.,
                                           DRZ = 0.),
                             FORCE_NODALE=_F( NOEUD = 'N2',
                                           MY = 100.E0,
                                           FX = 0.E0)
                         )

#
# ------ DENS100X - FORCE REPARTIE FX = 100 N
#
DENS100X=AFFE_CHAR_MECA(          MODELE=MO,
                                  DDL_IMPO=_F( NOEUD = 'N1',
                                            DX = 0.,
                                            DY = 0.,
                                            DZ = 0.,
                                            DRX = 0.,
                                            DRY = 0.,
                                            DRZ = 0.),
                              FORCE_POUTRE=_F( TOUT = 'OUI',
                                            FX = 100.E0)
                         )

#
# ------ DENS100Y - FORCE REPARTIE FY = 100 N
#
DENS100Y=AFFE_CHAR_MECA(          MODELE=MO,
                                  DDL_IMPO=_F( NOEUD = 'N1',
                                            DX = 0.,
                                            DY = 0.,
                                            DZ = 0.,
                                            DRX = 0.,
                                            DRY = 0.,
                                            DRZ = 0.),
                              FORCE_POUTRE=_F( TOUT = 'OUI',
                                            FY = 100.E0)
                          )

#
# ------ PENSENGX - FORCE DE PESANTEUR
#
PENSENGX=AFFE_CHAR_MECA(          MODELE=MO,
                                  DDL_IMPO=_F( NOEUD = 'N1',
                                            DX = 0.,
                                            DY = 0.,
                                            DZ = 0.,
                                            DRX = 0.,
                                            DRY = 0.,
                                            DRZ = 0.),
                                 PESANTEUR=_F(GRAVITE=9.81,
                                              DIRECTION=( 0., 0., -1.,),)
                          )

#
# POUTRE DE SECTION CIRCULAIRE VARIABLE
#
CARELCV=AFFE_CARA_ELEM(   MODELE=MO,POUTRE=(
                         _F( SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',),
                                 MAILLE = 'S13',
                                 VALE = (0.1, 0.095, 0.1, 0.095,)),
                                _F( MAILLE = 'S34',
                                 SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',),
                                 VALE = (0.095, 0.090, 0.095, 0.090,)),
                                _F( MAILLE = 'S45',
                                 SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',),
                                 VALE = (0.090, 0.085, 0.090, 0.085,)),
                                _F( MAILLE = 'S56',
                                 SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',),
                                 VALE = (0.085, 0.080, 0.085, 0.080,)),
                                _F( MAILLE = 'S67',
                                 SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',),
                                 VALE = (0.080, 0.075, 0.080, 0.075,)),
                                _F( MAILLE = 'S78',
                                 SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',),
                                 VALE = (0.075, 0.070, 0.075, 0.070,)),
                                _F( MAILLE = 'S89',
                                 VALE = (0.070, 0.065, 0.070, 0.065,),
                                 SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',)),
                                _F( MAILLE = 'S910',
                                 SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',),
                                 VALE = (0.065, 0.060, 0.065, 0.060,)),
                                _F( MAILLE = 'S1011',
                                 SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',),
                                 VALE = (0.060, 0.055, 0.060, 0.055,)),
                                _F( MAILLE = 'S112',
                                 SECTION = 'CERCLE', VARI_SECT = 'HOMOTHETIQUE',
                                 CARA = ('R1', 'R2', 'EP1', 'EP2',),
                                 VALE = (0.055, 0.050, 0.055, 0.050,)))
                     )

#
# ------ FORC100X - FORCE PONCTUELLE FX = 100 N AU NOEUD N2 :
#
#

MCVF100X=MECA_STATIQUE(        MODELE=MO,
                              CHAM_MATER=CHMA,
                               CARA_ELEM=CARELCV,
                                   EXCIT=_F( CHARGE = FORC100X),
                                   )

CALC_CHAMP(reuse=MCVF100X,RESULTAT=MCVF100X,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100X,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DX',
                  VALE_CALC=3.1830988618379E-08,
                  VALE_REFE=3.1831000000000002E-08,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  ),
          )

#
# EFFORT NORMAL A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='N',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# EFFORT NORMAL A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='N',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100X,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=3183.0988618379,
                  VALE_REFE=3183.1,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# SXX A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100X,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=12732.395447352,
                  VALE_REFE=1.27324E4,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

#
# ------ FOR100Y - FORCE PONCTUELLE FY = 100 N AU NOEUD N2 :
#

MCVF100Y=MECA_STATIQUE(         MODELE=MO,
                               CHAM_MATER=CHMA,
                                CARA_ELEM=CARELCV,
                                    EXCIT=_F( CHARGE = FOR100Y),
                                   )

CALC_CHAMP(reuse=MCVF100Y,RESULTAT=MCVF100Y,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100Y,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DY',
                  VALE_CALC=4.2441318157984E-06,
                  VALE_REFE=4.2441300000000001E-06,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  ),
          )

#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100Y,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DRZ',
                  VALE_CALC=8.488263631594E-06,
                  VALE_REFE=8.4882600000000003E-06,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  ),
          )

#
# EFFORT TANGENTIEL Y A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='VY',
                  VALE_CALC=100.00000000002,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# EFFORT TANGENTIEL Y A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='VY',
                  VALE_CALC=99.999999999996,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

#
# MOMENT DE FLEXION Z A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='MFZ',
                  VALE_CALC=100.00000000029,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# MOMENT DE FLEXION Z A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='MFZ',
                  VALE_CALC=5.6843418860808E-14,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=1.2732395447388E+05,
                  VALE_REFE=1.27324E5,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMIN',
                  VALE_CALC=-1.2732395447388E+05,
                  VALE_REFE=-1.27324E5,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# SXX A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVF100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=5.790023100122E-10,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )
#
# ------ MOM100X - MOMENT DE TORSION  MX = 100 N.M AU NOEUD N2 :
#

MCVM100X=MECA_STATIQUE(         MODELE=MO,
                               CHAM_MATER=CHMA,
                                CARA_ELEM=CARELCV,
                                    EXCIT=_F( CHARGE = MOM100X),
                                )

CALC_CHAMP(reuse=MCVM100X,RESULTAT=MCVM100X,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100X,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DRX',
                  VALE_CALC=3.8621599523633E-05,
                  VALE_REFE=3.8621600000000003E-05,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  ),
          )

#
# MOMENT DE TORSION A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='MT',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# MOMENT DE TORSION A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='MT',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

#
# ------ MOM100Y - MOMENT DE FLEXION  MY = 100 N.M AU NOEUD N2 :
#
#

MCVM100Y=MECA_STATIQUE(         MODELE=MO,
                               CHAM_MATER=CHMA,
                                CARA_ELEM=CARELCV,
                                    EXCIT=_F( CHARGE = MOM100Y),
                                   )

CALC_CHAMP(reuse=MCVM100Y,RESULTAT=MCVM100Y,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DZ',
                  VALE_CALC=-8.4882636315939E-06,
                  VALE_REFE=-8.4882600000000003E-06,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  ),
          )

#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DRY',
                  VALE_CALC=2.9708922710539E-05,
                  VALE_REFE=2.9708899999999999E-05,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  ),
          )

#
# EFFORT TRANCHANT Z A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='VZ',
                  VALE_CALC=-2.6375346351415E-11,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S13',),
          )

#
# EFFORT TRANCHANT Z A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='VZ',
                  VALE_CALC=-1.0913936421275E-11,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# MOMENT FLECHISSANT Y A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='MFY',
                  VALE_CALC=100.00000000049,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# MOMENT FLECHISSANT Y A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='MFY',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=1.2732395447413E+05,
                  VALE_REFE=1.2732395E5,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMIN',
                  VALE_CALC=-1.2732395447413E+05,
                  VALE_REFE=-1.2732395E5,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# SXXY A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=1.0185916357881E+06,
                  VALE_REFE=1.0185916E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVM100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMIN',
                  VALE_CALC=-1.0185916357881E+06,
                  VALE_REFE=-1.0185916E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )


#
# ------ DENS100X - FORCE REPARTIE FX = 100 N
#

MCVD100X=MECA_STATIQUE(        MODELE=MO,
                              CHAM_MATER=CHMA,
                               CARA_ELEM=CARELCV,
                                   EXCIT=_F( CHARGE = DENS100X),
                                  )

CALC_CHAMP(reuse=MCVD100X,RESULTAT=MCVD100X,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVD100X,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DX',
                  VALE_CALC=1.2335870658089E-08,
                  VALE_REFE=1.22961E-08,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-2,),
          )

#
# EFFORT NORMAL A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVD100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='N',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# EFFORT NORMAL A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVD100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='N',
                  VALE_CALC=8.8817841970013E-16,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVD100X,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=3183.0988618379,
                  VALE_REFE=3183.0900000000001,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# SXX A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVD100X,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=1.1308638867426E-13,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# ------ DENS100Y - FORCE REPARTIE FY = 100 N
#

MCVDENY=MECA_STATIQUE(         MODELE=MO,
                              CHAM_MATER=CHMA,
                               CARA_ELEM=CARELCV,
                                  EXCIT=_F( CHARGE = DENS100Y),
                                )

CALC_CHAMP(reuse=MCVDENY,RESULTAT=MCVDENY,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVDENY,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DY',
                  VALE_CALC=1.3486563308038E-06,
                  VALE_REFE=1.3486399999999999E-06,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-2,),
          )

#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVDENY,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DRZ',
                  VALE_CALC=2.1220114833861E-06,
                  VALE_REFE=2.12207E-06,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-2,),
          )

#
# EFFORT TANGENTIEL Y A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVDENY,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='VY',
                  VALE_CALC=100.00000000001,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# EFFORT TANGENTIEL Y A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVDENY,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='VY',
                  VALE_CALC=-4.3192116550017E-12,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# MOMENT DE FLEXION Z A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVDENY,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='MFZ',
                  VALE_CALC=50.0,
                  VALE_REFE=50.0,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-2,
                  MAILLE='S13',),
          )

#
# MOMENT DE FLEXION Z A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVDENY,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='MFZ',
                  VALE_CALC=1.0416667528546E-13,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVDENY,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=63661.977236883,
                  VALE_REFE=6.3662E4,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCVDENY,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMIN',
                  VALE_CALC=-63661.977236883,
                  VALE_REFE=-6.3662E4,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# POUTRE DE SECTION RECTANGULAIRE VARIABLE
#
CARELRV=AFFE_CARA_ELEM(    MODELE=MO,
                          POUTRE=(_F( MAILLE = 'S13',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.1,    0.095,)),
                                  _F( MAILLE = 'S34',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.095,  0.090,)),
                                  _F( MAILLE = 'S45',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.090,  0.085,)),
                                  _F( MAILLE = 'S56',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.085,  0.080,)),
                                  _F( MAILLE = 'S67',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.080,  0.075,)),
                                  _F( MAILLE = 'S78',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.075,  0.070,)),
                                  _F( MAILLE = 'S89',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.070,  0.065,)),
                                  _F( MAILLE = 'S910',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.065,  0.060,)),
                                  _F( MAILLE = 'S1011',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.060,  0.055,)),
                                  _F( MAILLE = 'S112',
                                   SECTION = 'RECTANGLE', VARI_SECT = 'AFFINE',
                                   CARA = ('HY',  'HZ1',  'HZ2',),
                                   VALE = (0.05,  0.055,  0.050,)))
                         )

#
# ------ FORC100X - FORCE PONCTUELLE FX = 100 N AU NOEUD N2 :
#
#

MRVF100X=MECA_STATIQUE(        MODELE=MO,
                              CHAM_MATER=CHMA,
                               CARA_ELEM=CARELRV,
                                   EXCIT=_F( CHARGE = FORC100X),
                                 )

CALC_CHAMP(reuse=MRVF100X,RESULTAT=MRVF100X,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100X,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DX',
                  VALE_CALC=1.3862943611199E-07,
                  VALE_REFE=1.3862899999999999E-07,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='RELATIF',
                  ),
          )

#
# EFFORT NORMAL A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='N',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# EFFORT NORMAL A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='N',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100X,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=20000.0,
                  VALE_REFE=2.E4,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# SXX A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100X,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=40000.0,
                  VALE_REFE=4.E4,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

#
# ------ FOR100Y - FORCE PONCTUELLE FY = 100 N AU NOEUD N2 :
#

MRVF100Y=MECA_STATIQUE( MODELE=MO,
                        CHAM_MATER=CHMA,
                        CARA_ELEM=CARELRV,
                        EXCIT=_F( CHARGE = FOR100Y),
                                  )

CALC_CHAMP(reuse=MRVF100Y,RESULTAT=MRVF100Y,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100Y,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DY',
                  VALE_CALC=1.8545767878156E-04,
                  VALE_REFE=1.8969599999999999E-4,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=0.023,),
          )

#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100Y,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DRZ',
                  VALE_CALC=2.9464554402876E-04,
                  VALE_REFE=3.02381E-4,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=0.027,),
          )

#
# EFFORT TANGENTIEL Y A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='VY',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# EFFORT TANGENTIEL Y A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='VY',
                  VALE_CALC=99.999999999971,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

#
# MOMENT DE FLEXION Z A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='MFZ',
                  VALE_CALC=99.99999999495,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# MOMENT DE FLEXION Z A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='MFZ',
                  VALE_CALC=2.955857780762E-12,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=2.3999999998788E+06,
                  VALE_REFE=2.400000E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMIN',
                  VALE_CALC=-2.3999999998788E+06,
                  VALE_REFE=-2.400000E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# SXX A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVF100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=1.4188117347658E-07,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# ------ MOM100X - MOMENT DE TORSION  MX = 100 N.M AU NOEUD N2 :
#

MRVM100X=MECA_STATIQUE(         MODELE=MO,
                               CHAM_MATER=CHMA,
                                CARA_ELEM=CARELRV,
                                    EXCIT=_F( CHARGE = MOM100X),
                                   )

CALC_CHAMP(reuse=MRVM100X,RESULTAT=MRVM100X,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100X,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DRX',
                  VALE_CALC=7.8817442937454E-04,
                  VALE_REFE=8.3506300000000004E-4,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=0.057000000000000002,),
          )

#
# MOMENT DE TORSION A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='MT',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# MOMENT DE TORSION A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='MT',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )
#
# ------ MOM100Y - MOMENT DE FLEXION  MY = 100 N.M AU NOEUD N2 :
#
#

MRVM100Y=MECA_STATIQUE(         MODELE=MO,
                               CHAM_MATER=CHMA,
                                CARA_ELEM=CARELRV,
                                    EXCIT=_F( CHARGE = MOM100Y),
                                   )

CALC_CHAMP(reuse=MRVM100Y,RESULTAT=MRVM100Y,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DZ',
                  VALE_CALC=-1.1972505837432E-04,
                  VALE_REFE=-1.2E-4,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=3.0000000000000001E-3,),
          )

#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DRY',
                  VALE_CALC=3.5888200841529E-04,
                  VALE_REFE=3.6000000000000002E-4,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=4.0000000000000001E-3,),
          )

#
# EFFORT TRANCHANT Z A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='VZ',
                  VALE_CALC=1.1823431123048E-11,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S13',),
          )

#
# EFFORT TRANCHANT Z A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='VZ',
                  VALE_CALC=-3.2741809263825E-11,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# MOMENT FLECHISSANT Y A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='MFY',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# MOMENT FLECHISSANT Y A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='MFY',
                  VALE_CALC=99.999999999999,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=1.200000E6,
                  VALE_REFE=1.200000E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMIN',
                  VALE_CALC=-1.200000E6,
                  VALE_REFE=-1.200000E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# SXX A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=4.800000E6,
                  VALE_REFE=4.800000E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )

TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVM100Y,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMIN',
                  VALE_CALC=-4.800000E6,
                  VALE_REFE=-4.800000E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S112',),
          )


#
# ------ DENS100X - FORCE REPARTIE FX = 100 N
#

MRVD100X=MECA_STATIQUE(        MODELE=MO,
                              CHAM_MATER=CHMA,
                               CARA_ELEM=CARELRV,
                                   EXCIT=_F( CHARGE = DENS100X),
                                  )

CALC_CHAMP(reuse=MRVD100X,RESULTAT=MRVD100X,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVD100X,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DX',
                  VALE_CALC=6.1453848762838E-08,
                  VALE_REFE=6.1370600000000006E-08,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=2.E-3,),
          )

#
# EFFORT NORMAL A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVD100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='N',
                  VALE_CALC=100.0,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# EFFORT NORMAL A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVD100X,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='N',
                  VALE_CALC=5.7731597280508E-14,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVD100X,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=20000.0,
                  VALE_REFE=2.E4,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# SXX A X = L/2
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVD100X,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N7',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=13333.333333333,
                  VALE_REFE=1.33333E4,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S67',),
          )

#
# SXX A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVD100X,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=2.3092638912203E-11,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# ------ DENS100Y - FORCE REPARTIE FY = 100 N
#

MRVDENY=MECA_STATIQUE(         MODELE=MO,
                              CHAM_MATER=CHMA,
                               CARA_ELEM=CARELRV,
                                  EXCIT=_F( CHARGE = DENS100Y),
                                 )

CALC_CHAMP(reuse=MRVDENY,RESULTAT=MRVDENY,CONTRAINTE=('EFGE_ELNO','SIPM_ELNO'))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVDENY,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DY',
                  VALE_CALC=6.7301622152057E-05,
                  VALE_REFE=6.8626499999999998E-05,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=0.02,),
          )

#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVDENY,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DRZ',
                  VALE_CALC=9.2728772808794E-05,
                  VALE_REFE=9.4847900000000004E-05,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=0.024,),
          )

#
# EFFORT TANGENTIEL Y A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVDENY,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='VY',
                  VALE_CALC=100.00000000003,
                  VALE_REFE=100.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# EFFORT TANGENTIEL Y A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVDENY,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='VY',
                  VALE_CALC=4.549249865704E-12,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# MOMENT DE FLEXION Z A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVDENY,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='MFZ',
                  VALE_CALC=49.999999998019,
                  VALE_REFE=50.0,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-2,
                  MAILLE='S13',),
          )

#
# MOMENT DE FLEXION Z A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVDENY,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N2',
                  NOM_CMP='MFZ',
                  VALE_CALC=-5.4951876382603E-13,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )

#
# SXX A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVDENY,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=1.200000E6,
                  VALE_REFE=1.200000E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVDENY,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N1',
                  NOM_CMP='SIXXMIN',
                  VALE_CALC=-1.200000E6,
                  VALE_REFE=-1.200000E6,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.0E-05,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )


#
# SXX A X = L
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MRVDENY,
                  NOM_CHAM='SIPM_ELNO',
                  NOEUD='N2',
                  NOM_CMP='SIXXMAX',
                  VALE_CALC=2.6376900663649E-08,
                  VALE_REFE=0.0,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='ABSOLU',
                  MAILLE='S112',),
          )
#
# POUTRE DE SECTION GENERALE VARIABLE
#
#
CARELGV=AFFE_CARA_ELEM(    MODELE=MO,POUTRE=(
                             _F( SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     MAILLE = 'S13',
                                     VALE = (1.E-2,      9.025E-3,
                                                  8.33333E-6, 6.78755E-6,
                                                  8.33333E-6, 6.78755E-6,
                                                  1.E0,       1.E0,
                                                  )),
                                    _F( MAILLE = 'S34',
                                     SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     VALE = (9.025E-3,   8.1E-3,
                                                  6.78755E-6, 5.4675E-6,
                                                  6.78755E-6, 5.4675E-6,
                                                  1.E0,       1.E0,
                                                 )),
                                    _F( MAILLE = 'S45',
                                     SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     VALE = (8.1E-3,    7.225E-3,
                                                  5.4675E-6, 4.35005E-6,
                                                  5.4675E-6, 4.35005E-6,
                                                  1.E0,      1.E0,
                                                 )),
                                    _F( MAILLE = 'S56',
                                     SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     VALE = (7.225E-3,   6.4E-3,
                                                  4.35005E-6, 3.41333E-6,
                                                  4.35005E-6, 3.41333E-6,
                                                  1.E0,       1.E0,
                                                 )),
                                    _F( MAILLE = 'S67',
                                     SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     VALE = (6.4E-3,     5.625E-3,
                                                  3.41333E-6, 2.63672E-6,
                                                  3.41333E-6, 2.63672E-6,
                                                  1.E0,       1.E0,
                                                 )),
                                    _F( MAILLE = 'S78',
                                     SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     VALE = (5.625E-3,   4.9E-3,
                                                  2.63672E-6, 2.00083E-6,
                                                  2.63672E-6, 2.00083E-6,
                                                  1.E0,       1.E0,
                                                 )),
                                    _F( MAILLE = 'S89',
                                     SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     VALE = (4.9E-3,     4.225E-3,
                                                  2.00083E-6, 1.48755E-6,
                                                  2.00083E-6, 1.48755E-6,
                                                  1.E0,       1.E0,
                                                 )),
                                    _F( MAILLE = 'S910',
                                     SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     VALE = (4.225E-3,  3.6E-3,
#                                                1.48755D-6 1.48755D-6
                                                  1.48755E-6, 1.08E-6,
                                                  1.48755E-6, 1.08E-6,
                                                  1.E0,       1.E0,
                                                 )),
                                    _F( MAILLE = 'S1011',
                                     SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     VALE = (3.6E-3,     3.025E-3,
#                                                 1.48755D-6 7.62552D-7
#                                                 1.48755D-6 7.62552D-7
                                                  1.08E-6, 7.62552E-7,
                                                  1.08E-6, 7.62552E-7,
                                                  1.E0,       1.E0,
                                                 )),
                                    _F( MAILLE = 'S112',
                                     SECTION = 'GENERALE',
                                     VARI_SECT = 'HOMOTHETIQUE',
                                     CARA = ('A1',  'A2',
                                                  'IY1', 'IY2',
                                                  'IZ1', 'IZ2',
                                                  'JX1', 'JX2',
                                                  ),
                                     VALE = (3.025E-3,   2.5E-3,
                                                  7.62552E-7, 5.20833E-7,
                                                  7.62552E-7, 5.20833E-7,
                                                  1.E0,       1.E0,
                                                 )))
                         )

#
# ------ PENSENGX - FORCE DE PESANTEUR
#

MCGPESX=MECA_STATIQUE(         MODELE=MO,
                              CHAM_MATER=CHMA,
                               CARA_ELEM=CARELGV,
                                  EXCIT=_F( CHARGE = PENSENGX),
                                 )

CALC_CHAMP(reuse=MCGPESX,RESULTAT=MCGPESX,CONTRAINTE=('EFGE_ELNO',))


#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCGPESX,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DZ',
                  VALE_CALC=-3.8259353979902E-05,
                  VALE_REFE=-3.8259000000000001E-05,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-2,),
          )

#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCGPESX,
                  NOM_CHAM='DEPL',
                  NOEUD='N2',
                  NOM_CMP='DRY',
                  VALE_CALC=5.7387040016628E-05,
                  VALE_REFE=5.7388500000000001E-05,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-2,),
          )

#
# EFFORT TANGENTIEL Z A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCGPESX,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='VZ',
                  VALE_CALC=-446.35499999997,
                  VALE_REFE=-446.33499999999998,
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-3,
                  CRITERE='RELATIF',
                  MAILLE='S13',),
          )

#
# MOMENT DE FLEXION Y A X = 0
#
TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  RESULTAT=MCGPESX,
                  NOM_CHAM='EFGE_ELNO',
                  NOEUD='N1',
                  NOM_CMP='MFY',
                  VALE_CALC=175.35374999985,
                  VALE_REFE=175.35400000000001,
                  CRITERE='RELATIF',
                  REFERENCE = 'ANALYTIQUE',
                  PRECISION=1.E-2,
                  MAILLE='S13',),
          )

#
FIN( )
#
