# MODIF  DATE 07/06/2002   AUTEUR DURAND C.DURAND 
# TITRE PLAQUE RECTANGULAIRE MINCE SUR MATELAS ELASTIQUE DKT - DST
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#======================================================================


DEBUT(CODE=_F(  NOM = 'SDLS101A',NIV_PUB_WEB='INTERNET') )

MA_INIT=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='NON'), )

MA_INIT=DEFI_GROUP( reuse=MA_INIT,  MAILLAGE=MA_INIT,
                          CREA_GROUP_NO=_F(  GROUP_MA = 'COQUE')  )

MA=CREA_MAILLAGE(   MAILLAGE=MA_INIT,
                        CREA_MAILLE=_F(  PREF_MAILLE = 'NOU',
                                      PREF_NUME = 1,
                                      MAILLE = ('M271', 'M272', 
                                                'M273', 'M274', 'M275',)),
                         CREA_GROUP_MA=_F(  NOM = 'APPU_1',
                                         PREF_MAILLE = 'NEW',
                                         PREF_NUME = 1,
                                         GROUP_MA = 'COQPAR')  )

MA=DEFI_GROUP( reuse=MA,  MAILLAGE=MA,CREA_GROUP_MA=(
                          _F(   NOM = 'APPU_2',
                                           MAILLE = ('NOU1', 'NOU2', 'NOU3',
                                                     'NOU4', 'NOU5',)),
                          _F(   NOM = 'APPUI',
                                           UNION = ('APPU_1', 'APPU_2',)))
                                             )

#====================================================================
#
RIG1=7.E+05

RIG2=DEFI_VALEUR(  R8=EVAL("""RIG1 * 1.5 / 176 """) )

MAT=DEFI_MATERIAU( ELAS=_F(  E = 2.1E+11,  NU = 0.3,  RHO = 7800.),
                     APPUI_ELAS=_F(  E_N = RIG1)  )

CHMAT=AFFE_MATERIAU(  MAILLAGE=MA, 
                       AFFE=_F(  TOUT = 'OUI',      MATER = MAT) )

#====================================================================
# ---- PLAQUE DKT APPUYEE SUR LES BORDS

MO=AFFE_MODELE(   MAILLAGE=MA, 
                   AFFE=_F(  GROUP_MA = 'COQUE',
                          PHENOMENE = 'MECANIQUE',
                          MODELISATION = 'DKT')  )

CH=AFFE_CHAR_MECA(   MODELE=MO, 
                       DDL_IMPO=_F(  GROUP_NO = 'BORD',  DZ = 0.)   )

CA=AFFE_CARA_ELEM(   MODELE=MO,
                      COQUE=_F(  GROUP_MA = 'COQUE',  EPAIS = 0.01)  )

MACRO_MATR_ASSE(   MODELE=MO,            CARA_ELEM=CA,
                       CHARGE=CH,           CHAM_MATER=CHMAT,
                      NUME_DDL=CO("NUM"),MATR_ASSE=(
               _F(  MATRICE = CO("MATR"),  OPTION = 'RIGI_MECA'),
                         _F(  MATRICE = CO("MATM"),  OPTION = 'MASS_MECA'))
                   )

MODE=MODE_ITER_SIMULT(  MATR_A=MATR,   MATR_B=MATM,
              CALC_FREQ=_F(  FREQ = (5., 200., ),
                          OPTION = 'BANDE')  )

# --------------------------------------------------------------------

TEST_RESU(RESU=(
   _F(   RESULTAT = MODE,        PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 0.5E-2,
           NUME_MODE = 4,       VALE = 0.35626385E+02,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE,        PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.1E-2,
           NUME_MODE = 5,       VALE = 0.68512276E+02,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE,        PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 0.9E-2,
           NUME_MODE = 6,       VALE = 0.10961964E+03,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE,        PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.2E-2,
           NUME_MODE = 7,       VALE = 0.12332210E+03,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE,        PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.8E-2,
           NUME_MODE = 8,      VALE = 0.14250554E+03, 
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE,        PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 2.9E-2,
           NUME_MODE = 9,       VALE = 0.19731535E+03,
           REFERENCE = 'ANALYTIQUE')) )

#
# -------------------------------------------------------------------
#                     MODE SUR APPUIS ELASTIQUES
# -------------------------------------------------------------------
#
MO2=AFFE_MODELE(  MAILLAGE=MA,AFFE=(
                   _F(  GROUP_MA = 'COQUE',
                          PHENOMENE = 'MECANIQUE',
                          MODELISATION = 'DKT'),
                   _F(  GROUP_MA = 'APPUI',
                          PHENOMENE = 'MECANIQUE',
                          MODELISATION = 'APPUI_REP'))   )

CH2=AFFE_CHAR_MECA(   MODELE=MO2, 
                        DDL_IMPO=_F(  GROUP_NO = 'BORD',  DZ = 0.)   )

CA2=AFFE_CARA_ELEM(   MODELE=MO2,
                       COQUE=_F(  GROUP_MA = 'COQUE',  EPAIS = 0.01)  )

RIGIEL=CALC_MATR_ELEM(          MODELE=MO2,
                                   CHARGE=CH2,
                               CHAM_MATER=CHMAT,
                                CARA_ELEM=CA2,
                                   OPTION='RIGI_MECA'    )

MASSEL=CALC_MATR_ELEM(          MODELE=MO2,
                                   CHARGE=CH2,
                               CHAM_MATER=CHMAT,
                                CARA_ELEM=CA2,
                                   OPTION='MASS_MECA'    )

NUM2=NUME_DDL(     MATR_RIGI=RIGIEL  )

MATR2=ASSE_MATRICE(    MATR_ELEM=RIGIEL,      NUME_DDL=NUM2  )

MATM2=ASSE_MATRICE(    MATR_ELEM=MASSEL,      NUME_DDL=NUM2  )

MODE2=MODE_ITER_SIMULT(  MATR_A=MATR2,     MATR_B=MATM2,
              CALC_FREQ=_F(  FREQ = ( 30.,  200., ),
                          OPTION = 'BANDE')
                        )

# --------------------------------------------------------------------

TEST_RESU(RESU=(
   _F(   RESULTAT = MODE2,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 0.5E-2,
           NUME_MODE = 4,       VALE = 0.38685429E+02,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE2,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.1E-2,
           NUME_MODE = 5,       VALE = 0.70151657E+02,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE2,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 0.9E-2,
           NUME_MODE = 6,       VALE = 0.11065166E+03,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE2,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.2E-2,
           NUME_MODE = 7,       VALE = 0.12424034E+03, 
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE2,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.8E-2,
           NUME_MODE = 8,      VALE = 0.14330092E+03,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE2,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 2.9E-2,
           NUME_MODE = 9,      VALE = 0.19789056E+03, 
           REFERENCE = 'ANALYTIQUE'))   )

#
# -------------------------------------------------------------------
#                     MODE SUR RESSORTS
# -------------------------------------------------------------------
#
MO3=AFFE_MODELE(  MAILLAGE=MA,AFFE=(
                   _F(  GROUP_MA = 'COQUE',
                          PHENOMENE = 'MECANIQUE',
                          MODELISATION = 'DKT'),
                   _F(  GROUP_NO = 'COQUE',
                          PHENOMENE = 'MECANIQUE',
                          MODELISATION = 'DIS_T'))   )

CH3=AFFE_CHAR_MECA(   MODELE=MO3, 
                        DDL_IMPO=_F(  GROUP_NO = 'BORD',  DZ = 0.)   )

CA3=AFFE_CARA_ELEM(   MODELE=MO3,
                       COQUE=_F(  GROUP_MA = 'COQUE',  EPAIS = 0.01),
                        DISCRET=_F(  GROUP_NO = 'COQUE',
                                  CARA = 'K_T_D_N',
                                  VALE = ( 0., 0., RIG2, ))  )

RIGIE3=CALC_MATR_ELEM(          MODELE=MO3,
                                   CHARGE=CH3,
                               CHAM_MATER=CHMAT,
                                CARA_ELEM=CA3,
                                   OPTION='RIGI_MECA'    )

MASSE3=CALC_MATR_ELEM(          MODELE=MO3,
                                   CHARGE=CH3,
                               CHAM_MATER=CHMAT,
                                CARA_ELEM=CA3,
                                   OPTION='MASS_MECA'    )

NUM3=NUME_DDL(     MATR_RIGI=RIGIE3   )

MATR3=ASSE_MATRICE(    MATR_ELEM=RIGIE3,      NUME_DDL=NUM3  )

MATM3=ASSE_MATRICE(    MATR_ELEM=MASSE3,      NUME_DDL=NUM3  )

MODE3=MODE_ITER_SIMULT(  MATR_A=MATR3,     MATR_B=MATM3,
              CALC_FREQ=_F(  FREQ = ( 1.,  200., ),
                          OPTION = 'BANDE')
                        )

# --------------------------------------------------------------------

TEST_RESU(RESU=(
   _F(   RESULTAT = MODE3,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.8E-2,
           NUME_MODE = 4,       VALE = 0.38685429E+02, 
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE3,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.4E-2,
           NUME_MODE = 5,       VALE = 0.70151657E+02,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE3,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.1E-2,
           NUME_MODE = 6,       VALE = 0.11065166E+03,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE3,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.3E-2,
           NUME_MODE = 7,       VALE = 0.12424034E+03,
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE3,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 1.9E-2,
           NUME_MODE = 8,       VALE = 0.14330092E+03, 
           REFERENCE = 'ANALYTIQUE'),
   _F(   RESULTAT = MODE3,       PARA = 'FREQ',
           CRITERE = 'RELATIF',     PRECISION = 2.9E-2,
           NUME_MODE = 9,       VALE = 0.19789056E+03,
           REFERENCE = 'ANALYTIQUE'))   )

FIN( )
#
