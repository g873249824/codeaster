
# TITRE TEST THM, D_PLAN_DPTR6
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
DEBUT(CODE=_F(NOM='WTNV109C', NIV_PUB_WEB='INTERNET'), DEBUG=_F(SDVERI='OUI'))

MAIL=LIRE_MAILLAGE();

MAIL=DEFI_GROUP(reuse =MAIL,
                MAILLAGE=MAIL,
                CREA_GROUP_NO=(_F(GROUP_MA='BAS',),
                               _F(GROUP_MA='HAUT',),),);

MODELE=AFFE_MODELE(MAILLAGE=MAIL,
                   AFFE=_F(TOUT='OUI',
                           PHENOMENE='MECANIQUE',
                           MODELISATION='D_PLAN_THM',),);
#
#

#  LISTE DES INSTANTS DE CALCUL
#


LI=DEFI_LIST_REEL(DEBUT=0.0,
                  INTERVALLE=_F(JUSQU_A=1.E10,
                                NOMBRE=1,),);
############################################

#
# DEFINITION DES FONCTIONS DE COMPORTEMENT :
# VISCOSITE LIQUIDE ET GAZ : UNITE : PA.S
#
#


UN=DEFI_CONSTANTE(VALE=1.0,);

ZERO=DEFI_CONSTANTE(VALE=0.0,);
#
#
#
# PERMEABILITE INTRINSEQUE, RELATIVE DU LIQUIDE, RELATIVE DU GAZ
# UNITE INTRINSEQUE : METRES CARRES , UNITE RELATIVE : SANS
#
#


KINT=DEFI_CONSTANTE(VALE=2.9999999999999999E-16,);

PERMLIQ=DEFI_CONSTANTE(VALE=1.0,);

DPERMLI=DEFI_CONSTANTE(VALE=0.0,);

PERMGAZ=DEFI_CONSTANTE(VALE=1.0,);

DPERGSA=DEFI_CONSTANTE(VALE=0.0,);

DPERGPG=DEFI_CONSTANTE(VALE=0.0,);
#
# COEFFICIENT DE FICK
# UNITE METRES CARRES PAR SECONDES
#
#


FICK=DEFI_CONSTANTE(VALE=9.9999999999999995E-08,);

DFICKTE=DEFI_CONSTANTE(VALE=0.0,);

DFICKPG=DEFI_CONSTANTE(VALE=0.0,);

DCONDLI=DEFI_CONSTANTE(VALE=0.0,);

CONDGAZ=DEFI_CONSTANTE(VALE=0.02,);

DCONDGA=DEFI_CONSTANTE(VALE=0.0,);
#
# CONDUCTIVITES DU SOLIDE, DU LIQUIDE, DU GAZ
# UNITES : WATTS PAR METRE CARRE
#
#


CONDHOMO=DEFI_CONSTANTE(VALE=1.7,);

DCONDHO=DEFI_CONSTANTE(VALE=0.0,);

CONDLIQ=DEFI_CONSTANTE(VALE=2.9999999999999999E-16,);

MATERIAU=DEFI_MATERIAU(ELAS=_F(E=2.25000000E8,
                               NU=0.0,
                               RHO=2000.0,
                               ALPHA=7.9999999999999996E-06,),
                               COMP_THM = 'LIQU_SATU',
                       THM_LIQU=_F(RHO=1000.0,
                                   UN_SUR_K=3.77E-09,
                                   ALPHA=1.E-4,
                                   CP=2.850000E6,
                                   VISC=UN,
                                   D_VISC_TEMP=ZERO,),
                       THM_GAZ=_F(MASS_MOL=0.02896,
                                  CP=1000.0,
                                  VISC=UN,
                                  D_VISC_TEMP=ZERO,),
                       THM_INIT=_F(TEMP=273.0,
                                   PRE1=0.0,
                                   PRE2=0.0,
                                   PORO=0.40000000000000002,
                                   PRES_VAPE=1.0,),
                       THM_DIFFU=_F(R_GAZ=8.3149999999999995,
                                    RHO=1600.0,
                                    CP=2.850000E6,
                                    BIOT_COEF=9.9999999999999998E-13,
                                    SATU_PRES=UN,
                                    D_SATU_PRES=ZERO,
                                    PESA_X=0.0,
                                    PESA_Y=0.0,
                                    PESA_Z=0.0,
                                    PERM_IN=KINT,
                                    PERM_LIQU=UN,
                                    D_PERM_LIQU_SATU=ZERO,
                                    PERM_GAZ=PERMGAZ,
                                    D_PERM_SATU_GAZ=DPERGSA,
                                    D_PERM_PRES_GAZ=DPERGPG,
                                    LAMB_T=CONDHOMO,
                                    ),);

CHMAT0=AFFE_MATERIAU(MAILLAGE=MAIL,
                     AFFE=_F(TOUT='OUI',
                             MATER=MATERIAU,),);

CHAR0=AFFE_CHAR_MECA(MODELE=MODELE,
                     DDL_IMPO=(_F(NOEUD=('N1','N2','N3','N4'),
                                  PRE1=500.0,),
                               _F(GROUP_NO='BAS',
                                  DX=0.0,
                                  DY=0.0,),
                               _F(NOEUD=('N1','N2'),
                                  TEMP=0.0,),
                               _F(NOEUD=('N6','N8'),
                                  DX=0.0,
                                  DY=5.0000000000000001E-4,),
                               _F(GROUP_NO='HAUT',
                                  DX=0.0,
                                  DY=1.E-3,
                                  )),
                     LIAISON_DDL=_F(NOEUD=('N4','N3'),
                                    DDL=('TEMP','TEMP'),
                                    COEF_MULT=(1.0,-1.0),
                                    COEF_IMPO=0.0,),);

MESTAT=STAT_NON_LINE(MODELE=MODELE,
                     CHAM_MATER=CHMAT0,
                     EXCIT=_F(CHARGE=CHAR0,),
                     COMPORTEMENT=_F(RELATION='KIT_THM',PARM_THETA=1.0,
                                  RELATION_KIT=('ELAS','LIQU_SATU','HYDR_UTIL'),
                                  ITER_INTE_MAXI=5,),
                     INCREMENT=_F(LIST_INST=LI,),
                     NEWTON=_F(MATRICE='TANGENTE',
                               REAC_ITER=20,),
                     CONVERGENCE=_F(RESI_GLOB_RELA=9.9999999999999995E-07,
                                    ITER_GLOB_MAXI=10),
                     SOLVEUR=_F(METHODE='LDLT',),);

TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  REFERENCE='ANALYTIQUE',
                  RESULTAT=MESTAT,
                  NOM_CHAM='DEPL',
                  NOEUD='N3',
                  NOM_CMP='TEMP',
                  VALE_CALC=-1.28598920E-08,
                  VALE_REFE=-1.2860000000000001E-08,
                  CRITERE='RELATIF',
                  PRECISION=1.0000000000000001E-05,),
          )

TEST_RESU(RESU=_F(NUME_ORDRE=1,
                  REFERENCE='ANALYTIQUE',
                  RESULTAT=MESTAT,
                  NOM_CHAM='DEPL',
                  NOEUD='N4',
                  NOM_CMP='TEMP',
                  VALE_CALC=-1.28598920E-08,
                  VALE_REFE=-1.2860000000000001E-08,
                  CRITERE='RELATIF',
                  PRECISION=1.0000000000000001E-05,),
          )

MESTAT=CALC_CHAMP(reuse=MESTAT,CONTRAINTE=('SIGM_ELNO'),VARI_INTERNE=('VARI_ELNO'),RESULTAT=MESTAT)



FIN();
#
#
