# MODIF  DATE 09/03/2004   AUTEUR CIBHHPD S.VANDENBERGHE 
# TITRE PATTE DE VOLUTE DE POMPE PRIMAIRE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#
# TEST DE PEFRORMANCE ANCIENNEMENT NOMME SSLV102A
#
#                      TEST RGVPATTE
#
#  DEBUT(BASE:(FICHIER:'GLOBALE',
#                TAILLE:600,400,2000));

DEBUT(     CODE=_F( NOM = 'YYYY109A',NIV_PUB_WEB='INTERNET'))

#
RGV=LIRE_MAILLAGE()

#
RGVMOD=AFFE_MODELE(MAILLAGE=RGV,
                        AFFE=_F( TOUT = 'OUI',PHENOMENE = 'MECANIQUE',
                       MODELISATION = '3D'))

#
ACIER=DEFI_MATERIAU( ELAS=_F( E = .21E12,NU = 0.3,RHO = 7800.,ALPHA = 0.))

#
RGVMAT=AFFE_MATERIAU(MAILLAGE=RGV,
                         AFFE=_F( TOUT = 'OUI',MATER = ACIER))

#
RGVCHARG=AFFE_CHAR_MECA(MODELE=RGVMOD,
                            DDL_IMPO=_F( GROUP_NO = 'ENCASTRE', # X=0
                            DX = 0.0,DY = 0.0,DZ = 0.0),FORCE_NODALE=(
                            _F( NOEUD = 'NO1580',FZ = -13.344E04),
                                         _F( NOEUD = 'NO1598',FZ = -13.344E04),
                                         _F( NOEUD = 'NO1620',FZ = -13.344E04),
                                         _F( NOEUD = 'NO2431',FZ = -13.344E04),
                                         _F( NOEUD = 'NO2508',FZ = -13.344E04),
                                         _F( NOEUD = 'NO2589',FZ = -13.344E04),
                                         _F( NOEUD = 'NO1605',FZ = -6.672E04),
                                         _F( NOEUD = 'NO1617',FZ = -6.672E04),
                                         _F( NOEUD = 'NO2426',FZ = -6.672E04),
                                         _F( NOEUD = 'NO2504',FZ = -6.672E04),
                                         _F( NOEUD = 'NO2584',FZ = -6.672E04),
                                         _F( NOEUD = 'NO2614',FZ = -6.672E04)))

#
#  RGVDEPL = MECA_STATIQUE(MODELE:RGVMOD,CHARGE:RGVCHARG);
#
RGVMAEL=CALC_MATR_ELEM(  MODELE=RGVMOD,  CHARGE=RGVCHARG,
                            CHAM_MATER=RGVMAT,  OPTION='RIGI_MECA')

#
RGVVEEL=CALC_VECT_ELEM(  CHARGE=RGVCHARG,  OPTION='CHAR_MECA' )

#
RGVNUME=NUME_DDL(  MATR_RIGI=RGVMAEL,
                       METHODE='LDLT',    RENUM='RCMK'
                   )

#
RGVMAAS=ASSE_MATRICE(  MATR_ELEM=RGVMAEL,NUME_DDL=RGVNUME )

#
RGVVEAS=ASSE_VECTEUR(  VECT_ELEM=RGVVEEL,NUME_DDL=RGVNUME )

#
RGVMATR=FACT_LDLT(  MATR_ASSE=RGVMAAS )

#
F=RESO_LDLT(  MATR_FACT=RGVMATR,  CHAM_NO=RGVVEAS )

#
TEST_RESU(CHAM_NO=(  
_F( CHAM_GD = F, NOEUD = 'NO2648', NOM_CMP = 'DY',
                                    VALE = -6.6453E-06, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2648', NOM_CMP = 'DZ',
                                    VALE = -1.3733E-04, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2622', NOM_CMP = 'DY',
                                    VALE = -3.2285E-07, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2622', NOM_CMP = 'DZ',
                                    VALE = -1.2065E-04, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2403', NOM_CMP = 'DY',
                                    VALE = -1.7004E-05, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2403', NOM_CMP = 'DZ',
                                    VALE = -5.5202E-05, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2635', NOM_CMP = 'DY',
                                    VALE = 2.4717E-05, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2635', NOM_CMP = 'DZ',
                                    VALE = -1.3483E-04, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2614', NOM_CMP = 'DY',
                                    VALE = -6.5006E-06, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2614', NOM_CMP = 'DZ',
                                    VALE = -1.7047E-04, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2426', NOM_CMP = 'DY',
                                    VALE = 4.8455E-05, PRECISION = 1.E-3),
_F( CHAM_GD = F, NOEUD = 'NO2426', NOM_CMP = 'DZ',
                                    VALE = -1.0275E-04, PRECISION = 1.E-3))
          )

#

RESU=CREA_RESU(OPERATION='AFFE',
                TYPE_RESU='EVOL_ELAS',
                NOM_CHAM='DEPL',
                AFFE=_F(INST=0.,
                        CHAM_GD=F,
                        ),
                );


RESU=CALC_ELEM(reuse=RESU, RESULTAT=RESU,
                MODELE=RGVMOD,
                INST=0.,
                CHAM_MATER=RGVMAT,
                OPTION='SIGM_ELNO_DEPL',
                )


#
# VALEUR DU TENSEUR DES CONTRAINTES
#
TEST_RESU(RESU=(  
#
#    POINT P1
#
_F(  RESULTAT = RESU, MAILLE = 'MA521', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO3025', NOM_CMP = 'SIXX', VALE = -8.443E+06, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA521', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO3025', NOM_CMP = 'SIYY', VALE = -2.183E+07, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA521', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO3025', NOM_CMP = 'SIZZ', VALE = -8.658E+06, PRECISION = 1.E-2),
#
#    POINT P2
#
_F(  RESULTAT = RESU, MAILLE = 'MA201', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO164',  NOM_CMP = 'SIXX', VALE = -8.443E+06, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA201', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO164',  NOM_CMP = 'SIYY', VALE = -2.183E+07, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA201', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO164',  NOM_CMP = 'SIZZ', VALE = -8.658E+06, PRECISION = 1.E-2),
#
#    POINT P3
#
_F(  RESULTAT = RESU, MAILLE = 'MA276', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO978',  NOM_CMP = 'SIXX', VALE = 9.690E+06, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA276', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO978',  NOM_CMP = 'SIYY', VALE = 2.458E+07, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA276', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO978',  NOM_CMP = 'SIZZ', VALE = 9.382E+06, PRECISION = 1.E-2),
#
#    POINT P4
#
_F(  RESULTAT = RESU, MAILLE = 'MA596', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO2824', NOM_CMP = 'SIXX', VALE = 9.690E+06, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA596', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO2824', NOM_CMP = 'SIYY', VALE = 2.458E+07, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA596', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO2824', NOM_CMP = 'SIZZ', VALE = 9.382E+06, PRECISION = 1.E-2),
#
#    POINT B2
#
_F(  RESULTAT = RESU, MAILLE = 'MA90', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO2614', NOM_CMP = 'SIXX', VALE = -2.03E+08, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA90', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO2614', NOM_CMP = 'SIYY', VALE = 4.4E+06, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA90', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO2614', NOM_CMP = 'SIZZ', VALE = -2.2E+08, PRECISION = 1.E-2),
#
#    POINT B3
#
_F(  RESULTAT = RESU, MAILLE = 'MA63', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO2426', NOM_CMP = 'SIXX', VALE = -1.07E+08, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA63', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO2426', NOM_CMP = 'SIYY', VALE = 1.30E+07, PRECISION = 1.E-2),
_F(  RESULTAT = RESU, MAILLE = 'MA63', INST=0., NOM_CHAM='SIGM_ELNO_DEPL',
            NOEUD = 'NO2426', NOM_CMP = 'SIZZ', VALE = -1.49E+08, PRECISION = 1.E-2))
         )

#
FIN()
#
