# MODIF  DATE 07/06/2002   AUTEUR DURAND C.DURAND 
# TITRE CYLINDRE CREUX THERMOELASTIQUE PESANT EN ROTATION UNIFORME
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================

DEBUT(CODE=_F( NOM = 'HPLA100B',NIV_PUB_WEB='INTERNET')
        )

#......................................................................
#
# MODELISATION COQUE_AXIS:   21 NOEUDS -- 10 MAILLES SEG3
#                            LOVE_KIRCHHOFF (KAPPA = 1.0E6)
#......................................................................
# POINTS:   F:     H:      J:
# GROUP_:  GRNO6  GRNO14  GRNO13
#
#        INTERNE    EXTERNE
#               J -         -
# !               !         !
#                 !         !
# !               !         !
#               H !         ! 10 MM
# !               !         !
#                 !         !
# !               !         !
#     20.0 MM   F +         -
# !-------------->
#======================================================================


MA=LIRE_MAILLAGE(  )

MA=DEFI_GROUP( reuse=MA,   MAILLAGE=MA,
  CREA_GROUP_MA=_F(  NOM = 'TOUT', TOUT = 'OUI'))

MO=AFFE_MODELE(  MAILLAGE=MA,
         AFFE=_F(  TOUT = 'OUI',PHENOMENE = 'MECANIQUE',
                           MODELISATION = 'COQUE_AXIS'))

MOTHER=AFFE_MODELE(  MAILLAGE=MA,
         AFFE=_F(  TOUT = 'OUI',PHENOMENE = 'THERMIQUE',
                           MODELISATION = 'COQUE_PLAN'))

E_TEMP=DEFI_FONCTION(NOM_PARA='TEMP',
                     VALE=(-1., 2.0E+05,
                            0., 2.0E+05,
                            1., 2.0E+05))

NU_FO=DEFI_CONSTANTE(VALE=0.3)

ALPHA_FO=DEFI_CONSTANTE(VALE=1.E-5)

MAT=DEFI_MATERIAU(ELAS=_F( E = 2.0E+5, NU = 0.3, RHO = 8.E-6, ALPHA = 1.E-5))


MATTH=DEFI_MATERIAU(ELAS_FO=_F( E = E_TEMP, NU = NU_FO, RHO = 8.E-6, 
                                ALPHA = ALPHA_FO, TEMP_DEF_ALPHA=0.))

MATHER=DEFI_MATERIAU(THER=_F( LAMBDA = 1.0, RHO_CP = 0.0) )


CHMAT=AFFE_MATERIAU(  MAILLAGE=MA,
                        AFFE=_F(  TOUT = 'OUI', MATER = MAT, TEMP_REF = 0.))

CHMATH=AFFE_MATERIAU(  MAILLAGE=MA,
                        AFFE=_F(  TOUT = 'OUI', MATER = MATTH, TEMP_REF = 0.))

CHMATHE=AFFE_MATERIAU(  MAILLAGE=MA,
                        AFFE=_F(  TOUT = 'OUI', MATER = MATHER))

CARE=AFFE_CARA_ELEM(   MODELE=MO,
                            COQUE=_F(  
       GROUP_MA = 'TOUT',
   EPAIS = 1.00,
                                  A_CIS = 1.E3,    MODI_METRIQUE = 'NON'))

CARETHE=AFFE_CARA_ELEM(   MODELE=MOTHER,
                           COQUE=_F( 
       GROUP_MA = 'TOUT',
   EPAIS = 1.00)       )

# ------------------------------------------------------------------
CHTHE=AFFE_CHAR_THER( 
            MODELE=MOTHER,TEMP_IMPO=(
        _F( GROUP_NO = ('GRNO6','GRNO13','GRNO14','GRNO15',),TEMP_SUP = 0.5),
        _F( GROUP_NO = ('GRNO6','GRNO13','GRNO14','GRNO15',),TEMP_INF = -0.5))
                       )

CHTH2=AFFE_CHAR_THER( 
            MODELE=MOTHER,TEMP_IMPO=(
        _F( GROUP_NO = ('GRNO6','GRNO13','GRNO14','GRNO15',),TEMP_SUP = 0.1),
        _F( GROUP_NO = ('GRNO6','GRNO13','GRNO14','GRNO15',),TEMP_INF = 0.1))
                       )

TEMPLIN=THER_LINEAIRE(
                  MODELE=MOTHER,
              CHAM_MATER=CHMATHE,
               CARA_ELEM=CARETHE,
                  EXCIT=_F( CHARGE = CHTHE)
                         )

TEMPLI2=THER_LINEAIRE(
                  MODELE=MOTHER,
              CHAM_MATER=CHMATHE,
               CARA_ELEM=CARETHE,
                  EXCIT=_F( CHARGE = CHTH2)
                         )

# ------------------------------------------------------------------

CHPES=AFFE_CHAR_MECA(  MODELE=MO,
          PESANTEUR=( 10.00,  0., -1.,   0., ),
         FORCE_NODALE=_F(  NOEUD = 'J',        FY = 160.E-4),
           DDL_IMPO=_F(  GROUP_NO = 'GRNO6',    DY = 0.) )

CHROT=AFFE_CHAR_MECA(  MODELE=MO,
           ROTATION=(  1.00,  0.,  1.,   0., ),DDL_IMPO=(
           _F(  GROUP_NO = 'GRNO6',    DY = 0., DRZ = 0.),
                    _F(  GROUP_NO = 'GRNO13',   DY = 0., DRZ = 0.)) )

CHDIL=AFFE_CHAR_MECA(  MODELE=MO,
           TEMP_CALCULEE=TEMPLIN,
           DDL_IMPO=_F(  GROUP_NO = 'GRNO15',   DY = 0., DRZ = 0.) )

CHDI2=AFFE_CHAR_MECA(  MODELE=MO,
           TEMP_CALCULEE=TEMPLI2,DDL_IMPO=(
           _F(  GROUP_NO = 'GRNO6',    DY = 0., DRZ = 0.),
                    _F(  GROUP_NO = 'GRNO13',   DY = 0., DRZ = 0.)) )

# ------------------------------------------------------------------
DEPLPES=MECA_STATIQUE(
                 MODELE=MO,
             CHAM_MATER=CHMAT,
              CARA_ELEM=CARE,
                  EXCIT=_F( CHARGE = CHPES),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
            NIVE_COUCHE='INF'
                        )

DEPLROT=MECA_STATIQUE(
                 MODELE=MO,
             CHAM_MATER=CHMAT,
              CARA_ELEM=CARE,
                  EXCIT=_F( CHARGE = CHROT),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
            NIVE_COUCHE='INF'
                        )

DEPLDIL=MECA_STATIQUE(
                 MODELE=MO,
             CHAM_MATER=CHMAT,
              CARA_ELEM=CARE,
                  EXCIT=_F( CHARGE = CHDIL),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
           NIVE_COUCHE='INF'
                        )

DEPLDILT=MECA_STATIQUE(
                 MODELE=MO,
             CHAM_MATER=CHMATH,
              CARA_ELEM=CARE,
                  EXCIT=_F( CHARGE = CHDIL),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
           NIVE_COUCHE='INF'
                        )

DEPLDI2=MECA_STATIQUE(
                 MODELE=MO,
             CHAM_MATER=CHMAT,
              CARA_ELEM=CARE,
                  EXCIT=_F( CHARGE = CHDI2),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
            NIVE_COUCHE='INF'
                        )

DEPLDI2T=MECA_STATIQUE(
                 MODELE=MO,
             CHAM_MATER=CHMATH,
              CARA_ELEM=CARE,
                  EXCIT=_F( CHARGE = CHDI2),
                 OPTION=('EFGE_ELNO_DEPL','SIGM_ELNO_DEPL',),
            NIVE_COUCHE='INF'
                        )

RELEVE_1=POST_RELEVE_T(   ACTION=_F(  GROUP_NO = 'GRNO14',
                                     INTITULE = 'EXT_TEMP',
                                     RESULTAT = TEMPLIN,
                                     NOM_CHAM = 'TEMP',
                                     TOUT_ORDRE = 'OUI',
                                     TOUT_CMP = 'OUI',
                                     OPERATION = 'EXTRACTION') )

RELEVE_2=POST_RELEVE_T(   ACTION=_F(  GROUP_NO = 'GRNO14',
                                     INTITULE = 'EXT_TEMP',
                                     RESULTAT = TEMPLI2,
                                     NOM_CHAM = 'TEMP',
                                     TOUT_ORDRE = 'OUI',
                                     TOUT_CMP = 'OUI',
                                     OPERATION = 'EXTRACTION') )

TABMASSE=POST_ELEM(        MODELE=MO,
                         CHAM_MATER=CHMAT,
                          CARA_ELEM=CARE,
                          MASS_INER=_F(  TOUT = 'OUI')
                     )

#---------------------------------------------------------------------

TEST_RESU(RESU=(
              
      # DEPLACEMENTS
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
              NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               GROUP_NO = 'GRNO13',   NOM_CMP = 'DX',     VALE = -2.40000E-8),
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
              NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               GROUP_NO = 'GRNO14',   NOM_CMP = 'DY',     VALE = 5.00000E-9),
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
              NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               GROUP_NO = 'GRNO14',   NOM_CMP = 'DRZ',    VALE = 2.40000E-9),
             _F(  RESULTAT = DEPLROT,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
               NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               GROUP_NO = 'GRNO6',    NOM_CMP = 'DX',     VALE = 2.91200E-7),
             _F(  RESULTAT = DEPLDI2,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
               NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               GROUP_NO = 'GRNO6',    NOM_CMP = 'DX',     VALE = 26.0000E-6), 
             _F(  RESULTAT = DEPLDI2T,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
               NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
               GROUP_NO = 'GRNO6',    NOM_CMP = 'DX',     VALE = 26.0000E-6),

    # EFFORTS GENERALISES
             _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
            NUME_ORDRE = 1,     MAILLE = 'M10', NOM_CHAM = 'EFGE_ELNO_DEPL',
               GROUP_NO = 'GRNO13',   NOM_CMP = 'NXX',   VALE = 8.00000E-4),
             _F(  RESULTAT = DEPLROT,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
            NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'EFGE_ELNO_DEPL',
               GROUP_NO = 'GRNO6',    NOM_CMP = 'NXX',   VALE = 0.96000E-3),
             _F(  RESULTAT = DEPLDIL,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
            NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'EFGE_ELNO_DEPL',
               GROUP_NO = 'GRNO6',    NOM_CMP = 'MXX',   VALE = -2.38095E-1),
             _F(  RESULTAT = DEPLDI2,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
            NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'EFGE_ELNO_DEPL',
               GROUP_NO = 'GRNO6',    NOM_CMP = 'NXX',   VALE = -0.20000E+0),
             _F(  RESULTAT = DEPLDILT,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
            NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'EFGE_ELNO_DEPL',
               GROUP_NO = 'GRNO6',    NOM_CMP = 'MXX',   VALE = -2.38095E-1),
             _F(  RESULTAT = DEPLDI2T,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
            NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'EFGE_ELNO_DEPL',
               GROUP_NO = 'GRNO6',    NOM_CMP = 'NXX',   VALE = -0.20000E+0),

     # CONTRAINTES EN PEAU EXTERNE
            _F(  RESULTAT = DEPLPES,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
            NUME_ORDRE = 1,     MAILLE = 'M10', NOM_CHAM = 'SIGM_ELNO_DEPL',
              GROUP_NO = 'GRNO13',   NOM_CMP = 'SIXX',  VALE = 8.00000E-4),
            _F(  RESULTAT = DEPLROT,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
            NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'SIGM_ELNO_DEPL',
              GROUP_NO = 'GRNO6',    NOM_CMP = 'SIXX',  VALE = 0.96000E-3),
            _F(  RESULTAT = DEPLDIL,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
             NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'SIGM_ELNO_DEPL',
              GROUP_NO = 'GRNO6',    NOM_CMP = 'SIXX',  VALE = 1.428571E+0),
            _F(  RESULTAT = DEPLDI2,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
             NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'SIGM_ELNO_DEPL',
              GROUP_NO = 'GRNO6',    NOM_CMP = 'SIXX',  VALE = -0.20000E+0),
            _F(  RESULTAT = DEPLDILT,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
             NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'SIGM_ELNO_DEPL',
              GROUP_NO = 'GRNO6',    NOM_CMP = 'SIXX',  VALE = 1.428571E+0),
            _F(  RESULTAT = DEPLDI2T,  CRITERE = 'RELATIF',   PRECISION = 2.E-5,
             NUME_ORDRE = 1,     MAILLE = 'M1',  NOM_CHAM = 'SIGM_ELNO_DEPL',
              GROUP_NO = 'GRNO6',    NOM_CMP = 'SIXX',  VALE = -0.20000E+0))
            )

#   

TEST_TABLE( 
                      TABLE=TABMASSE,
                   NOM_PARA='MASSE',
                       VALE=1.005312E-02,   
                  PRECISION=1.0E-05
               )

FIN()
#
