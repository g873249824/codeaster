# MODIF  DATE 20/10/2008   AUTEUR MICHEL S.MICHEL 

# TITRE COUPLAGE FLUAGE PROPRE (MODELE UMLV) ET MAZARS
# ssnv169f.para = tps_job 240 mem_job 128Mo ncpus 1 liste_test S
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2008  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================
# ======================================================================
# ----------------------------------------------------------------
# MODELISATION C_PLAN : COUPLAGE FLUAGE PROPRE UMLV ET MAZARS
# ----------------------------------------------------------------

DEBUT(CODE=_F(NOM='SSNV169F',NIV_PUB_WEB='INTERNET',VISU_EFICAS='NON'));

heure = 3600.
jour = 24. * heure
annee = 365.25 * jour
mois = annee/12.

MAIL = LIRE_MAILLAGE();

MAIL = DEFI_GROUP(MAILLAGE=MAIL,
                  reuse = MAIL,
                  CREA_GROUP_NO = (_F(GROUP_MA = 'A1'),
                                   _F(GROUP_MA = 'A3'),
                                   _F(GROUP_MA = 'Q'),
                                   ),
                  );
                  
MODELE = AFFE_MODELE(MAILLAGE = MAIL,
                     AFFE = (_F(GROUP_MA = ('Q','A1'),                  
                             PHENOMENE = 'MECANIQUE',
                             MODELISATION = 'C_PLAN',),
                             ),
                     );

# DEFINITION DU MATERIAU                     
FONC1 = DEFI_FONCTION(NOM_PARA = 'SECH',
                      PROL_DROITE = 'LINEAIRE',
                      PROL_GAUCHE = 'LINEAIRE',
                      VALE = (0.0, 1.0, 1.0e+10, 1.0),
                      );
                             
E = DEFI_FONCTION(NOM_PARA = 'TEMP',
                      PROL_DROITE = 'LINEAIRE',
                      PROL_GAUCHE = 'LINEAIRE',
                      VALE = (0.0, 31000, 1.0e+10, 31000),
                      );

NU = DEFI_FONCTION(NOM_PARA = 'TEMP',
                      PROL_DROITE = 'LINEAIRE',
                      PROL_GAUCHE = 'LINEAIRE',
                      VALE = (0.0, 0.2, 1.0e+10, 0.2),
                      );                      

ALPHA = DEFI_CONSTANTE(VALE=0.);

BETON = DEFI_MATERIAU(ELAS_FO = _F(E = E,
                                   NU = NU,
                                   FONC_DESORP = FONC1,
                                   ALPHA = ALPHA ,
                                   TEMP_DEF_ALPHA=20.,
                                   ),
                      MAZARS = _F (EPSD0 = 5.6E-5,
                                   AT = 0.831,
                                   BT = 21330.,
                                   AC = 1.15,
                                   BC = 1390.,
                                   BETA = 1.,
                                   CHI = 0.6,
                                   ),
                      BETON_UMLV_FP = _F( 
                                   K_RS  = 6.0E+4,
                                   ETA_RS = 1.E+10,
                                   K_IS = 3.0E+4,
                                   ETA_IS = 2.4E+10,
                                   K_RD = 3.4E+4,
                                   ETA_RD = 4.08E+11,
                                   ETA_ID = 5.44E+12,
                                   ),
                       );                                                                 

TEMP = CREA_CHAMP(OPERATION = 'AFFE',
                  TYPE_CHAM = 'NOEU_TEMP_R',
                  MAILLAGE = MAIL,
                  AFFE = _F(TOUT = 'OUI',
                            NOM_CMP = 'TEMP',
                            VALE = 20.,),
                  );

SECH = CREA_CHAMP(OPERATION = 'AFFE',
                  TYPE_CHAM = 'NOEU_TEMP_R',
                  MAILLAGE = MAIL,
                  AFFE = _F(TOUT = 'OUI',
                            NOM_CMP = 'TEMP',
                            VALE = 1.,),
                  );
                                    
CAR_MAT = AFFE_MATERIAU(
                        MAILLAGE = MAIL,
                        AFFE = _F(MATER = BETON,
                                  TOUT = 'OUI',
                                  ),
                   AFFE_VARC = (_F(TOUT = 'OUI',
                                   CHAMP_GD = SECH,
                                   NOM_VARC = 'SECH',
                                   VALE_REF = 1.),
                                _F(TOUT = 'OUI',
                                   CHAMP_GD = TEMP,
                                   NOM_VARC = 'TEMP',
                                   VALE_REF = 20.),
                                 ),
                           );
                                                    
# CONDITIONS AUX LIMITS                 

formax = -1.736
rap_pic = 0.80
fortot = rap_pic * formax

FORCE = DEFI_FONCTION(NOM_PARA = 'INST',
                         PROL_DROITE = 'LINEAIRE',
                         PROL_GAUCHE = 'LINEAIRE',
                         VALE = (0.0, 0.0, 300., fortot, annee, fortot),
                         )
                      

CHAR1 = AFFE_CHAR_MECA_F(MODELE = MODELE,                
                         FORCE_CONTOUR = _F(GROUP_MA = 'A1',
                                            FX = FORCE,),
                         );

CLIM1 = AFFE_CHAR_MECA(MODELE = MODELE,
                     DDL_IMPO = _F( GROUP_NO = ('P4','P1',),
                                    DY       = 0.,
                                   ),
                     ) ;

CLIM2 = AFFE_CHAR_MECA(MODELE = MODELE,
                     DDL_IMPO = _F( GROUP_NO = 'A3',
                                    DX       = 0.,
                                   ),
                     ) ;
                                                                                     

L_INS = DEFI_LIST_REEL( DEBUT = -1.0,
                        INTERVALLE = (                         
                                      _F(JUSQU_A = 0., NOMBRE = 1,),
                                      _F(JUSQU_A = 300, NOMBRE = 4,),
                                      _F(JUSQU_A = 864000., NOMBRE = 20,),                                      
                                      _F(JUSQU_A = 2300000., NOMBRE = 20,),
                                      _F(JUSQU_A = 2500000., NOMBRE = 40,),
                                      ),
                          );
                          
# SOLUTION : ANALYSE QUASI STATIQUE                          

RESU = STAT_NON_LINE(CHAM_MATER = CAR_MAT,
                     MODELE = MODELE,
                     EXCIT = (_F(CHARGE = CHAR1),
                              _F(CHARGE = CLIM1),
                              _F(CHARGE = CLIM2),                              
                              ),
                     COMP_INCR = _F(RELATION = 'KIT_DDI',
                                    RELATION_KIT = ('BETON_UMLV_FP', 'MAZARS'),
                                    DEFORMATION = 'PETIT',
                                    GROUP_MA = 'Q'),
                     INCREMENT = _F(LIST_INST = L_INS,
                                    INST_FIN = 2500000.,
                                    SUBD_METHODE  = 'UNIFORME',                                 
                                    SUBD_NIVEAU = 4,
                                    ),
                     NEWTON = _F(PREDICTION = 'TANGENTE',
                                 MATRICE = 'TANGENTE',
                                 REAC_ITER = 1,
                                 ),
                     CONVERGENCE = _F(
                                 RESI_GLOB_RELA = 1.E-5,
                                 ITER_GLOB_MAXI = 100,
                                     ),
                         );
         
TEST_RESU(RESU=(
      _F( RESULTAT = RESU,
          NOM_CHAM = 'SIEF_ELGA',
          MAILLE = 'M1',
          POINT = 1,
          NUME_ORDRE = 88,
          NOM_CMP = 'SIXX',
          VALE = 1.38879E+00,
          PRECISION = 0.0001,
          REFERENCE = 'NON_REGRESSION'),
      _F( RESULTAT = RESU,
          NOM_CHAM = 'DEPL',
          NOEUD = 'N1',
          NUME_ORDRE = 88,
          NOM_CMP = 'DX',
          VALE = -6.35493E-03,
          PRECISION = 0.0001,
          REFERENCE = 'NON_REGRESSION'),
      _F( RESULTAT = RESU,
          NOM_CHAM = 'VARI_ELGA',
          MAILLE = 'M1',
          POINT = 1,
          NUME_ORDRE = 88,
          NOM_CMP = 'V22',
          VALE = 3.59765E-02,
          PRECISION = 0.0001,
          REFERENCE = 'NON_REGRESSION'),
      _F( RESULTAT = RESU,
          NOM_CHAM = 'VARI_ELGA',
          MAILLE = 'M1',
          POINT = 1,
          NUME_ORDRE = 88,
          NOM_CMP = 'V3',
          VALE = 5.31439E-06,
          PRECISION = 0.0001,
          REFERENCE = 'NON_REGRESSION'), ),)
                 
FIN();



