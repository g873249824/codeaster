# MODIF  DATE 29/05/2002   AUTEUR DURAND C.DURAND 
# RESPONSABLE ADBHHPM P.MASSIN
# DATE   : 08/06/2000
# AUTEUR : F. LEBOUVIER (DELTACAD)
# TITRE  : CYLINDRE ORTHOTROPE COURT SOUMIS A UNE LIGNE DE CHARGE 
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#---------------------------------------------------------------------
#  - CALCUL QUASI-STATIQUE D'UN CYLINDRE LONG REPOSANT A SES 
#    EXTREMITES SUR DES DIAPHRAGMES RIGIDES
#  - MODELISATION AVEC DES ELEMENTS 'DKT'(TRIA3) '
#---------------------------------------------------------------------
#

DEBUT(CODE=_F(NOM='SSLS502C',NIV_PUB_WEB='INTERNET'),);
PRE_GIBI();
MAIL=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='NON'),);
MO=AFFE_MODELE(AFFE=_F(TOUT='OUI',
                       PHENOMENE='MECANIQUE',
                       MODELISATION='DKT',),
               MAILLAGE=MAIL,);
MAIL=DEFI_GROUP(reuse =MAIL,
                MAILLAGE=MAIL,
                CREA_GROUP_NO=_F(OPTION='NOEUD_ORDO',
                                 GROUP_MA='CD',
                                 NOM='CD',
                                 GROUP_NO_EXTR='D',
                                 GROUP_NO_ORIG='C',),);
CAR_ELE=AFFE_CARA_ELEM(MODELE=MO,
                       COQUE=_F(ANGL_REP=(0.0,0.0),
                                GROUP_MA='TOUT_ELT',
                                EPAIS=6.1E-3,),);
MAT=DEFI_MATERIAU(ELAS_COQUE=_F(CISA_T=1.E10,
                                CISA_L=1.E10,
                                MEMB_G_LT=7.625000E6,
                                FLEX_LT=20.89738407,
                                MEMB_T=1.13441700E8,
                                FLEX_L=57.96338137,
                                MEMB_LT=6.739280E6,
                                FLEX_T=351.7638047,
                                FLEX_G_LT=23.64385417,
                                MEMB_L=1.8692840E7,),);
CHAM_MAT=AFFE_MATERIAU(AFFE=_F(MATER=MAT,
                               TOUT='OUI',),
                       MAILLAGE=MAIL,);
CHA=AFFE_CHAR_MECA(DDL_IMPO=(_F(GROUP_MA='BA',
                                DZ=0.0,
                                DX=0.0,
                                DRY=0.0,),
                             _F(GROUP_MA=('AD','BC'),
                                DX=0.0,
                                DRZ=0.0,
                                DRY=0.0,),
                             _F(GROUP_MA='CD',
                                DY=0.0,
                                DRZ=0.0,
                                DRX=0.0,),),
                   MODELE=MO,
                   FORCE_ARETE=_F(GROUP_MA='BC',
                                  FZ=-448.276,),);
RESU=MECA_STATIQUE(CHAM_MATER=CHAM_MAT,
                   MODELE=MO,
                   CARA_ELEM=CAR_ELE,
                   EXCIT=_F(CHARGE=CHA,),);
RESU=CALC_ELEM(reuse =RESU,
               NIVE_COUCHE='SUP',
               RESULTAT=RESU,
               NUME_COUCHE=1,
               CHAM_MATER=CHAM_MAT,
               MODELE=MO,
               CARA_ELEM=CAR_ELE,
               OPTION='SIGM_ELNO_DEPL',
               TOUT_ORDRE='OUI',);
DEP_DZ=POST_RELEVE_T(ACTION=_F(OPERATION='EXTRACTION',
                               INTITULE='TAB_DZ ',
                               GROUP_NO='CD',
                               NOM_CMP='DZ',
                               RESULTAT=RESU,
                               NOM_CHAM='DEPL',),);
DEP_NORM=POST_RELEVE_T(ACTION=_F(AXE_Z=(0.0,1.0,0.0),
                                 OPERATION='EXTRACTION',
                                 ORIGINE=(0.0,0.0,0.0),
                                 REPERE='CYLINDRIQUE',
                                 INTITULE='TAB_NORM',
                                 GROUP_NO='CD',
                                 NOM_CMP=('DX','DY','DZ'),
                                 RESULTAT=RESU,
                                 NOM_CHAM='DEPL',),);
SIGMA=POST_RELEVE_T(ACTION=_F(OPERATION='EXTRACTION',
                              INTITULE='TAB_SIGM ',
                              TOUT_CMP='OUI',
                              GROUP_NO='CD',
                              RESULTAT=RESU,
                              NOM_CHAM='SIGM_ELNO_DEPL',),);
DEPZ=RECU_FONCTION(TABLE=DEP_DZ,
                   PARA_Y='DZ',
                   PARA_X='ABSC_CURV',);
DEPNOR=RECU_FONCTION(TABLE=DEP_NORM,
                     PARA_Y='DX',
                     PARA_X='ABSC_CURV',);
SIGX=RECU_FONCTION(TABLE=SIGMA,
                   PARA_Y='SIXX',
                   PARA_X='ABSC_CURV',); 
SIGY=RECU_FONCTION(TABLE=SIGMA,
                   PARA_Y='SIYY',
                   PARA_X='ABSC_CURV',);

IMPR_COURBE(COURBE=(_F(FONCTION=DEPZ,),
                    _F(FONCTION=DEPNOR,),),
            FICHIER='AGRAF',
            FORMAT='AGRAF',
            TITRE_GRAPHIQUE='dep_norm fonction de abscisse curviligne',);
IMPR_COURBE(COURBE=_F(FONCTION=SIGX,),
FICHIER='AGRAF',
FORMAT='AGRAF',
TITRE_GRAPHIQUE='sigma XX fonction de abscisse curviligne',); 
IMPR_COURBE(COURBE=_F(FONCTION=SIGY,),
FICHIER='AGRAF',
FORMAT='AGRAF',
TITRE_GRAPHIQUE='sigma YY fonction de abscisse curviligne',);
IMPR_RESU(RESU=_F(MAILLAGE=MAIL,
FORMAT='CASTEM',
RESULTAT=RESU,
NOM_CHAM=('DEPL','SIGM_ELNO_DEPL'),),
MODELE=MO,);
IMPR_TABLE(TABLE=SIGMA,
NOM_PARA=('NOEUD','SIXX','SIYY'),
FORMAT='MOT_CLE',);
#
#---------------------------------------------------------------------
#          TEST REFERENCE EXPERIMENTALE 
#---------------------------------------------------------------------
#
TEST_RESU(RESU=(_F(NOM_CHAM='DEPL',
                   RESULTAT=RESU,
                   PRECISION=0.05,
                   VALE=1.35E-3,
                   GROUP_NO='F',
                   NOM_CMP='DX',
                   NUME_ORDRE=1,),
_F(NOM_CHAM='DEPL',
RESULTAT=RESU,
PRECISION=0.05,
VALE=-2.46E-3,
GROUP_NO='C',
NOM_CMP='DZ',
NUME_ORDRE=1,),
_F(NOM_CHAM='DEPL',
RESULTAT=RESU,
PRECISION=0.52,
VALE=0.35E-03,
GROUP_NO='D',
NOM_CMP='DZ',
NUME_ORDRE=1,),),);
TEST_RESU(RESU=_F(RESULTAT=RESU,
MAILLE='M368',
NUME_ORDRE=1,
NOM_CHAM='SIGM_ELNO_DEPL',
GROUP_NO='F',
NOM_CMP='SIXX',
VALE=1.9E6,
PRECISION=0.15,),);
TEST_RESU(RESU=_F(RESULTAT=RESU,
MAILLE='M368',
NUME_ORDRE=1,
NOM_CHAM='SIGM_ELNO_DEPL',
GROUP_NO='F',
NOM_CMP='SIYY',
VALE=1.55E6,
PRECISION=0.15,),);
#
#---------------------------------------------------------------------
#          TEST REFERENCE BATOZ
#---------------------------------------------------------------------
#
TEST_RESU(RESU=(_F(NOM_CHAM='DEPL',
RESULTAT=RESU,
PRECISION=0.1,
VALE=1.325E-3,
GROUP_NO='F',
NOM_CMP='DX',
NUME_ORDRE=1,),
_F(NOM_CHAM='DEPL',
RESULTAT=RESU,
PRECISION=0.05,
VALE=-2.45E-3,
GROUP_NO='C',
NOM_CMP='DZ',
NUME_ORDRE=1,),
_F(NOM_CHAM='DEPL',
RESULTAT=RESU,
PRECISION=0.05,
VALE=0.51E-03,
GROUP_NO='D',
NOM_CMP='DZ',
NUME_ORDRE=1,),),);
#
#---------------------------------------------------------------------
#              TEST SIGMA
#---------------------------------------------------------------------
#
TEST_RESU(RESU=(_F(RESULTAT=RESU,
MAILLE='M368',
NUME_ORDRE=1,
NOM_CHAM='SIGM_ELNO_DEPL',
GROUP_NO='F',
NOM_CMP='SIXX',
VALE=1.68E6,
PRECISION=0.05,),
_F(RESULTAT=RESU,
MAILLE='M368',
NUME_ORDRE=1,
NOM_CHAM='SIGM_ELNO_DEPL',
GROUP_NO='F',
NOM_CMP='SIYY',
VALE=1.8E6,
PRECISION=0.01,),),);
FIN();
