# MODIF  DATE 13/01/2011   AUTEUR PELLET J.PELLET 
# TITRE SIMULATION D'UNE PLAQUE TROUEE EN ELASTICITE AVEC LA METHODE ARLEQUIN - MODELE DE REFERENCE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2011  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================

DEBUT(CODE=_F(NOM='SSNP135A',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))


PRE_GMSH();

MAIL=LIRE_MAILLAGE();

MOD=AFFE_MODELE(MAILLAGE=MAIL,
                VERIF='MAILLE',
                AFFE=_F(TOUT='OUI',
                        PHENOMENE='MECANIQUE',
                        MODELISATION='C_PLAN',),);

MATER=DEFI_MATERIAU(ELAS=_F(E=1000.0,
                            NU=0.3,),);

CHMATER=AFFE_MATERIAU(MAILLAGE=MAIL,
                      AFFE=_F(TOUT='OUI',
                              MATER=MATER,),);

SYMET=AFFE_CHAR_MECA(MODELE=MOD,
                     FACE_IMPO=(_F(GROUP_MA='GM27',
                                   DY=0.0,),
                                _F(GROUP_MA='GM29',
                                   DX=0.0,),),);
F_Y = 1;


EFFORT=AFFE_CHAR_MECA(MODELE=MOD,
                      FORCE_CONTOUR=_F(GROUP_MA='GM26',
                                       FY=F_Y,),);

RESU=MECA_STATIQUE(MODELE=MOD,
                   CHAM_MATER=CHMATER,
                   EXCIT=(_F(CHARGE=SYMET,),
                          _F(CHARGE=EFFORT,),),);
#### POST-TRAITEMENT

RESU=CALC_ELEM(reuse =RESU,
               RESULTAT=RESU,
               OPTION=('SIEF_ELNO','EQUI_ELNO_SIGM',),);

RESU=CALC_NO(reuse =RESU,
             RESULTAT=RESU,
             OPTION=('SIEF_NOEU','EQUI_NOEU_SIGM',),);

# SIGMA THETA AU BORD DU TROU

CERCLE=INTE_MAIL_2D(MAILLAGE=MAIL,
                    DEFI_CHEMIN=_F(GROUP_MA='GM28',),);

STHETA=POST_RELEVE_T(ACTION=_F(INTITULE='STHETA',
                               CHEMIN=CERCLE,
                               RESULTAT=RESU,
                               NOM_CHAM='SIEF_ELNO',
                               NOM_CMP=('SIXX','SIYY','SIXY',),
                               REPERE='POLAIRE',
                               OPERATION='EXTRACTION',),);

# DEPLACEMENTS

HAUT=INTE_MAIL_2D(MAILLAGE=MAIL,
                    DEFI_CHEMIN=_F(GROUP_MA='GM26',),);

DPL_H=POST_RELEVE_T(ACTION=_F(INTITULE='STHETA',
                               CHEMIN=HAUT,
                               RESULTAT=RESU,
                               NOM_CHAM='DEPL',
                               NOM_CMP=('DY',),
                               OPERATION='EXTRACTION',),);

# CONTRAINTES
# DEUX COMPARAISONS: ANALYTIQUE, NON-REGRESSION

sigth1 = 3.0
signr1 = 3.0227530112651E+00

TEST_TABLE(TABLE=STHETA,
           FILTRE = _F(NOM_PARA='COOR_X',VALE=1.00000E+01),
           NOM_PARA='SIYY',
           VALE = sigth1,
           REFERENCE= 'ANALYTIQUE',
           CRITERE = 'RELATIF',
           PRECISION = 0.008,);

TEST_TABLE(TABLE=STHETA,
           FILTRE = _F(NOM_PARA='COOR_X',VALE=1.00000E+01),
           NOM_PARA='SIYY',
           VALE = signr1,
           REFERENCE= 'NON_REGRESSION',
           VERSION  = '8.3.20',
           CRITERE = 'RELATIF',
           PRECISION = 1E-12,);


sigth2 = -1.0
signr2 = -9.6603433411615E-01

TEST_TABLE(TABLE=STHETA,
           FILTRE = _F(NOM_PARA='COOR_Y',VALE=1.00000E+01),
           NOM_PARA='SIYY',
           VALE = sigth2,
           REFERENCE= 'ANALYTIQUE',
           CRITERE = 'RELATIF',
           PRECISION = 0.035,);

TEST_TABLE(TABLE=STHETA,
           FILTRE = _F(NOM_PARA='COOR_Y',VALE=1.00000E+01),
           NOM_PARA='SIYY',
           VALE = signr2,
           REFERENCE= 'NON_REGRESSION',
           VERSION  = '8.3.20',
           CRITERE = 'RELATIF',
           PRECISION = 1E-12,);


# DEPLACEMENTS
# UNE COMPARAISON: NON-REGRESSION

depnr1 = 1.5106657426360E-01


TEST_TABLE(TABLE=DPL_H,
           FILTRE = _F(NOM_PARA='COOR_X',VALE=1.00000E+02),
           NOM_PARA='DY',
           VALE = depnr1,
           REFERENCE= 'NON_REGRESSION',
           VERSION  = '8.3.20',
           CRITERE = 'RELATIF',
           PRECISION = 1E-12,);

depnr2 = 1.5328757309400E-01

TEST_TABLE(TABLE=DPL_H,
           FILTRE = _F(NOM_PARA='COOR_X',VALE=0.00000E+02),
           NOM_PARA='DY',
           VALE = depnr2,
           REFERENCE= 'NON_REGRESSION',
           VERSION  = '8.3.20',
           CRITERE = 'RELATIF',
           PRECISION = 1E-12,);

FIN();
