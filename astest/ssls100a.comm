# MODIF  DATE 22/10/2007   AUTEUR PELLET J.PELLET 
# TITRE PLAQUE CIRCULAIRE ENCASTREE SOUS PRESSION DKT    50 N - 76 TRIA3
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================

DEBUT(CODE=_F(NOM='SSLS100A',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

#-----------------------------------------------------------------------
# POINTS: O     MAILLES  M30  M33
#         A              M76
#         B              M39  M40  M51
#         C              M1
#         D              M55  M56  M65
#         E              M8   M17  M18
#         F              M34  M35  M37  M41  M46  M47  M48
#-----------------------------------------------------------------------


MATER=DEFI_MATERIAU(  ELAS=_F(  E = 1.,      NU = 0.3) )

MAILL=LIRE_MAILLAGE(   )

MAILL=DEFI_GROUP( reuse=MAILL,   MAILLAGE=MAILL,
                          CREA_GROUP_MA=_F(  NOM = 'TOUT', TOUT = 'OUI'))

MAILL=DEFI_GROUP( reuse=MAILL,
     MAILLAGE=MAILL,
     CREA_GROUP_MA=_F(  NOM = 'COQUE',
                   MAILLE = ( 'M1', 'M2', 'M3', 'M4', 'M5', 'M6', 'M7', 'M8', 'M9', 'M10', 'M11', 'M12',
                     'M13', 'M14', 'M15', 'M16', 'M17', 'M18', 'M19', 'M20', 'M21', 'M22', 'M23', 'M24',
                     'M25', 'M26', 'M27', 'M28', 'M29', 'M30', 'M31', 'M32', 'M33', 'M34', 'M35', 'M36',
                     'M37', 'M38', 'M39', 'M40', 'M41', 'M42', 'M43', 'M44', 'M45', 'M46', 'M47', 'M48',
                     'M49', 'M50', 'M51', 'M52', 'M53', 'M54', 'M55', 'M56', 'M57', 'M58', 'M59', 'M60',
                     'M61', 'M62', 'M63', 'M64', 'M65', 'M66', 'M67', 'M68', 'M69', 'M70', 'M71', 'M72',
                     'M73', 'M74', 'M75', 'M76', )) )

CHMAT=AFFE_MATERIAU(   MAILLAGE=MAILL,
                           AFFE=_F(  TOUT = 'OUI',   MATER = MATER) )

MODEL=AFFE_MODELE(     MAILLAGE=MAILL,    VERIF='MAILLE',
                           AFFE=_F( TOUT = 'OUI',   MODELISATION = 'DKT',
                                PHENOMENE = 'MECANIQUE') )

MAILL=MODI_MAILLAGE( reuse=MAILL,
                       MAILLAGE=MAILL,
     ORIE_NORM_COQUE=_F(  GROUP_MA = 'COQUE') )

CHARGE=AFFE_CHAR_MECA(  MODELE=MODEL,DDL_IMPO=(
              _F( GROUP_NO = 'GRNO_ABC', DX = 0.,  DY = 0.,  DZ = 0.,
                                          DRX = 0.,  DRY = 0.,  DRZ = 0.),
                       _F( GROUP_NO = 'GRNO_OA',  DY = 0.,  DRX = 0.,  DRZ = 0.),
                       _F( GROUP_NO = 'GRNO_OC',  DX = 0.,  DRY = 0.,  DRZ = 0.),
                       _F( NOEUD = 'O',        DX = 0.,  DY = 0.,
                                          DRX = 0.,  DRY = 0.,  DRZ = 0.)),
               FORCE_COQUE=_F(  TOUT = 'OUI',   PRES = 1.) )

CARELEM=AFFE_CARA_ELEM(   MODELE=MODEL,
                       COQUE=_F( GROUP_MA = 'TOUT',
                                 EPAIS = 0.1,
                                 ANGL_REP = (0., 0.,)))

RESU=MECA_STATIQUE(    MODELE=MODEL,       CHAM_MATER=CHMAT,
                               CARA_ELEM=CARELEM,
                               EXCIT=_F(  CHARGE = CHARGE)       )

TEST_RESU(RESU=(
          # DEPLACEMENTS

     # O
            _F(  RESULTAT = RESU,       NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
              CRITERE = 'RELATIF',  PRECISION = 1.E-2,
REFERENCE='ANALYTIQUE', NOEUD = 'O', NOM_CMP = 'DZ', VALE = -170.6251),
     # A
            _F(  RESULTAT = RESU,       NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
              CRITERE = 'ABSOLU',   PRECISION = 1.E-10,
REFERENCE='ANALYTIQUE', NOEUD = 'A', NOM_CMP = 'DZ', VALE = 0.),
     # B
            _F(  RESULTAT = RESU,       NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
              CRITERE = 'ABSOLU',   PRECISION = 1.E-10,
REFERENCE='ANALYTIQUE', NOEUD = 'B',          NOM_CMP = 'DZ',    VALE = 0.),
     # C
            _F(  RESULTAT = RESU,       NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
              CRITERE = 'ABSOLU',   PRECISION = 1.E-10,
REFERENCE='ANALYTIQUE', NOEUD = 'C',          NOM_CMP = 'DZ',    VALE = 0.),
     # D
            _F(  RESULTAT = RESU,       NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
              CRITERE = 'RELATIF',  PRECISION = 0.5E-2,
REFERENCE='ANALYTIQUE', NOEUD = 'D', NOM_CMP = 'DZ', VALE = -95.9766),
     # E
            _F(  RESULTAT = RESU,       NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
              CRITERE = 'RELATIF',  PRECISION = 0.5E-2,
REFERENCE='ANALYTIQUE', NOEUD = 'E',          NOM_CMP = 'DZ',    VALE = -95.9766),
     # F
            _F(  RESULTAT = RESU,       NUME_ORDRE = 1,     NOM_CHAM = 'DEPL',
              CRITERE = 'RELATIF',  PRECISION = 0.5E-2,
REFERENCE='ANALYTIQUE', NOEUD = 'F',          NOM_CMP = 'DZ',    VALE = -78.897))
          )

RESU=CALC_ELEM(reuse=RESU,     RESULTAT=RESU,
                        REPE_COQUE=_F(NIVE_COUCHE='SUP',),
                             OPTION='EFGE_ELNO_DEPL' )

RESU=CALC_ELEM(reuse=RESU,     RESULTAT=RESU,
                        REPE_COQUE=_F(NIVE_COUCHE='SUP',),
                             OPTION='SIGM_ELNO_DEPL' )

EFFORT=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='ELNO_SIEF_R',
NOM_CHAM='EFGE_ELNO_DEPL', RESULTAT=RESU,
                       NUME_ORDRE=1                )

#--------------------------------------------------------------------
RELEVE_1=POST_RELEVE_T( ACTION=(
                   _F(  NOEUD = ( 'O',  'A',  'B',  'C',  'D',  'E',  'F', ),
                            INTITULE = 'EFFORT',
                            CHAM_GD = EFFORT,
                            NOM_CMP = ( 'MXX', 'MYY', ),
                            OPERATION = 'EXTRACTION'),
                   _F(  NOEUD = ( 'O',  'A',  'B',  'C',  'D',  'E',  'F', ),
                            INTITULE = 'DEPL',
                            RESULTAT = RESU,
                            NUME_ORDRE = 1,
                            NOM_CHAM = 'DEPL',
                            NOM_CMP = ( 'DX', 'DY', ),
                            OPERATION = 'EXTRACTION'))
                          )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'O'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.5E-2,
                      VALE=-0.08125       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'O'),
                  NOM_PARA='MYY',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.5E-2,
                      VALE=-0.08125       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'A'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.0E-2,
                      VALE=0.1250       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'A'),
                  NOM_PARA='MYY',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.0E-2,
                      VALE=0.0375       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'B'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=5.0E-2,
                      VALE=0.08125       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'B'),
                  NOM_PARA='MYY',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=5.0E-2,
                      VALE=0.08125       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'C'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.0E-2,
                      VALE=0.0375       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'C'),
                  NOM_PARA='MYY',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.0E-2,
                      VALE=0.1250       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'D'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=7.0E-2,
                      VALE=-0.02969       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'D'),
                  NOM_PARA='MYY',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=3.5E-2,
                      VALE=-0.05156       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'E'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=3.5E-2,
                      VALE=-0.05156       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'E'),
                  NOM_PARA='MYY',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=7.0E-2,
                      VALE=-0.02969       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'F'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.5E-2,
                      VALE=-0.02925       )

TEST_TABLE(       TABLE=RELEVE_1,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'F'),
                  NOM_PARA='MYY',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=2.5E-2,
                      VALE=-0.02925       )

#--------------------------------------------------------------------
RELEVE_2=POST_RELEVE_T(
                   ACTION=_F(  NOEUD = ( 'O',  'A',  'B',  'C',  'D',  'E',  'F', ),
                            INTITULE = 'EFFORT',
                            MOYE_NOEUD = 'NON',
                            CHAM_GD = EFFORT,
                            NOM_CMP = ( 'MXX', 'MYY', ),
                            OPERATION = 'EXTRACTION')
                          )

TEST_TABLE(       TABLE=RELEVE_2,FILTRE=(
                    _F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'O'),
                           _F(  NOM_PARA = 'MAILLE',
                             VALE_K = 'M30')),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.5E-2,
                      VALE=-8.01747E-02      )

TEST_TABLE(       TABLE=RELEVE_2,FILTRE=(
                    _F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'O'),
                           _F(  NOM_PARA = 'MAILLE',
                             VALE_K = 'M33')),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.5E-2,
                      VALE=-8.04504E-02      )

RELEVE_3=POST_RELEVE_T(
                   ACTION=_F(  NOEUD = ( 'O',  'A',  'B',  'C',  'D',  'E',  'F', ),
                            MAILLE = ( 'M30', 'M76', 'M40', 'M1', 'M65', 'M8', 'M46', ),
                            INTITULE = 'EFFORT',
                            MOYE_NOEUD = 'NON',
                            CHAM_GD = EFFORT,
                            NOM_CMP = ( 'MXX', 'MYY', ),
                            OPERATION = 'EXTRACTION')
                          )

TEST_TABLE(       TABLE=RELEVE_3,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'B'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.5E-2,
                      VALE=8.78319E-02          )

TEST_TABLE(       TABLE=RELEVE_3,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'D'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.5E-2,
                      VALE=-3.19177E-02         )

TEST_TABLE(       TABLE=RELEVE_3,
                    FILTRE=_F(  NOM_PARA = 'NOEUD',
                             VALE_K = 'F'),
                  NOM_PARA='MXX',
                 REFERENCE = 'ANALYTIQUE',
                 PRECISION=1.5E-2,
                      VALE=-2.43854E-02         )

#--------------------------------------------------------------------
FIN( )
#
