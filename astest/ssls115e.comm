# MODIF  DATE 16/05/2002   AUTEUR DURAND C.DURAND 
# TITRE  PLAQUE CARREE COMPOSITE SOUS PRESSION UNIFORME
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
#---------------------------------------------------------------------
#         - MODELISATION AVEC DES ELEMENTS 'DST'(TRIA3)
#---------------------------------------------------------------------
#
DEBUT( CODE=_F( NOM = 'SSLS115E',NIV_PUB_WEB='INTERNET'))

#

PRE_GIBI()

#
MA=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='NON'), )

#

MA=DEFI_GROUP( reuse=MA,
                       MAILLAGE=MA,CREA_GROUP_NO=(
                       _F(  GROUP_MA = 'AB'),
                       _F(  GROUP_MA = 'BC'),
                       _F(  GROUP_MA = 'CD'),
                       _F(  GROUP_MA = 'DA'))
                    )

#
MO=AFFE_MODELE(   MAILLAGE=MA,
                        AFFE=_F( GROUP_MA = 'MAIL',
                              PHENOMENE = 'MECANIQUE',
                              MODELISATION = 'DST')
                  )

#

MA=MODI_MAILLAGE( reuse=MA,  MAILLAGE=MA,    MODELE=MO,
                           ORIE_NORM_COQUE=_F(  VECT_NORM = (0., 0., 1.,),
                                             GROUP_NO = 'C',
                                             GROUP_MA = 'MAIL1'),
                            INFO=2
                        )

#
#
#---------------------------------------------------------------------
#                         CARACTERISTIQUES ELEMENTAIRES
#---------------------------------------------------------------------
#
CAR_ELE=AFFE_CARA_ELEM(   MODELE=MO,
                             COQUE=_F( GROUP_MA = 'MAIL',
                                    EPAIS = 0.1,
                                    ANGL_REP = (0., 0.,))
                          )

#
#---------------------------------------------------------------------
#                         CARACTERISTIQUES MATERIAUX
#---------------------------------------------------------------------
#
MAT1=DEFI_MATERIAU(   ELAS_ORTH=_F( E_L = 3.4156,
                                  E_T = 1.793,
                                  G_TN = 1.015,
                                  G_LT = 1.0,
                                  G_LN = 0.608,
                                  NU_LT = 0.44)
                     )

#
MAT2=DEFI_MATERIAU(   ELAS_ORTH=_F( E_L = 0.34156,
                                  E_T = 0.1793,
                                  G_TN = 0.1015,
                                  G_LT = 0.10,
                                  G_LN = 0.0608,
                                  NU_LT = 0.44)
                     )

#
MULTI=DEFI_COQU_MULT( COUCHE=(  _F( EPAIS = 0.01,
                                  MATER = MAT1,
                                  ORIENTATION = 0.),
                          _F( EPAIS = 0.08,
                                  MATER = MAT2,
                                  ORIENTATION = 0.),
                          _F( EPAIS = 0.01,
                                  MATER = MAT1,
                                  ORIENTATION = 0.))
                        )

#
CHAM_MAT=AFFE_MATERIAU(   MAILLAGE=MA,
                                AFFE=_F( TOUT = 'OUI',
                                      MATER = MULTI)
                          )

#
#---------------------------------------------------------------------
#                         CHARGEMENTS
#---------------------------------------------------------------------
#
CHA=AFFE_CHAR_MECA(        MODELE=MO,DDL_IMPO=(
                           _F( GROUP_NO = 'AB',
                                          DZ = 0.,
                                          DRY = 0.),
                           _F( GROUP_NO = 'BC',
                                          DX = 0.,
                                          DRY = 0.),
                           _F( GROUP_NO = 'CD',
                                          DY = 0.,
                                          DRX = 0.),
                           _F( GROUP_NO = 'DA',
                                          DZ = 0.,
                                          DRX = 0.)),
                      FORCE_COQUE=_F(  TOUT = 'OUI',   PRES = -1.0)
                     )

#
#---------------------------------------------------------------------
#                         RESOLUTION
#---------------------------------------------------------------------
#
RESU=MECA_STATIQUE(       MODELE=MO,
                        CHAM_MATER=CHAM_MAT,
                         CARA_ELEM=CAR_ELE,
                             EXCIT=_F( CHARGE = CHA)
                      )

#
# EXTRACTION DU CHAMP DE DEPLACEMENT
####################################
DEPL=CREA_CHAMP(   OPERATION='EXTR', 
                     TYPE_CHAM='NOEU_DEPL_R',
                      RESULTAT=RESU,
                      NOM_CHAM='DEPL',
                    NUME_ORDRE=1
                  )

#
#COUCHE 1 : CALCUL DES CONTRAINTES
##################################
SIG_C1_S=CALC_CHAM_ELEM(       MODELE=MO,
                             CHAM_MATER=CHAM_MAT,
                              CARA_ELEM=CAR_ELE,
                                 OPTION='SIGM_ELNO_DEPL',
                                   DEPL=DEPL,
                            NUME_COUCHE=1,
                            NIVE_COUCHE='SUP'
                          )

#
SIG_C1_I=CALC_CHAM_ELEM(       MODELE=MO,
                             CHAM_MATER=CHAM_MAT,
                              CARA_ELEM=CAR_ELE,
                                 OPTION='SIGM_ELNO_DEPL',
                                   DEPL=DEPL,
                            NUME_COUCHE=1,
                            NIVE_COUCHE='INF'
                          )

#COUCHE 2 : CALCUL DES CONTRAINTES
##################################
SIG_C2_S=CALC_CHAM_ELEM(       MODELE=MO,
                             CHAM_MATER=CHAM_MAT,
                              CARA_ELEM=CAR_ELE,
                                 OPTION='SIGM_ELNO_DEPL',
                                   DEPL=DEPL,
                            NUME_COUCHE=2,
                            NIVE_COUCHE='SUP'
                          )

#COUCHE 2 : CALCUL DES CONTRAINTES
##################################
SIG_C2_M=CALC_CHAM_ELEM(       MODELE=MO,
                             CHAM_MATER=CHAM_MAT,
                              CARA_ELEM=CAR_ELE,
                                 OPTION='SIGM_ELNO_DEPL',
                                   DEPL=DEPL,
                            NUME_COUCHE=2,
                            NIVE_COUCHE='MOY'
                          )

SIG_C2_I=CALC_CHAM_ELEM(       MODELE=MO,
                             CHAM_MATER=CHAM_MAT,
                              CARA_ELEM=CAR_ELE,
                                 OPTION='SIGM_ELNO_DEPL',
                                   DEPL=DEPL,
                            NUME_COUCHE=2,
                            NIVE_COUCHE='INF'
                          )

#COUCHE 3 : CALCUL DES CONTRAINTES
##################################
SIG_C3_S=CALC_CHAM_ELEM(       MODELE=MO,
                             CHAM_MATER=CHAM_MAT,
                              CARA_ELEM=CAR_ELE,
                                 OPTION='SIGM_ELNO_DEPL',
                                   DEPL=DEPL,
                            NUME_COUCHE=3,
                            NIVE_COUCHE='SUP'
                          )

SIG_C3_I=CALC_CHAM_ELEM(       MODELE=MO,
                             CHAM_MATER=CHAM_MAT,
                              CARA_ELEM=CAR_ELE,
                                 OPTION='SIGM_ELNO_DEPL',
                                   DEPL=DEPL,
                            NUME_COUCHE=3,
                            NIVE_COUCHE='INF'
                          )

#
#---------------------------------------------------------------------
#                         VERIFICATION DES RESULTATS
#---------------------------------------------------------------------
#
TEST_RESU(RESU=(
_F(      RESULTAT = RESU,             NUME_ORDRE = 1,
           NOM_CHAM = 'DEPL',            GROUP_NO = 'C',
           NOM_CMP = 'DZ',              VALE = 41.92,
           PRECISION = 0.003),
_F(      RESULTAT = RESU,             NUME_ORDRE = 1,
           NOM_CHAM = 'DEPL',            GROUP_NO = 'C',
           NOM_CMP = 'DY',              VALE = 0.,
           PRECISION = 0.01,
           CRITERE = 'ABSOLU'),
_F(      RESULTAT = RESU,             NUME_ORDRE = 1,
           NOM_CHAM = 'DEPL',            GROUP_NO = 'C',
           NOM_CMP = 'DX',              VALE = 0.,
           PRECISION = 0.01,
           CRITERE = 'ABSOLU')),CHAM_ELEM=(
#
# CONTRAINTE SIXX AU POINT (L/2,L/2,H/2)
#
_F( CHAM_GD = SIG_C3_I,           MAILLE = 'M72',       
           GROUP_NO = 'C',               NOM_CMP = 'SIXX',
           VALE = 47.1,               PRECISION = 0.12),
#
# CONTRAINTE SIXX AU POINT (L/2,L/2,H/2)
#
_F( CHAM_GD = SIG_C3_S,          MAILLE = 'M72',       
           GROUP_NO = 'C',              NOM_CMP = 'SIXX',
           VALE = 58.8,                PRECISION = 0.12),
#
# CONTRAINTE SIXX AU POINT (L/2,L/2,H/2)
#
_F( CHAM_GD = SIG_C2_I,           MAILLE = 'M72',       
           GROUP_NO = 'C',               NOM_CMP = 'SIXX',
           VALE = -4.71,             PRECISION = 0.12),
#
# CONTRAINTE SIXX AU POINT (L/2,L/2,H/2)
#
_F( CHAM_GD = SIG_C2_S,           MAILLE = 'M72',       
           GROUP_NO = 'C',               NOM_CMP = 'SIXX',
           VALE = 4.71,             PRECISION = 0.12),
#
# CONTRAINTE SIXX AU POINT (L/2,L/2,H/2)
#
_F( CHAM_GD = SIG_C1_I,           MAILLE = 'M72',       
           GROUP_NO = 'C',               NOM_CMP = 'SIXX',
           VALE = -58.8,              PRECISION = 0.12),
#
# CONTRAINTE SIXX AU POINT (L/2,L/2,H/2)
#
_F( CHAM_GD = SIG_C1_S,           MAILLE = 'M72',       
           GROUP_NO = 'C',               NOM_CMP = 'SIXX',
           VALE = -47.1,              PRECISION = 0.12))
#
           )

FIN()
#
# 
