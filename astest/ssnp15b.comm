# MODIF  DATE 27/06/2006   AUTEUR CIBHHPD L.SALMONA 
# TITRE ESSAI DE TRACTION-CISAILLEMENT (MISES ECR. ISOT. C_PLAN)
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================

DEBUT(CODE=_F( NOM = 'SSNP15B',NIV_PUB_WEB='INTERNET'))

#......................................................................
# PLAQUE CARREE EN TRACTION CISAILLEMENT CALCUL 2D CONTRAINTES PLANES
# ELASTOPLASTICITE ISOTROPE VON MISES   (1 QUAD4)
#......................................................................

MA=LIRE_MAILLAGE( )

MO=AFFE_MODELE(
              
               MAILLAGE=MA,
                 VERIF='MAILLE',
                  
                AFFE=_F( 
                TOUT = 'OUI',
                PHENOMENE = 'MECANIQUE',
                MODELISATION = 'C_PLAN')
              )

ACIER=DEFI_MATERIAU(
              
                   
                ELAS=_F( 
                E = 195000.,
                NU = 0.3),
              
                ECRO_LINE=_F( 
                D_SIGM_EPSI = 1930.,
                SY = 181.),
                PRAGER=_F(C=0.)
              )

CM=AFFE_MATERIAU(
              
               MAILLAGE=MA,
                  
                AFFE=_F( 
                TOUT = 'OUI',
                MATER = ACIER)
              )

SIGMA_F=DEFI_FONCTION(
              
                 NOM_PARA='INST',
               PROL_DROITE='EXCLU',
              PROL_GAUCHE='EXCLU',
                     
                VALE=(
                0.0,    0.0,
                1.0,  151.2,
                2.0,  257.2,
                3.0,  0.0,
                )
              )

TAU_F=DEFI_FONCTION(
              
                 NOM_PARA='INST',
               PROL_DROITE='EXCLU',
              PROL_GAUCHE='EXCLU',
                     
                VALE=(
                0.0,    0.0,
                1.0,   93.1,
                2.0,   33.1,
                3.0,    0.0,
                )
              )

TRACTION=AFFE_CHAR_MECA(
              
                      MODELE=MO,
              
                FORCE_CONTOUR=_F( 
                MAILLE = 'GAUCHE',
                FX = -1.)
              )

CISAIL=AFFE_CHAR_MECA(
              
                      MODELE=MO,FORCE_CONTOUR=(
              
                _F( MAILLE = 'GAUCHE',          FY = -1.),
                _F( MAILLE = 'DROITE',          FY = 1.),
                _F( MAILLE = 'HAUT',    FX = 1.),
                _F( MAILLE = 'BAS',     FX = -1.))
              )

LIAISON=AFFE_CHAR_MECA(
              
               MODELE=MO,DDL_IMPO=(
              
                _F( NOEUD = 'NO4',     DX = 0.,  DY = 0.),
                _F( NOEUD = 'NO2',     DX = 0.))
              )

L_INST=DEFI_LIST_REEL(
              
               DEBUT=0.0,INTERVALLE=(
                _F( JUSQU_A = 0.1,     NOMBRE = 1),
                _F( JUSQU_A = 0.9,     NOMBRE = 10),
                _F( JUSQU_A = 1.0,     NOMBRE = 1),
                _F( JUSQU_A = 2.0,     NOMBRE = 40),
                _F( JUSQU_A = 3.0,     NOMBRE = 1))
              )

U=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CM,EXCIT=(
                             _F( 
                CHARGE = LIAISON), _F( 
                CHARGE = TRACTION,
                FONC_MULT = SIGMA_F), _F( 
                CHARGE = CISAIL,
                FONC_MULT = TAU_F)),
                         COMP_INCR=_F( 
                RELATION = 'VMIS_ISOT_LINE'),
                         INCREMENT=_F( 
                LIST_INST = L_INST),
                            NEWTON=_F( 
                MATRICE = 'ELASTIQUE',
                REAC_ITER = 3),
                       CONVERGENCE=_F( 
                RESI_GLOB_MAXI = 1.E-3,
                ITER_GLOB_MAXI = 10),
                     RECH_LINEAIRE=_F( 
                ITER_LINE_MAXI = 5,
                RHO_MAX=150,
                RESI_LINE_RELA = 1.E-3)
              )

U=CALC_ELEM( reuse=U,
                            OPTION=( 'EPSI_ELGA_DEPL',
                  'SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
                          RESULTAT=U,
              )

U=CALC_ELEM(
              reuse=U,
                  RESULTAT=U,
                   OPTION=('EPSP_ELGA', 'EPSI_ELNO_DEPL',)
              )

U2=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CM,EXCIT=(
                             _F( 
                CHARGE = LIAISON), _F( 
                CHARGE = TRACTION,
                FONC_MULT = SIGMA_F), _F( 
                CHARGE = CISAIL,
                FONC_MULT = TAU_F)),
                         COMP_INCR=_F( 
                RELATION = 'VMIS_ECMI_LINE'),
                         INCREMENT=_F( 
                LIST_INST = L_INST),
                            NEWTON=_F( 
                MATRICE = 'ELASTIQUE',
                REAC_ITER = 3),
                       CONVERGENCE=_F( 
                RESI_GLOB_MAXI = 1.E-3,
                ITER_GLOB_MAXI = 10),
                     RECH_LINEAIRE=_F( 
                ITER_LINE_MAXI = 5,
                RHO_MAX=150.,
                RESI_LINE_RELA = 1.E-3)
              )

U2=CALC_ELEM( reuse=U2,
                            OPTION=( 'EPSI_ELGA_DEPL',
                  'SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
                          RESULTAT=U2,
              )

U2=CALC_ELEM(
              reuse=U2,
                  RESULTAT=U2,
                   OPTION=('EPSP_ELGA', 'EPSI_ELNO_DEPL',)
              )

U2=CALC_ELEM( reuse=U2,      
                         RESULTAT=U2,
                           OPTION='ETOT_ELGA'
                     )

U2=CALC_ELEM( reuse=U2,      
                         RESULTAT=U2,
                           OPTION='ETOT_ELNO_ELGA'
                     )

U2=CALC_ELEM( reuse=U2,      
                         RESULTAT=U2,
                           OPTION='ETOT_ELEM'
                     )

VARI=CREA_CHAMP(  OPERATION='EXTR', TYPE_CHAM='ELNO_VARI_R',
                  NOM_CHAM='VARI_ELNO_ELGA',
                  RESULTAT=U,
                  INST=1.
                )

TEST_RESU(RESU=(
              
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'SIEF_ELNO_ELGA',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 1.,
                NOM_CMP = 'SIXX',
                VALE = 151.2),
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'SIEF_ELNO_ELGA',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 1.,
                NOM_CMP = 'SIXY',
                VALE = 93.1),
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'EPSI_ELNO_DEPL',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 1.,
                NOM_CMP = 'EPXX',
                VALE = 1.48297E-2),
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'EPSI_ELNO_DEPL',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 1.,
                NOM_CMP = 'EPXY',
                VALE = 1.36014E-2),
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'VARI_ELNO_ELGA',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 1.,
                NOM_CMP = 'V1',
                VALE = 2.05473E-2),
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'VARI_ELNO_ELGA',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 1.,
                NOM_CMP = 'V2',
                VALE = 1.),
#
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'EPSI_ELNO_DEPL',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 2.,
                NOM_CMP = 'EPXX',
                VALE = 3.5265E-2,
                PRECISION = 1.E-2),
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'EPSI_ELNO_DEPL',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 2.,
                NOM_CMP = 'EPXY',
                VALE = 2.0471E-2,
                PRECISION = 1.E-2),
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'EPSP_ELGA',
                MAILLE = 'CUBE',
                POINT = 1,
                INST = 2.,
                NOM_CMP = 'EPXX',
                VALE = 3.3946E-2,
                PRECISION = 1.E-2),
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'EPSP_ELGA',
                MAILLE = 'CUBE',
                POINT = 1,
                INST = 2.,
                NOM_CMP = 'EPXY',
                VALE = 2.0250E-2,
                PRECISION = 1.E-2),
                _F( 
                RESULTAT = U,
                NOM_CHAM = 'VARI_ELNO_ELGA',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 2.,
                NOM_CMP = 'V1',
                VALE = 4.2329E-2,
                PRECISION = 1.E-2)),
#
              
                CHAM_ELEM=_F( 
                CHAM_GD = VARI,
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                NOM_CMP = 'V1',
                VALE = 2.05473E-2)
              )


ENER_TOT=POST_ELEM(     RESULTAT=U,
                         TOUT_ORDRE='OUI',
                        ENER_TOTALE=_F(  TOUT = 'OUI')
                      )


ENER_TO2=POST_ELEM(     RESULTAT=U2,
                         TOUT_ORDRE='OUI',
                        ENER_TOTALE=_F(  TOUT = 'OUI')
                      )

TEST_RESU(RESU=(
              
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELGA',
                MAILLE = 'CUBE',
                POINT = 1,
                INST = 0.1,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE = 1.16403E-03),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELGA',
                MAILLE = 'CUBE',
                POINT = 1,
                INST = 0.9,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE = 1.84340 ),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELGA',
                MAILLE = 'CUBE',
                POINT = 1,
                INST = 2.0,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE = 9.58487 ),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELGA',
                MAILLE = 'CUBE',
                POINT = 1,
                INST = 3.0,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE =  9.40794),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELNO_ELGA',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 0.1,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE = 1.16403E-03),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELNO_ELGA',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 0.9,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE = 1.84340 ),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELNO_ELGA',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 2.0,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE = 9.58487 ),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELNO_ELGA',
                MAILLE = 'CUBE',
                NOEUD = 'NO2',
                INST = 3.0,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE =  9.40794),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELEM',
                MAILLE = 'CUBE',
                INST = 0.1,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE = 1.16403E-03),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELEM',
                MAILLE = 'CUBE',
                INST = 0.9,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE = 1.84340 ),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELEM',
                MAILLE = 'CUBE',
                INST = 2.0,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE = 9.58487 ),
                _F( 
                RESULTAT = U2,
                NOM_CHAM = 'ETOT_ELEM',
                MAILLE = 'CUBE',
                INST = 3.0,
                REFERENCE = 'AUTRE_ASTER',
                CRITERE = 'RELATIF',
                NOM_CMP = 'TOTALE',
                VALE =  9.40794))
              )

TEST_TABLE(TABLE=ENER_TO2,
          FILTRE=(
                 _F(  NOM_PARA = 'INST',
                          VALE = 0.1),),
          NOM_PARA='TOTALE',
          REFERENCE = 'AUTRE_ASTER',
          CRITERE='RELATIF',
          VALE=1.16403E-03  )


TEST_TABLE(TABLE=ENER_TO2,
          FILTRE=(
                 _F(  NOM_PARA = 'INST',
                          VALE = 0.9),),
          NOM_PARA='TOTALE',
          REFERENCE = 'AUTRE_ASTER',
          CRITERE='RELATIF',
          VALE= 1.84340  )


TEST_TABLE(TABLE=ENER_TO2,
          FILTRE=(
                 _F(  NOM_PARA = 'INST',
                          VALE = 2.0),),
          NOM_PARA='TOTALE',
          REFERENCE = 'AUTRE_ASTER',
          CRITERE='RELATIF',
          VALE= 9.58487  )

TEST_TABLE(TABLE=ENER_TO2,
          FILTRE=(
                 _F(  NOM_PARA = 'INST',
                          VALE =3.0 ),),
          NOM_PARA='TOTALE',
          REFERENCE = 'AUTRE_ASTER',
          CRITERE='RELATIF',
          VALE=  9.40794 )
#
# INDICATEURS DE CHARGE - DECHARGE
#

IND_ENER=POST_ELEM(     RESULTAT=U,
                               INST=(1.,2.,3.,),
                        INDIC_ENER=_F(  TOUT = 'OUI')
                      )

IND_SEUI=POST_ELEM(    RESULTAT=U,
                         NUME_ORDRE=(12,52,53,),
                        INDIC_SEUIL=_F(  TOUT = 'OUI',
                                        )
                      )

TEST_TABLE(     TABLE=IND_ENER,FILTRE=(
                 _F(  NOM_PARA = 'NUME_ORDRE',
                          VALE_I = 12),
                        _F(  NOM_PARA = 'LIEU',
                          VALE_K = 'MA')),
               NOM_PARA='INDIC_ENER',
               REFERENCE = 'ANALYTIQUE',
                CRITERE='ABSOLU',
                   VALE=0.                   )

TEST_TABLE(     TABLE=IND_ENER,FILTRE=(
                 _F(  NOM_PARA = 'NUME_ORDRE',
                          VALE_I = 52),
                        _F(  NOM_PARA = 'LIEU',
                          VALE_K = 'MA')),
               NOM_PARA='INDIC_ENER',
               REFERENCE = 'ANALYTIQUE',
               PRECISION=0.03,
                   VALE=3.26E-2               )

TEST_TABLE(     TABLE=IND_ENER,FILTRE=(
                 _F(  NOM_PARA = 'NUME_ORDRE',
                          VALE_I = 53),
                        _F(  NOM_PARA = 'LIEU',
                          VALE_K = 'MA')),
               NOM_PARA='INDIC_ENER',
               REFERENCE = 'ANALYTIQUE',
               PRECISION=0.03,
                   VALE=4.69E-2               )

TEST_TABLE(     TABLE=IND_SEUI,FILTRE=(
                 _F(  NOM_PARA = 'NUME_ORDRE',
                          VALE_I = 12),
                        _F(  NOM_PARA = 'LIEU',
                          VALE_K = 'MA')),
               NOM_PARA='INDIC_SEUIL',
               REFERENCE = 'ANALYTIQUE',
                CRITERE='ABSOLU',
                   VALE=0.                    )

TEST_TABLE(     TABLE=IND_SEUI,FILTRE=(
                 _F(  NOM_PARA = 'NUME_ORDRE',
                          VALE_I = 52),
                        _F(  NOM_PARA = 'LIEU',
                          VALE_K = 'MA')),
               NOM_PARA='INDIC_SEUIL',
               REFERENCE = 'ANALYTIQUE',
               PRECISION=0.01,
                   VALE=9.71E-2               )

TEST_TABLE(     TABLE=IND_SEUI,FILTRE=(
                 _F(  NOM_PARA = 'NUME_ORDRE',
                          VALE_I = 53),
                        _F(  NOM_PARA = 'LIEU',
                          VALE_K = 'MA')),
               NOM_PARA='INDIC_SEUIL',
               REFERENCE = 'ANALYTIQUE',
               PRECISION=0.01,
                   VALE=1.                    )

# ON TIRE PROFIT DE SSNP15B POUR VALIDER L'ELASTICITE ISOTROPE
# ET ANISOTROPE VIA STAT_NON_LINE



ACIERI=DEFI_MATERIAU( 
           ELAS_ISTR=_F(  E_L = 195000.,               E_N = 100000.,
                      NU_LT = 0.3,    NU_LN = 0.3,
                                      G_LN = 10000.)
           )

ACIERO=DEFI_MATERIAU( 
           ELAS_ORTH=_F(  E_L = 195000.,  E_T = 195000., E_N = 100000.,
                      NU_LT = 0.3,   NU_LN = 0.3,   NU_TN = 0.3,
                       G_LT = 7500.,  G_LN = 10000., G_TN = 10000.)
           )

CMI=AFFE_MATERIAU( 
            MAILLAGE=MA,   
           AFFE=_F( TOUT = 'OUI',MATER = ACIERI)
           )

CMO=AFFE_MATERIAU( 
            MAILLAGE=MA,   
           AFFE=_F( TOUT = 'OUI',MATER = ACIERO)
           )

L_INST2=DEFI_LIST_REEL(
              
               DEBUT=0.0,INTERVALLE=(
                _F( JUSQU_A = 0.1,     NOMBRE = 1),
                _F( JUSQU_A = 0.9,     NOMBRE = 1),
                _F( JUSQU_A = 1.0,     NOMBRE = 1))
              )

V=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CM,EXCIT=(
                             _F( 
                CHARGE = LIAISON), _F( 
                CHARGE = TRACTION,
                FONC_MULT = SIGMA_F), _F( 
                CHARGE = CISAIL,
                FONC_MULT = TAU_F)),
                         COMP_INCR=_F( 
                RELATION = 'ELAS'),
                         INCREMENT=_F( 
                LIST_INST = L_INST2),
                            NEWTON=_F( 
                MATRICE = 'ELASTIQUE',
                REAC_ITER = 3),
                       CONVERGENCE=_F( 
                RESI_GLOB_MAXI = 1.E-3,
                ITER_GLOB_MAXI = 10),
                     RECH_LINEAIRE=_F(
                     RHO_MAX=150., 
                ITER_LINE_MAXI = 5)
              )

V=CALC_ELEM( reuse=V,
                            OPTION=(
                  'SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
                          RESULTAT=V,
              )

V=CALC_ELEM(
              reuse=V,
                  RESULTAT=V,
                   OPTION='EPSI_ELNO_DEPL'
              )

VO=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CMO,EXCIT=(
                             _F( 
                CHARGE = LIAISON), _F( 
                CHARGE = TRACTION,
                FONC_MULT = SIGMA_F), _F( 
                CHARGE = CISAIL,
                FONC_MULT = TAU_F)),
                         COMP_ELAS=_F( 
                RELATION = 'ELAS'),
                         INCREMENT=_F( 
                LIST_INST = L_INST2),
                            NEWTON=_F( 
                MATRICE = 'ELASTIQUE',
                REAC_ITER = 3),
                       CONVERGENCE=_F( 
                RESI_GLOB_MAXI = 1.E-3,
                ITER_GLOB_MAXI = 10),
                     RECH_LINEAIRE=_F( 
                     RHO_MAX=150.,
                ITER_LINE_MAXI = 5)
              )

VO=CALC_ELEM( reuse=VO,
                            OPTION=(
                  'SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
                          RESULTAT=VO,
              )

VO=CALC_ELEM(
              reuse=VO,
                  RESULTAT=VO,
                   OPTION='EPSI_ELNO_DEPL'
              )

VI=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CMI,EXCIT=(
                             _F( 
                CHARGE = LIAISON), _F( 
                CHARGE = TRACTION,
                FONC_MULT = SIGMA_F), _F( 
                CHARGE = CISAIL,
                FONC_MULT = TAU_F)),
                         COMP_ELAS=_F( 
                RELATION = 'ELAS'),
                         INCREMENT=_F( 
                LIST_INST = L_INST2),
                            NEWTON=_F( 
                MATRICE = 'ELASTIQUE',
                REAC_ITER = 3),
                       CONVERGENCE=_F( 
                RESI_GLOB_MAXI = 1.E-3,
                ITER_GLOB_MAXI = 10),
                     RECH_LINEAIRE=_F(
                     RHO_MAX=150.,
                ITER_LINE_MAXI = 5)
              )

VI=CALC_ELEM( reuse=VI,
                            OPTION=(
                  'SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
                          RESULTAT=VI,
              )

VI=CALC_ELEM(
              reuse=VI,
                  RESULTAT=VI,
                   OPTION='EPSI_ELNO_DEPL'
              )

TEST_RESU(RESU=(
  _F( RESULTAT = V,NOM_CHAM = 'SIEF_ELNO_ELGA',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'SIXX',VALE = 151.2),
  _F( RESULTAT = V,NOM_CHAM = 'SIEF_ELNO_ELGA',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'SIXY',VALE = 93.1),
  _F( RESULTAT = V,NOM_CHAM = 'EPSI_ELNO_DEPL',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'EPXX',VALE = 7.75385E-4),
  _F( RESULTAT = V,NOM_CHAM = 'EPSI_ELNO_DEPL',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'EPXY',VALE = 6.20667E-4))
           )

TEST_RESU(RESU=(
  _F( RESULTAT = VI,NOM_CHAM = 'SIEF_ELNO_ELGA',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'SIXX',VALE = 151.2),
  _F( RESULTAT = VI,NOM_CHAM = 'SIEF_ELNO_ELGA',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'SIXY',VALE = 93.1),
  _F( RESULTAT = VI,NOM_CHAM = 'EPSI_ELNO_DEPL',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'EPXX',VALE = 7.75385E-4),
  _F( RESULTAT = VI,NOM_CHAM = 'EPSI_ELNO_DEPL',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'EPXY',VALE = 6.20667E-4))
           )

TEST_RESU(RESU=(
  _F( RESULTAT = VO,NOM_CHAM = 'SIEF_ELNO_ELGA',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'SIXY',VALE = 93.1),
  _F( RESULTAT = VO,NOM_CHAM = 'EPSI_ELNO_DEPL',MAILLE = 'CUBE',NOEUD = 'NO2',
    INST = 1.,NOM_CMP = 'EPXY',VALE = 6.20667E-3))
           )

FIN()
#
