# MODIF  DATE 16/05/2002   AUTEUR DURAND C.DURAND 
# RESPONSABLE ADBHHPM P.MASSIN
# DATE   : 15/01/2001
# AUTEUR : P. MASSIN
# TITRE CONTACT UNIDIRECTIONNEL AVEC FROTTEMENT
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2001  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR   
# (AT YOUR OPTION) ANY LATER VERSION.                                 
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT 
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF          
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU    
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                            
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE   
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,       
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.      
# ======================================================================
# D'UNE PLAQUE SUR UN PLAN RIGIDE
# CAS_TEST__:SSNV105M
# CALCUL ASTER 3D
# MODELE
# MAILLAGE : ELEMENT 3D HEXAEDRES A 8 NOEUDS
# UNITES   : NEWTON , METRE , SECONDE (N,M,S)
#

DEBUT( CODE=_F(  NOM = 'SSNV105M',NIV_PUB_WEB='INTERNET') )

#......................................................................

PRE_GIBI()

#

MA=LIRE_MAILLAGE(VERI_MAIL=_F(VERIF='NON'), )

#

MA=DEFI_GROUP( reuse=MA,
                       MAILLAGE=MA,CREA_GROUP_NO=(
                       _F(  GROUP_MA = 'SURF12',  ),
                       _F(  GROUP_MA = 'SURF1',  ))
                     )

#


MO=AFFE_MODELE( 
            MAILLAGE=MA,
               AFFE=_F( TOUT = 'OUI',
                     PHENOMENE = 'MECANIQUE',
                     MODELISATION = '3D',)
                    )

#######
# &MA = MODI_MAILLAGE ( MAILLAGE : MA
#                       MODELE   : MO
#                       ORIE_PEAU_3D:( GROUP_MA: SURFA2 )
#                     ) ;
#######

MAT2=DEFI_MATERIAU(
                            ELAS=_F( 
                                  E = 1.3E11, 
                                  NU = 0.2, 
                                 )
                          )

#

MAT1=DEFI_MATERIAU(
                            ELAS=_F( 
                                  E = 1.E16, 
                                  NU = 0., 
                                 )
                          )

#

CHMAT=AFFE_MATERIAU(
                            MAILLAGE=MA,AFFE=(
                           _F( 
                                 GROUP_MA = 'VOL2',
                                 MATER = MAT2, 
                                ),
                           _F( 
                                 GROUP_MA = 'VOL1', 
                                 MATER = MAT1, 
                                ))
                           )

#

CHA1=AFFE_CHAR_MECA(
                             MODELE=MO,
                             VERI_NORM='NON',DDL_IMPO=(
                   _F( GROUP_MA = 'VOL1',        DZ = 0.,),
                   _F( GROUP_MA = 'VOL2',        DZ = 0.,)),FACE_IMPO=(
                    _F(  GROUP_MA = 'DB2', 
                                      DX = 0., DY = 0., ),
                    _F(  GROUP_MA = 'HHB2', 
                                      DX = 0., DY = 0.,  ),
                    _F(  GROUP_MA = 'SURFA11', 
                                      DX = 0., DY = 0.,),
                    _F(  GROUP_MA = 'SURFB4', 
                                       DX = 0., ),
                    _F(  GROUP_MA = 'SURFB14', 
                                      DX = 0., )),PRES_REP=(
                          _F( GROUP_MA = 'SURF3',    PRES = 15.E07, ),
                          _F( GROUP_MA = 'SURFA2',   PRES = -5.E07, ))
                           )

#

CHA2=AFFE_CHAR_MECA(
                             MODELE=MO,
                             CONTACT=_F( 
                            GROUP_MA_1 = 'SURF12',  
                            GROUP_MA_2 = 'SURF1',  
                            FROTTEMENT = 'COULOMB',  
                            METHODE = 'PENALISATION',
                            E_T = 1.E+11, COEF_MATR_FROT = 0.4, COULOMB = 1.0,)
                            )

#

RAMPE=DEFI_FONCTION(   NOM_PARA='INST',
            PROL_GAUCHE='LINEAIRE',   PROL_DROITE='LINEAIRE',
            VALE=(0.0,0.0,1.0,1.0,)
           )

L_INST=DEFI_LIST_REEL(   DEBUT=0.,
             INTERVALLE=_F( JUSQU_A = 1.0,   NOMBRE = 1, )
           )

U1=STAT_NON_LINE( 
                            MODELE=MO,
                        CHAM_MATER=CHMAT,EXCIT=(
                             _F( 
                CHARGE = CHA1,            
                FONC_MULT = RAMPE,         
                ), 
                _F( 
                CHARGE = CHA2,            
                )),
                         COMP_ELAS=_F( 
                RELATION = 'ELAS',          
                ),
                           SOLVEUR=_F( 
                METHODE = 'LDLT',           
                ),
                            NEWTON=_F( 
                MATRICE = 'TANGENTE',           
                REAC_ITER = 1,         
                ),
                         INCREMENT=_F( 
                LIST_INST = L_INST,         
                ),
                       CONVERGENCE=_F( 
                ITER_GLOB_MAXI = 600,    
                RESI_GLOB_RELA = 1.0E-5,    
                ),
                INFO=2
              )

U1=CALC_ELEM( reuse=U1,
                            OPTION=(
                  'SIEF_ELNO_ELGA',  'VARI_ELNO_ELGA',),
                          RESULTAT=U1,
                            MODELE=MO,
                        CHAM_MATER=CHMAT
              )

#

TEST_RESU(RESU=(  _F( 
                     RESULTAT = U1, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N22', 
                     NOM_CMP = 'DX', 
                     VALE = 2.86E-5,   
                     PRECISION = 5.E-2, 
                    ),
               _F( 
                     RESULTAT = U1, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N44', 
                     NOM_CMP = 'DX', 
                     VALE = 2.72E-5, 
                     PRECISION = 5.E-2, 
                    ),
               _F( 
                     RESULTAT = U1, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N110', 
                     NOM_CMP = 'DX', 
                     VALE = 2.28E-5,   
                     PRECISION = 5.E-2, 
                    ),
               _F( 
                     RESULTAT = U1, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N154', 
                     NOM_CMP = 'DX', 
                     VALE = 1.98E-5, 
                     PRECISION = 5.E-2, 
                    ),
               _F( 
                     RESULTAT = U1, 
                     NUME_ORDRE = 1, 
                     NOM_CHAM = 'DEPL', 
                     NOEUD = 'N220', 
                     NOM_CMP = 'DX', 
                     VALE = 1.5E-5,  
                     PRECISION = 5.E-2, 
                    ))
       )

FIN()
#
