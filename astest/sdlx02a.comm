# person_in_charge: ayaovi-dzifa.kudawoo at edf.fr
# ======================================================================
# COPYRIGHT (C) 1991 - 2017  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#

DEBUT(CODE=_F(NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'))

MAILLAGE=LIRE_MAILLAGE(FORMAT='MED', )



MODELE=AFFE_MODELE(  MAILLAGE=MAILLAGE,AFFE=(
                  _F(  GROUP_MA = 'MAT_1',  PHENOMENE = 'MECANIQUE',
                         MODELISATION = 'POU_D_T'),
                 ))

#

MAT=DEFI_MATERIAU( ELAS=_F(  E = 1.658E+11,  RHO = 1.3404106E+04,
                                   NU = 0.3,  ALPHA = 1.288E-05)    )

CHAMPMAT=AFFE_MATERIAU(  MAILLAGE=MAILLAGE,
                            AFFE=_F(  GROUP_MA = 'MAT_1',  MATER = MAT) )

COND_LIM=AFFE_CHAR_MECA(  MODELE=MODELE,
                         DDL_IMPO=_F(  GROUP_NO = 'ENCASTRE',
                                    DX = 0.,  DY = 0.,  DZ = 0.,
                                    DRX = 0.,  DRY = 0.,  DRZ = 0.)   )

#

CARA_ELE=AFFE_CARA_ELEM(  MODELE=MODELE,POUTRE=(
                  _F(  GROUP_MA = 'SEC_1',  SECTION = 'GENERALE',
                           CARA = ( 'A',  'IZ', 'IY', 'AY', 'AZ', 'JX',
                                  'EZ', 'EY', 'RY', 'RZ', 'RT',      ),
                           VALE = ( 3.4390E-03,  1.3770E-05,  1.3770E-05,
                                  2.0,  2.0,  2.7540E-05,  0.0,  0.0,
                                  1.0,  1.0,  1.0,        )),
                         _F(  GROUP_MA = 'SEC_2', SECTION = 'GENERALE',
                           CARA = ( 'A',  'IZ', 'IY', 'AY', 'AZ', 'JX',
                                  'EZ', 'EY', 'RY', 'RZ', 'RT',      ),
                           VALE = ( 3.4390E-03, 5.8870E-06, 5.8870E-06,
                                  2.0,  2.0,  2.7540E-05,  0.0,  0.0,
                                  1.0,  1.0,  1.0,        ))),)

#

RIGI_ELE=CALC_MATR_ELEM(  MODELE=MODELE,   OPTION='RIGI_MECA',
                              CHAM_MATER=CHAMPMAT,   CARA_ELEM=CARA_ELE,
                              CHARGE=( COND_LIM, )                   )

MASS_ELE=CALC_MATR_ELEM(  MODELE=MODELE,   OPTION='MASS_MECA',
                              CHAM_MATER=CHAMPMAT,   CARA_ELEM=CARA_ELE,
                              CHARGE=( COND_LIM, )                   )

MASS_ELD=CALC_MATR_ELEM(  MODELE=MODELE,   OPTION='MASS_MECA_DIAG',
                              CHAM_MATER=CHAMPMAT,   CARA_ELEM=CARA_ELE,
                              CHARGE=( COND_LIM, )                   )

NUMEDDL=NUME_DDL(  MATR_RIGI=RIGI_ELE)

RIGIDITE=ASSE_MATRICE(  MATR_ELEM=RIGI_ELE,   NUME_DDL=NUMEDDL )

MASSE=ASSE_MATRICE(  MATR_ELEM=MASS_ELE,   NUME_DDL=NUMEDDL )

MASSE_DI=ASSE_MATRICE(  MATR_ELEM=MASS_ELD,   NUME_DDL=NUMEDDL )

TABL_MAS=POST_ELEM(  MODELE=MODELE,
                         CHAM_MATER=CHAMPMAT,   CARA_ELEM=CARA_ELE,
                        MASS_INER=_F(  TOUT = 'OUI')                   )

MODE=CALC_MODES(MATR_RIGI=RIGIDITE,
                CALC_FREQ=_F(NMAX_FREQ=9,
                             ),
                MATR_MASS=MASSE,
                SOLVEUR_MODAL=_F(METHODE='TRI_DIAG',
                                 ),
                )


MODE_DIA=CALC_MODES(MATR_RIGI=RIGIDITE,
                    CALC_FREQ=_F(NMAX_FREQ=9,
                                 ),
                    MATR_MASS=MASSE_DI,
                    SOLVEUR_MODAL=_F(METHODE='TRI_DIAG',
                                     ),
                    )


MODE_DIA=NORM_MODE(reuse=MODE_DIA,   MODE=MODE_DIA,   NORME='TRAN_ROTA',)

MODE_DIA=CALC_CHAMP(reuse=MODE_DIA,RESULTAT=MODE_DIA,CONTRAINTE=('SIEF_ELGA','EFGE_ELNO'))


MODE_DIA=CALC_CHAMP(reuse=MODE_DIA,  RESULTAT=MODE_DIA,
                 FORCE='REAC_NODA', )

TEST_RESU(RESU=(_F(PARA='FREQ',
                   NUME_MODE=1,
                   RESULTAT=MODE,
                   VALE_CALC=10.3607116827,
                   VALE_REFE=10.390000000000001,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=6.0000000000000001E-3,),
                _F(PARA='FREQ',
                   NUME_MODE=2,
                   RESULTAT=MODE,
                   VALE_CALC=19.7245496247,
                   VALE_REFE=20.02,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.015,),
                _F(PARA='FREQ',
                   NUME_MODE=3,
                   RESULTAT=MODE,
                   VALE_CALC=25.2135848399,
                   VALE_REFE=25.449999999999999,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.0093,),
                _F(PARA='FREQ',
                   NUME_MODE=4,
                   RESULTAT=MODE,
                   VALE_CALC=47.6268288028,
                   VALE_REFE=48.32,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.029999999999999999,),
                _F(PARA='FREQ',
                   NUME_MODE=5,
                   RESULTAT=MODE,
                   VALE_CALC=51.7235608196,
                   VALE_REFE=52.600000000000001,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.017,),
                _F(PARA='FREQ',
                   NUME_MODE=6,
                   RESULTAT=MODE,
                   VALE_CALC=82.4691737288,
                   VALE_REFE=84.810000000000002,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.029000000000000001,),
                _F(PARA='FREQ',
                   NUME_MODE=7,
                   RESULTAT=MODE,
                   VALE_CALC=84.8477230566,
                   VALE_REFE=87.159999999999997,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.035000000000000003,),
                _F(PARA='FREQ',
                   NUME_MODE=8,
                   RESULTAT=MODE,
                   VALE_CALC=125.292445965,
                   VALE_REFE=129.31,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.032,),
                _F(PARA='FREQ',
                   NUME_MODE=9,
                   RESULTAT=MODE,
                   VALE_REFE=131.69,
                   VALE_CALC=127.350550107,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.033,),
                ),
          )

#

TEST_RESU(RESU=(_F(PARA='FREQ',
                   NUME_MODE=1,
                   RESULTAT=MODE_DIA,
                   VALE_CALC=10.1155862994,
                   VALE_REFE=10.18,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.0064,),
                _F(PARA='FREQ',
                   NUME_MODE=2,
                   RESULTAT=MODE_DIA,
                   VALE_CALC=19.3725662139,
                   VALE_REFE=19.539999999999999,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.0086,),
                _F(PARA='FREQ',
                   NUME_MODE=3,
                   RESULTAT=MODE_DIA,
                   VALE_CALC=25.2415964404,
                   VALE_REFE=25.469999999999999,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.009,),
                _F(PARA='FREQ',
                   NUME_MODE=4,
                   RESULTAT=MODE_DIA,
                   VALE_CALC=48.5597721626,
                   VALE_REFE=48.090000000000003,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=1.E-2,),
                _F(PARA='FREQ',
                   NUME_MODE=5,
                   RESULTAT=MODE_DIA,
                   VALE_CALC=52.5095239331,
                   VALE_REFE=52.859999999999999,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=1.E-2,),
                _F(PARA='FREQ',
                   NUME_MODE=6,
                   RESULTAT=MODE_DIA,
                   VALE_CALC=75.42050444,
                   VALE_REFE=75.939999999999998,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.010999999999999999,),
                _F(PARA='FREQ',
                   NUME_MODE=7,
                   RESULTAT=MODE_DIA,
                   VALE_CALC=79.7178814253,
                   VALE_REFE=80.109999999999999,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=1.E-2,),
                _F(PARA='FREQ',
                   NUME_MODE=8,
                   RESULTAT=MODE_DIA,
                   VALE_CALC=117.079964866,
                   VALE_REFE=122.34,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.043,),
                _F(PARA='FREQ',
                   NUME_MODE=9,
                   RESULTAT=MODE_DIA,
                   VALE_CALC=119.285857782,
                   VALE_REFE=123.15000000000001,
                   REFERENCE='SOURCE_EXTERNE',
                   PRECISION=0.032,),
                ),
          )

#

MODE_STA=MODE_STATIQUE(  MATR_RIGI=RIGIDITE,   MATR_MASS=MASSE_DI,
                             PSEUDO_MODE=_F(  AXE = ( 'X',  'Y',  'Z', ))  )

IMPR_RESU(FORMAT="RESULTAT",RESU=_F(RESULTAT=MODE_STA,),)
IMPR_RESU(FORMAT='MED',RESU=_F(RESULTAT=MODE_STA,),)


T_RELE = POST_RELEVE_T ( ACTION=_F( INTITULE = 'MO_ST',
                                    GROUP_NO    = 'N1000',
                                    RESULTAT = MODE_STA,
                                    NOM_CHAM = 'DEPL',
                                    TOUT_CMP = 'OUI',
                                    OPERATION= 'EXTRACTION',),)
IMPR_TABLE ( TABLE = T_RELE,
             NOM_PARA = ('NOEUD','NUME_ORDRE','DX','DY','DZ','NOEUD_CMP',), )

MODE_STA=CALC_CHAMP(reuse=MODE_STA,RESULTAT=MODE_STA,CONTRAINTE=('SIEF_ELGA','EFGE_ELNO'))


MODE_STA=CALC_CHAMP(reuse=MODE_STA,  RESULTAT=MODE_STA,
                    FORCE='REAC_NODA',)

#

ACCE_XY=DEFI_FONCTION(  NOM_PARA='FREQ',    INTERPOL='LOG',
                            VALE=(     1.0,   1.962,   10.0,   19.62,
                                      30.0,  19.62,   100.0,    1.962,
                                   10000.0,   1.962,          )       )

ACCE_Z=DEFI_FONCTION(  NOM_PARA='FREQ',    INTERPOL='LOG',
                            VALE=(     1.0,   0.981,   10.0,    9.81,
                                      30.0,   9.81,   100.0,    0.981,
                                   10000.0,   0.981,          )       )

SPECT_XY=DEFI_NAPPE(  NOM_PARA='AMOR',
                            INTERPOL=( 'LIN', 'LOG', ),
                          PARA=(     0.015,   0.02,    0.025,  ),
                          FONCTION=( ACCE_XY,  ACCE_XY,  ACCE_XY, )  )

SPECT_Z=DEFI_NAPPE(  NOM_PARA='AMOR',
                            INTERPOL=( 'LIN', 'LOG', ),
                          PARA=(     0.015,   0.02,    0.025,  ),
                          FONCTION=( ACCE_Z,   ACCE_Z,   ACCE_Z,  )  )

#

SISM_SPE=COMB_SISM_MODAL(  MODE_MECA=MODE_DIA,
                           AMOR_REDUIT=0.02,
                           MASS_INER=TABL_MAS,
                           CORR_FREQ='NON',
                           MONO_APPUI = 'OUI',
                           EXCIT=_F( TRI_SPEC = 'OUI',
                                     SPEC_OSCI = ( SPECT_XY,  SPECT_XY,
                                                SPECT_XY, ),
                           ECHELLE = ( 1.,  1.,  0.5, )),
                           COMB_MODE=_F(  TYPE = 'SRSS'),
                           COMB_DIRECTION=_F(  TYPE = 'QUAD'),
                           OPTION=( 'DEPL',  'EFGE_ELNO',
                                      'REAC_NODA', )
                            )


TEST_RESU(RESU=(_F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N300',
                   NOM_CMP='DX',
                   VALE_CALC=0.00488011386026,
                   VALE_REFE=4.8469999999999997E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0069,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(NUME_ORDRE=4,
                   RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N300',
                   NOM_CMP='DY',
                   VALE_CALC=0.0021986964296,
                   VALE_REFE=2.1919999999999999E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0031,),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N300',
                   NOM_CMP='DZ',
                   VALE_CALC=2.64970707821E-06,
                   VALE_REFE=2.7350000000000001E-06,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.032,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N500',
                   NOM_CMP='DX',
                   VALE_CALC=0.00483556202757,
                   VALE_REFE=4.8079999999999998E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0058,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N500',
                   NOM_CMP='DY',
                   VALE_CALC=0.00292354440085,
                   VALE_REFE=2.9139999999999999E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0033,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N500',
                   NOM_CMP='DZ',
                   VALE_CALC=0.000650129492775,
                   VALE_REFE=6.5070000000000004E-4,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N700',
                   NOM_CMP='DX',
                   VALE_CALC=0.0036022832545,
                   VALE_REFE=3.588E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.004,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N700',
                   NOM_CMP='DY',
                   VALE_CALC=0.00292284188161,
                   VALE_REFE=2.9139999999999999E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0031,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N700',
                   NOM_CMP='DZ',
                   VALE_CALC=0.000860454670708,
                   VALE_REFE=8.5990000000000003E-4,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N900',
                   NOM_CMP='DX',
                   VALE_CALC=0.00234751332057,
                   VALE_REFE=2.3419999999999999E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0024,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N900',
                   NOM_CMP='DY',
                   VALE_CALC=0.00292185609413,
                   VALE_REFE=2.9129999999999998E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0031,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N900',
                   NOM_CMP='DZ',
                   VALE_CALC=0.00103007728462,
                   VALE_REFE=1.0269999999999999E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.003,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N1100',
                   NOM_CMP='DX',
                   VALE_CALC=2.97889963858E-06,
                   VALE_REFE=3.0089999999999999E-06,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.011,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N1100',
                   NOM_CMP='DY',
                   VALE_CALC=0.000943779496578,
                   VALE_REFE=9.3749999999999997E-4,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0067,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N1100',
                   NOM_CMP='DZ',
                   VALE_CALC=0.000340652518906,
                   VALE_REFE=3.3639999999999999E-4,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.013,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                ),
          )

TEST_RESU(RESU=(_F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N100',
                   NOM_CMP='DX',
                   VALE_CALC=2116.84838823,
                   VALE_REFE=2132.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0072,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N100',
                   NOM_CMP='DY',
                   VALE_CALC=1228.49137832,
                   VALE_REFE=1241.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.011,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N100',
                   NOM_CMP='DZ',
                   VALE_CALC=546.902382238,
                   VALE_REFE=564.60000000000002,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.032,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N100',
                   NOM_CMP='DRX',
                   VALE_CALC=2347.27663744,
                   VALE_REFE=2352.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0021,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N100',
                   NOM_CMP='DRY',
                   VALE_CALC=4755.512986,
                   VALE_REFE=4746.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0021,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N100',
                   NOM_CMP='DRZ',
                   VALE_CALC=949.251079026,
                   VALE_REFE=937.29999999999995,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.013,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N1500',
                   NOM_CMP='DX',
                   VALE_CALC=1636.52246833,
                   VALE_REFE=1653.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.01,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N1500',
                   NOM_CMP='DY',
                   VALE_CALC=3389.53336582,
                   VALE_REFE=3354.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.011,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N1500',
                   NOM_CMP='DZ',
                   VALE_CALC=913.060144054,
                   VALE_REFE=893.70000000000005,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.022,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N1500',
                   NOM_CMP='DRX',
                   VALE_CALC=174.917913232,
                   VALE_REFE=170.80000000000001,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.025,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N1500',
                   NOM_CMP='DRY',
                   VALE_CALC=1692.02257555,
                   VALE_REFE=1668.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.015,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N1500',
                   NOM_CMP='DRZ',
                   VALE_CALC=4940.2733501,
                   VALE_REFE=4903.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0077,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                ),
          )

TEST_RESU(RESU=(_F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N300',
                   NOM_CMP='N',
                   VALE_CALC=542.577005593,
                   VALE_REFE=559.89999999999998,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.031,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M2',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N300',
                   NOM_CMP='VY',
                   VALE_CALC=430.659307031,
                   VALE_REFE=430.80000000000001,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M2',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N300',
                   NOM_CMP='VZ',
                   VALE_CALC=921.549110739,
                   VALE_REFE=914.89999999999998,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0073,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M2',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N300',
                   NOM_CMP='MT',
                   VALE_CALC=944.884376262,
                   VALE_REFE=932.5,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.014,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M2',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N300',
                   NOM_CMP='MFY',
                   VALE_CALC=551.573916632,
                   VALE_REFE=587.29999999999995,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.061,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M2',),

                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N300',
                   NOM_CMP='MFZ',
                   VALE_CALC=598.901620023,
                   VALE_REFE=620.39999999999998,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.035,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M2',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N700',
                   NOM_CMP='N',
                   VALE_CALC=1635.706478,
                   VALE_REFE=1625.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0066,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M7',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N700',
                   NOM_CMP='VY',
                   VALE_CALC=1386.68082587,
                   VALE_REFE=1367.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.015,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M7',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N700',
                   NOM_CMP='VZ',
                   VALE_CALC=231.847312725,
                   VALE_REFE=225.40000000000001,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.029,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M7',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N700',
                   NOM_CMP='MT',
                   VALE_CALC=657.649933847,
                   VALE_REFE=649.60000000000002,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.013,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M7',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N700',
                   NOM_CMP='MFY',
                   VALE_CALC=480.314943255,
                   VALE_REFE=499.80000000000001,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.039,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M7',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N700',
                   NOM_CMP='MFZ',
                   VALE_CALC=894.434629912,
                   VALE_REFE=908.70000000000005,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.016,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M7',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1100',
                   NOM_CMP='N',
                   VALE_CALC=1635.95895746,
                   VALE_REFE=1652.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0098,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M11',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1100',
                   NOM_CMP='VY',
                   VALE_CALC=3214.33547022,
                   VALE_REFE=3177.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.012,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M11',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1100',
                   NOM_CMP='VZ',
                   VALE_CALC=814.311460233,
                   VALE_REFE=795.70000000000005,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.024,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M11',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1100',
                   NOM_CMP='MT',
                   VALE_CALC=174.818532334,
                   VALE_REFE=170.59999999999999,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.025,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M11',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1100',
                   NOM_CMP='MFY',
                   VALE_CALC=932.80314387,
                   VALE_REFE=924.70000000000005,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0088,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M11',),
                _F(RESULTAT=SISM_SPE,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1100',
                   NOM_CMP='MFZ',
                   VALE_CALC=2155.4369885,
                   VALE_REFE=2150.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0026,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M11',),
                ),
          )

# ----------------------------------------------------------------------
#      COMPARAISON AVEC POUX, POUR VALIDER L'OPTION CORR_FREQ
# ----------------------------------------------------------------------

SISM_SIS=COMB_SISM_MODAL(  MODE_MECA=MODE_DIA,
                           AMOR_REDUIT=0.02,
                           CORR_FREQ='OUI',
                           MASS_INER=TABL_MAS,
                           MONO_APPUI = 'OUI',
                           EXCIT=_F( TRI_SPEC = 'OUI',
                                     SPEC_OSCI = ( SPECT_XY,  SPECT_XY,
                                                SPECT_Z,  ),
                                     ECHELLE = ( 1.,  1.,  1., )),
                           COMB_MODE=_F(  TYPE = 'SRSS'),
                           COMB_DIRECTION=_F(  TYPE = 'QUAD'),
                           OPTION=( 'DEPL',  'EFGE_ELNO',
                                      'REAC_NODA', )
                            )

TEST_RESU(RESU=(_F(RESULTAT=SISM_SIS,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N300',
                   NOM_CMP='DX',
                   VALE_CALC=0.00488109017594,
                   VALE_REFE=4.8469999999999997E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0073,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N300',
                   NOM_CMP='DY',
                   VALE_CALC=0.00219913630086,
                   VALE_REFE=2.1919999999999999E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0035,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N700',
                   NOM_CMP='DX',
                   VALE_CALC=0.00360300392736,
                   VALE_REFE=3.588E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0044,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N700',
                   NOM_CMP='DY',
                   VALE_CALC=0.00292342662542,
                   VALE_REFE=2.9139999999999999E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0035,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='DEPL',
                   GROUP_NO='N700',
                   NOM_CMP='DRY',
                   VALE_CALC=0.00144730045393,
                   VALE_REFE=1.436E-3,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.010,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N100',
                   NOM_CMP='DX',
                   VALE_CALC=2117.27188496,
                   VALE_REFE=2132.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0080,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N100',
                   NOM_CMP='DY',
                   VALE_CALC=1228.73715033,
                   VALE_REFE=1241.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.010,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N100',
                   NOM_CMP='DZ',
                   VALE_CALC=547.011795539,
                   VALE_REFE=564.600000000000,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.035,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N1500',
                   NOM_CMP='DRX',
                   VALE_CALC=174.952907313,
                   VALE_REFE=170.800000000000,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.025,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N1500',
                   NOM_CMP='DRY',
                   VALE_CALC=1692.36108162,
                   VALE_REFE=1668.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.015,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='REAC_NODA',
                   GROUP_NO='N1500',
                   NOM_CMP='DRZ',
                   VALE_CALC=4941.26170129,
                   VALE_REFE=4903.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0081,
                   NOEUD_CMP=('COMBI', 'QUAD'),),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N100',
                   NOM_CMP='N',
                   VALE_CALC=547.011795539,
                   VALE_REFE=564.60000000000002,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.035,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M1',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N100',
                   NOM_CMP='VY',
                   VALE_CALC=1228.73715033,
                   VALE_REFE=1241.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.010,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M1',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N100',
                   NOM_CMP='VZ',
                   VALE_CALC=2117.27188496,
                   VALE_REFE=2132.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.010,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M1',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N200',
                   NOM_CMP='MT',
                   VALE_CALC=948.346994971,
                   VALE_REFE=936.20000000000005,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.014,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M1',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N200',
                   NOM_CMP='MFY',
                   VALE_CALC=1882.22338781,
                   VALE_REFE=1857.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.014,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M1',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N200',
                   NOM_CMP='MFZ',
                   VALE_CALC=765.169553974,
                   VALE_REFE=759.60000000000002,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0076,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M1',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1000',
                   NOM_CMP='N',
                   VALE_CALC=2494.28202731,
                   VALE_REFE=2454.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.017,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M40',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1000',
                   NOM_CMP='VY',
                   VALE_CALC=1970.63910845,
                   VALE_REFE=1997.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.014,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M40',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1000',
                   NOM_CMP='VZ',
                   VALE_CALC=518.910085708,
                   VALE_REFE=505.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.028,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M40',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1100',
                   NOM_CMP='MT',
                   VALE_CALC=208.925337846,
                   VALE_REFE=170.59999999999999,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.23,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M50',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1100',
                   NOM_CMP='MFY',
                   VALE_CALC=925.955638853,
                   VALE_REFE=925.10000000000002,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0012,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M50',),
                _F(RESULTAT=SISM_SIS,
                   NOM_CHAM='EFGE_ELNO',
                   GROUP_NO='N1100',
                   NOM_CMP='MFZ',
                   VALE_CALC=2155.86820527,
                   VALE_REFE=2151.0,
                   REFERENCE = 'ANALYTIQUE',
                   PRECISION=0.0025,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   MAILLE='M50',),
                ),
          )

#

FIN( )
