# TITRE  CHEMINEE SOUS EXCITATION SISMIQUE MULTI-SUPPORTEE
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2013  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR
# (AT YOUR OPTION) ANY LATER VERSION.
#
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.
#
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.
# ======================================================================
#
#******************************************************************
#**************   NOUVELLE REALISATION                   **********
#************** PARTIE COMMUNE A TOUTES LES MODELISATIONS **********

DEBUT(CODE=_F(NOM='SDLL112A', NIV_PUB_WEB='INTERNET'), DEBUG=_F(SDVERI='OUI'))

MAILLAGE=LIRE_MAILLAGE(
                           )

MAILLAGE=DEFI_GROUP( reuse=MAILLAGE,   MAILLAGE=MAILLAGE,
  CREA_GROUP_MA=_F(  NOM = 'GXXXXXX_TOUT', TOUT = 'OUI'))

MODELE=AFFE_MODELE(     MAILLAGE=MAILLAGE,
                             AFFE=_F(  GROUP_MA = 'GXXXXXX_POU_D_T',
                                    PHENOMENE = 'MECANIQUE',
                                    MODELISATION = 'POU_D_E')
                           )

MAT=DEFI_MATERIAU(  ELAS=_F(  E = 1.658E+11,  RHO = 1.3404106E+04,
                                    NU = 0.3)
                           )

CHAMPMAT=AFFE_MATERIAU(   MAILLAGE=MAILLAGE,
                             AFFE=_F(  TOUT = 'OUI', MATER = MAT)
                           )

CARA_ELE=AFFE_CARA_ELEM(  MODELE=MODELE,
                             POUTRE=_F(
       GROUP_MA = 'GXXXXXX_TOUT',
  SECTION = 'GENERALE',
                                      CARA = ( 'A',         'IZ',
                                             'IY',        'JX',        ),
                                      VALE = ( 3.4390E-03,  1.3770E-05,
                                             1.3770E-05,  2.7540E-05,  ))
                           )

COND_LIM=AFFE_CHAR_MECA(  MODELE=MODELE,DDL_IMPO=(
                             _F(  GROUP_NO = 'GXXXXXX_ENCASTRE',
                                        DX = 0.,   DY = 0.,   DZ = 0.,
                                        DRX = 0.,   DRY = 0.,   DRZ = 0.),
                                      _F(  GROUP_NO = 'GXXXXXX_ATTACHE',
                                        DX = 0.,   DY = 0.))
                           )

# --------------------------------------------------------------------

ASSEMBLAGE(  MODELE=MODELE,        CARA_ELEM=CARA_ELE,
                     CHAM_MATER=CHAMPMAT,  CHARGE=COND_LIM,
                     NUME_DDL=CO("NUME"),MATR_ASSE=(
                     _F(  MATRICE = CO("RIGIDITE"),  OPTION = 'RIGI_MECA'),
                               _F(  MATRICE = CO("MASSE"),     OPTION = 'MASS_MECA'))
                  )

# CALCUL DE LA MASSE DE LA  STRUCTURE:
#-------------------------------------

MAS=POST_ELEM(   MODELE=MODELE,
                     CHAM_MATER=CHAMPMAT,   CARA_ELEM=CARA_ELE,
                    MASS_INER=_F(  TOUT = 'OUI')
                  )

# CALCUL DES MODES AVEC BLOQUAGE DES ANCRAGES
#         ET AJOUT DES REACTIONS D'APPUI MODALE
#---------------------------------------------

MODE=MODE_ITER_SIMULT(  MATR_RIGI=RIGIDITE,    MATR_MASS=MASSE,
                               METHODE='TRI_DIAG',
                           CALC_FREQ=_F(  NMAX_FREQ = 10)
                  )

MODE=NORM_MODE(reuse=MODE,   MODE=MODE,    NORME='TRAN_ROTA',
                  )

MODE=CALC_CHAMP(reuse=MODE,
                     RESULTAT=MODE,          CONTRAINTE=('SIEF_ELGA'),
                  )

MODE=CALC_CHAMP(reuse=MODE,RESULTAT=MODE,
                 FORCE=('FORC_NODA','REAC_NODA'),
                  )

#
# DEFINITION DU SPECTRE:
#-----------------------

ACCE_XY=DEFI_FONCTION(  NOM_PARA='FREQ',    INTERPOL='LOG',
                            VALE=(     1.0,   1.962,   10.0,   19.62,
                                      30.0,  19.62,   100.0,    1.962,
                                   10000.0,   1.962,          )       )

ACCE_Z=DEFI_FONCTION(  NOM_PARA='FREQ',    INTERPOL='LOG',
                            VALE=(     1.0,   0.981,   10.0,    9.81,
                                      30.0,   9.81,   100.0,    0.981,
                                   10000.0,   0.981,          )       )

SPECT_XY=DEFI_NAPPE(  NOM_PARA='AMOR',
                            INTERPOL=( 'LIN', 'LOG', ),
                          PARA=(     0.02,     0.05,     ),
                          FONCTION=( ACCE_XY,  ACCE_XY,  )  )

SPECT_Z=DEFI_NAPPE(  NOM_PARA='AMOR',    INTERPOL='LOG',
                          PARA=(     0.02,     0.05,   ),
                          FONCTION=( ACCE_Z,   ACCE_Z, )  )

#
#=======================================================================
# 1/ ON ETUDIE LA STRUCTURE EN MONO-APPUI
#                           SANS CORRECTION STATIQUE
#                           SPECTRE HORIZONTAL
#                           COMBINAISON QUADRATIQUE COMPLETE
#-----------------------------------------

SISM_MO1=COMB_SISM_MODAL(      MODE_MECA=MODE,
                               AMOR_REDUIT=0.03,
                               MASS_INER=MAS,
                               CORR_FREQ='NON',
                               MONO_APPUI = 'OUI',
                               EXCIT=_F( AXE = ( 1., 0., 0., ),
                                         SPEC_OSCI = SPECT_XY,
                                         ECHELLE = 1.),
                               COMB_MODE=_F( TYPE = 'CQC'),
                               OPTION=( 'DEPL', 'ACCE_ABSOLU', 'REAC_NODA',)
                           )

#-----------------------------------------
# TEST DES VALEURS DE DEPLACEMENT
# VALEUR DE REFERENCE DEPL         CASTEM2000    ASTER (3.02.16)

N3_DX=1.78952E-04

N7_DX=3.29499E-04

N11_DX=1.09032E-03

#N3_DX=(1.78952E-04 + 1.78493E-04)/ 2.

#N7_DX=(3.29499E-04 + 3.29271E-04)/ 2.

#N11_DX=(1.09032E-03 + 1.08972E-03)/ 2

TEST_RESU(RESU=(_F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_MO1,
                   NOM_CHAM='DEPL',
                   NOEUD='N3',
                   NOM_CMP='DX',
                   VALE_CALC= 1.78493287E-04,
                   VALE_REFE=1.7895199999999999E-4,
                   NOEUD_CMP=('DIR', 'X'),
                   PRECISION=3.0000000000000001E-3,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_MO1,
                   NOM_CHAM='DEPL',
                   NOEUD='N7',
                   NOM_CMP='DX',
                   VALE_CALC= 3.29270871E-04,
                   VALE_REFE=3.2949900000000002E-4,
                   NOEUD_CMP=('DIR', 'X'),
                   PRECISION=3.0000000000000001E-3,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_MO1,
                   NOM_CHAM='DEPL',
                   NOEUD='N11',
                   NOM_CMP='DX',
                   VALE_CALC= 1.08971744E-03,
                   VALE_REFE=1.0903200000000001E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   PRECISION=3.0000000000000001E-3,),
                ),
          )

#-----------------------------------------
# TEST DES VALEURS DE ACCE_ABSOLU
# VALEUR DE REFERENCE ACCE_ABSOLU       ASTER (4.02.21)

N1_AX=1.96200E+00

N5_AX=1.96200E+00

N9_AX=1.96200E+00

TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MO1,
                   NOM_CHAM='ACCE_ABSOLU',
                   NOEUD='N1',
                   NOM_CMP='DX',
                   VALE_CALC=1.962,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MO1,
                   NOM_CHAM='ACCE_ABSOLU',
                   NOEUD='N5',
                   NOM_CMP='DX',
                   VALE_CALC=1.962,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MO1,
                   NOM_CHAM='ACCE_ABSOLU',
                   NOEUD='N9',
                   NOM_CMP='DX',
                   VALE_CALC=1.962,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                ),
          )

#
#-----------------------------------------
# TEST DES VALEURS DE REACTIONS
# VALEUR DE REFERENCE REAC        ASTER (4.02.21)

N1_RX=6.696036E+02

N5_RX=1.164223E+03

N9_RX=9.281995E+02

TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MO1,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DX',
                   VALE_CALC=669.60360000000003,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MO1,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N5',
                   NOM_CMP='DX',
                   VALE_CALC=1164.223,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MO1,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N9',
                   NOM_CMP='DX',
                   VALE_CALC=928.19949999999994,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                ),
          )

#=======================================================================
# 2/ ON ETUDIE LA STRUCTURE EN MONO-APPUI
#                           AVEC CORRECTION STATIQUE
#                           SPECTRE HORIZONTAL
#                           COMBINAISON QUADRATIQUE COMPLETE
#
# CALCUL DES MODES STATIQUES POUR LA PRISE EN COMPTE DES MODES NEGLIGES:
#-----------------------------------------------------------------------

MODE_ST1=MODE_STATIQUE(  MATR_RIGI=RIGIDITE,   MATR_MASS=MASSE,
                         PSEUDO_MODE=(_F(  AXE = ( 'X',  'Y', )),
                                      _F(  NOEUD = ( 'N1', 'N5', 'N9', ),
                                        AVEC_CMP = ( 'DX', 'DY', ))
                                                  )
                          )

MODE_ST1=CALC_CHAMP(reuse=MODE_ST1,
                     RESULTAT=MODE_ST1,      CONTRAINTE=('SIEF_ELGA'),
                  )

MODE_ST1=CALC_CHAMP(  reuse=MODE_ST1,  RESULTAT=MODE_ST1,
                       FORCE=('FORC_NODA','REAC_NODA'),
                 )
#-----------------------------------------

SISM_MO2=COMB_SISM_MODAL(      MODE_MECA=MODE,
                               AMOR_REDUIT=0.03,
                               MASS_INER=MAS,
                               CORR_FREQ='NON',
                               MODE_CORR=MODE_ST1,
                               MONO_APPUI = 'OUI',
                               EXCIT=_F( AXE = ( 1., 0., 0., ),
                                         SPEC_OSCI = SPECT_XY,
                                         ECHELLE = 1.),
                               COMB_MODE=_F( TYPE = 'CQC'),
                                  OPTION=( 'DEPL', 'ACCE_ABSOLU', 'REAC_NODA', )
                           )

#-----------------------------------------
# TEST DES VALEURS DE DEPLACEMENT
# VALEUR DE REFERENCE DEPL         CASTEM2000    ASTER (3.02.16)

N3_DX_2=1.78952E-04

N7_DX_2=3.29499E-04

N11_DX_2=1.09032E-03
#N3_DX_2=(1.78952E-04 + 1.78493E-04)/ 2.

#N7_DX_2=(3.29499E-04 + 3.29271E-04)/ 2.

#N11_DX_2=(1.09032E-03 + 1.08972E-03)/ 2.

TEST_RESU(RESU=(_F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_MO2,
                   NOM_CHAM='DEPL',
                   NOEUD='N3',
                   NOM_CMP='DX',
                   VALE_CALC= 1.78493682E-04,
                   VALE_REFE=1.7895199999999999E-4,
                   NOEUD_CMP=('DIR', 'X'),
                   PRECISION=3.0000000000000001E-3,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_MO2,
                   NOM_CHAM='DEPL',
                   NOEUD='N7',
                   NOM_CMP='DX',
                   VALE_CALC= 3.29270911E-04,
                   VALE_REFE=3.2949900000000002E-4,
                   NOEUD_CMP=('DIR', 'X'),
                   PRECISION=3.0000000000000001E-3,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_MO2,
                   NOM_CHAM='DEPL',
                   NOEUD='N11',
                   NOM_CMP='DX',
                   VALE_CALC= 1.08971828E-03,
                   VALE_REFE=1.0903200000000001E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   PRECISION=3.0000000000000001E-3,),
                ),
          )

#-----------------------------------------
# TEST DES VALEURS DE ACCE_ABSOLU
# VALEUR DE REFERENCE ACCE_ABSOLU       ASTER (4.02.21)

N1_AX_2=1.96200E+00

N5_AX_2=1.96200E+00

N9_AX_2=1.96200E+00

TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MO2,
                   NOM_CHAM='ACCE_ABSOLU',
                   NOEUD='N1',
                   NOM_CMP='DX',
                   VALE_CALC=1.962,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MO2,
                   NOM_CHAM='ACCE_ABSOLU',
                   NOEUD='N5',
                   NOM_CMP='DX',
                   VALE_CALC=1.962,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MO2,
                   NOM_CHAM='ACCE_ABSOLU',
                   NOEUD='N9',
                   NOM_CMP='DX',
                   VALE_CALC=1.962,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                ),
          )

#-----------------------------------------
# TEST DES VALEURS DE REACTIONS
# VALEUR DE REFERENCE REAC  ASTER (4.02.21)

N1_RX_2=6.716683E+02

N5_RX_2=1.169727E+03

N9_RX_2=9.373269E+02

#

TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MO2,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DX',
                   VALE_CALC=671.66830000000004,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MO2,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N5',
                   NOM_CMP='DX',
                   VALE_CALC=1169.7270000000001,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MO2,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N9',
                   NOM_CMP='DX',
                   VALE_CALC=937.32690000000002,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                ),
          )

#=======================================================================
# 4/ ON ETUDIE LA STRUCTURE EN MULTI-APPUI
#         SANS CORRECTION STATIQUE
#                           SPECTRE HORIZONTAL
#                           COMBINAISON QUADRATIQUE COMPLETE
#         SANS DEPLACEMENT RELATIF DES ANCRAGES
#         MEME EXCITATION PARTOUT
#         ON VERIFIE LES RESULTATS PAR RAPPORT AU MONO-APPUI:
#---------------------------------------------------------
#
# CALCUL DES MODES STATIQUES AUX POINTS D'ANCRAGE:
#-------------------------------------------------

MODE_STA=MODE_STATIQUE(  MATR_RIGI=RIGIDITE,    MATR_MASS=MASSE,
                         MODE_STAT=_F( TOUT = 'OUI',
                                       TOUT_CMP = 'OUI')  )

MODE_STA=CALC_CHAMP(reuse=MODE_STA,
                     RESULTAT=MODE_STA,      CONTRAINTE=('SIEF_ELGA'),
                  )

MODE_STA=CALC_CHAMP(  reuse=MODE_STA,  RESULTAT=MODE_STA,
                       FORCE=('FORC_NODA','REAC_NODA'),
                  )

#

SISM_MU1=COMB_SISM_MODAL(      MODE_MECA=MODE,
                               AMOR_REDUIT=0.03,
                               MASS_INER=MAS,
                               CORR_FREQ='NON',
                               MULTI_APPUI ='CORRELE',
                               EXCIT=(_F( GROUP_NO = 'GXXXXXX_ENCASTRE',
                                          AXE = ( 1., 0., 0., ),
                                          SPEC_OSCI = SPECT_XY,
                                          ECHELLE = 1.),
                                      _F( NOEUD = 'N5',
                                          AXE = ( 1., 0., 0., ),
                                          SPEC_OSCI = SPECT_XY,
                                          ECHELLE = 1.),
                                      _F( NOEUD = 'N9',
                                          AXE = ( 1., 0., 0., ),
                                          SPEC_OSCI = SPECT_XY,
                                          ECHELLE = 1.)),
               COMB_MULT_APPUI=(_F(  GROUP_NO = 'GXXXXXX_ENCASTRE',
                                         TYPE_COMBI = 'LINE'),
                                _F(  NOEUD = ( 'N5',  'N9', ),
                                         TYPE_COMBI = 'LINE')),
# DEPLACEMENT RELATIF MAXIMAL
               DEPL_MULT_APPUI=(_F(  NUME_CAS = 1,
                                     NOM_CAS ='DEPL EN N_ENCASTRE',
                                     MODE_STAT = MODE_STA,
                                     NOEUD_REFE = 'N1',
                                     GROUP_NO = 'GXXXXXX_ENCASTRE',
                                     DX = 0.,  DY = 0.),
                                _F(   NUME_CAS = 2,
                                     MODE_STAT = MODE_STA,
                                     NOM_CAS ='DEPL EN N5 ET N9',
                                     NOEUD = ( 'N5',  'N9', ),
                                     DX = 0.0,   DY = 0.0)),

                     COMB_MODE=_F(  TYPE = 'CQC'),

                     OPTION=('DEPL', 'ACCE_ABSOLU', 'REAC_NODA', )
                 )

#-----------------------------------------
# TEST DES VALEURS DE DEPLACEMENT
# VALEUR DE REFERENCE DEPL         CASTEM 2000

N3_DX_4=1.78952E-04

N7_DX_4=3.29499E-04

N11_DX_4=1.09032E-03
#N3_DX_3=5.663E-4

#N7_DX_3=1.687E-3

#N11_DX_3=5.967E-3

TEST_RESU(RESU=(_F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_MU1,
                   NOM_CHAM='DEPL',
                   NOEUD='N3',
                   NOM_CMP='DX',
                   VALE_CALC= 1.78493287E-04,
                   VALE_REFE=1.7895199999999999E-4,
                   NOEUD_CMP=('DIR', 'X'),
                   PRECISION=3.0000000000000001E-3,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_MU1,
                   NOM_CHAM='DEPL',
                   NOEUD='N7',
                   NOM_CMP='DX',
                   VALE_CALC= 3.29270871E-04,
                   VALE_REFE=3.2949900000000002E-4,
                   NOEUD_CMP=('DIR', 'X'),
                   PRECISION=3.0000000000000001E-3,),
                _F(REFERENCE='SOURCE_EXTERNE',
                   RESULTAT=SISM_MU1,
                   NOM_CHAM='DEPL',
                   NOEUD='N11',
                   NOM_CMP='DX',
                   VALE_CALC= 1.08971744E-03,
                   VALE_REFE=1.0903200000000001E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   PRECISION=3.0000000000000001E-3,),
                ),
          )

#-----------------------------------------
# TEST DES VALEURS DE ACCE_ABSOLU
# VALEUR DE REFERENCE ACCE_ABSOLU
#   IDENTIQUES A CELLES DU MONO_APPUI ASTER 4.02.21
## N1_AX  = 1.96200E+00 ;
## N5_AX  = 1.96200E+00 ;
## N9_AX  = 1.96200E+00 ;


TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MU1,
                   NOM_CHAM='ACCE_ABSOLU',
                   NOEUD='N1',
                   NOM_CMP='DX',
                   VALE_CALC=1.962,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU1,
                   NOM_CHAM='ACCE_ABSOLU',
                   NOEUD='N5',
                   NOM_CMP='DX',
                   VALE_CALC=1.962,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU1,
                   NOM_CHAM='ACCE_ABSOLU',
                   NOEUD='N9',
                   NOM_CMP='DX',
                   VALE_CALC=1.962,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                ),
          )

#
#-----------------------------------------
# TEST DES VALEURS DE REACTIONS
# VALEUR DE REFERENCE REAC        ASTER (9.02.11)

N1_RX_3=6.696036E+02

N5_RX_3=1.164223E+03


N9_RX_3= 9.281995E+02


TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MU1,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DX',
                   VALE_CALC=669.60360000000003,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU1,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N5',
                   NOM_CMP='DX',
                   VALE_CALC=1164.223,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU1,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N9',
                   NOM_CMP='DX',
                   VALE_CALC=928.19949999999994,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                ),
          )

#
#=======================================================================
# 5/ ON ETUDIE LA STRUCTURE EN MULTI-APPUI:
#        EXCITATION EN X ET Y
#        AVEC PRISE EN COMPTE DES MODES NEGLIGES
#        AVEC DES DEPLACEMENTS D'ANCRAGE DE 0.001 PAR RAPPORT A SA BASE
#----------------------------------------------------------------------

SISM_MU2=COMB_SISM_MODAL(  MODE_MECA=MODE,
                           AMOR_REDUIT=0.03,
                           MASS_INER=MAS,
                           CORR_FREQ='NON',
                           MODE_CORR=MODE_ST1,
                           MULTI_APPUI ='CORRELE',

                    EXCIT=(_F( GROUP_NO = 'GXXXXXX_ENCASTRE',
                               AXE = ( 1., 0., 0., ),
                               SPEC_OSCI = SPECT_XY,
                               ECHELLE = 1.),
                           _F( GROUP_NO = 'GXXXXXX_ENCASTRE',
                               AXE = ( 0., 1., 0., ),
                               SPEC_OSCI = SPECT_XY,
                               ECHELLE = 1.),
                           _F( NOEUD = 'N5',
                               AXE = ( 1., 0., 0., ),
                               SPEC_OSCI = SPECT_XY,
                               ECHELLE = 1.5),
                           _F( NOEUD = 'N5',
                               AXE = ( 0., 1., 0., ),
                               SPEC_OSCI = SPECT_XY,
                               ECHELLE = 1.5),
                           _F( NOEUD = 'N9',
                               AXE = ( 1., 0., 0., ),
                               SPEC_OSCI = SPECT_XY,
                               ECHELLE = 2.),
                           _F( NOEUD = 'N9',
                               AXE = ( 0., 1., 0., ),
                               SPEC_OSCI = SPECT_XY,
                               ECHELLE = 2.)),

                     COMB_MULT_APPUI=(_F(  GROUP_NO = 'GXXXXXX_ENCASTRE',
                                               TYPE_COMBI = 'LINE'),
                                      _F(  NOEUD = ( 'N5',  'N9', ),
                                               TYPE_COMBI = 'LINE')),

# DEPLACEMENT RELATIF MAXIMAL
                     DEPL_MULT_APPUI=(_F(   NUME_CAS = 1,
                                     NOM_CAS ='DEPL EN N_ENCASTRE',
                                           MODE_STAT = MODE_STA,
                                           NOEUD_REFE = 'N1',
                                           GROUP_NO = 'GXXXXXX_ENCASTRE',
                                           DX = 0.,  DY = 0.),
                                      _F(   NUME_CAS = 1,
                                           NOM_CAS ='DEPL EN N5 ET N9',
                                           MODE_STAT = MODE_STA,
                                           NOEUD = ( 'N5',  'N9', ),
                                           DX = 0.001,   DY = 0.001)),

                     COMB_MODE=_F(  TYPE = 'CQC'),

                     COMB_DIRECTION=_F(  TYPE = 'QUAD'),

                       OPTION=( 'DEPL',  'REAC_NODA', )
                           )

#-----------------------------------------
# TEST DES VALEURS DE DEPLACEMENT
# VALEUR DE REFERENCE DEPL         ASTER (9.02.11)
#   COMPOSANTES DX



TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N3',
                   NOM_CMP='DX',
                   VALE_CALC=5.8865524000000001E-4,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N5',
                   NOM_CMP='DX',
                   VALE_CALC=1.E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N7',
                   NOM_CMP='DX',
                   VALE_CALC=1.1592562000000001E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N9',
                   NOM_CMP='DX',
                   VALE_CALC=1.E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N11',
                   NOM_CMP='DX',
                   VALE_CALC=3.1715621999999998E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                ),
          )

#-----------------------------------------
# VALEUR DE REFERENCE DEPL          ASTER (9.02.11 )
#   COMPOSANTES DY


TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N3',
                   NOM_CMP='DY',
                   VALE_CALC=5.8865524000000001E-4,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'Y'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N5',
                   NOM_CMP='DY',
                   VALE_CALC=1.E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'Y'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N7',
                   NOM_CMP='DY',
                   VALE_CALC=1.1592562000000001E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'Y'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N9',
                   NOM_CMP='DY',
                   VALE_CALC=1.E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'Y'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N11',
                   NOM_CMP='DY',
                   VALE_CALC=3.1715621999999998E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'Y'),
                   ),
                ),
          )

#-----------------------------------------
# VALEUR DE REFERENCE DEPL          ASTER (9.02.11)
#   COMBINAISON QUADRATIQUE


TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N3',
                   NOM_CMP='DX',
                   VALE_CALC=5.8865524000000001E-4,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N5',
                   NOM_CMP='DX',
                   VALE_CALC=1.E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N7',
                   NOM_CMP='DX',
                   VALE_CALC=1.1592562000000001E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N9',
                   NOM_CMP='DX',
                   VALE_CALC=1.E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N11',
                   NOM_CMP='DX',
                   VALE_CALC=3.1715621999999998E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N3',
                   NOM_CMP='DY',
                   VALE_CALC=5.8865524000000001E-4,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N5',
                   NOM_CMP='DY',
                   VALE_CALC=1.E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N7',
                   NOM_CMP='DY',
                   VALE_CALC=1.1592562000000001E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N9',
                   NOM_CMP='DY',
                   VALE_CALC=1.E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='DEPL',
                   NOEUD='N11',
                   NOM_CMP='DY',
                   VALE_CALC=3.1715621999999998E-3,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('COMBI', 'QUAD'),
                   ),
                ),
          )

#-----------------------------------------
# TEST DES VALEURS DE REACTIONS
# VALEUR DE REFERENCE REAC         ASTER (9.02.11)


TEST_RESU(RESU=(_F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N1',
                   NOM_CMP='DX',
                   VALE_CALC=1292.3445999999999,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N5',
                   NOM_CMP='DX',
                   VALE_CALC=1992.5393999999999,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                _F(
                   RESULTAT=SISM_MU2,
                   NOM_CHAM='REAC_NODA',
                   NOEUD='N9',
                   NOM_CMP='DX',
                   VALE_CALC=2064.3775999999998,
                   TOLE_MACHINE=1.E-3,
                   NOEUD_CMP=('DIR', 'X'),
                   ),
                ),
          )

#
FIN( )
#
