# MODIF  DATE 04/09/2012   AUTEUR PELLET J.PELLET 
# TITRE SOLLICITATIONS D'UNE MEMBRANE
# ssls138d.para = tps_job 60 mem_job 512Mo ncpus 1 liste_test S
#            CONFIGURATION MANAGEMENT OF EDF VERSION
# ======================================================================
# COPYRIGHT (C) 1991 - 2012  EDF R&D                  WWW.CODE-ASTER.ORG
# THIS PROGRAM IS FREE SOFTWARE; YOU CAN REDISTRIBUTE IT AND/OR MODIFY  
# IT UNDER THE TERMS OF THE GNU GENERAL PUBLIC LICENSE AS PUBLISHED BY  
# THE FREE SOFTWARE FOUNDATION; EITHER VERSION 2 OF THE LICENSE, OR     
# (AT YOUR OPTION) ANY LATER VERSION.                                                    
#                                                                       
# THIS PROGRAM IS DISTRIBUTED IN THE HOPE THAT IT WILL BE USEFUL, BUT   
# WITHOUT ANY WARRANTY; WITHOUT EVEN THE IMPLIED WARRANTY OF            
# MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE. SEE THE GNU      
# GENERAL PUBLIC LICENSE FOR MORE DETAILS.                              
#                                                                       
# YOU SHOULD HAVE RECEIVED A COPY OF THE GNU GENERAL PUBLIC LICENSE     
# ALONG WITH THIS PROGRAM; IF NOT, WRITE TO EDF R&D CODE_ASTER,         
#    1 AVENUE DU GENERAL DE GAULLE, 92141 CLAMART CEDEX, FRANCE.        
# ======================================================================

DEBUT(CODE=_F(NOM='SSLS138D',NIV_PUB_WEB='INTERNET'),DEBUG=_F(SDVERI='OUI'),)

MAIL=LIRE_MAILLAGE(FORMAT = 'MED')

#
# -------------------------------------------------
# MISE EN DONNEES
# -------------------------------------------------
#

MEMBRANE=DEFI_MATERIAU(ELAS_MEMBRANE=_F(M_LLLL = 3.,
                                        M_LLTT = 1.,
                                        M_TTTT = 3.,
                                        M_LTLT = 2.,
                                        M_LLLT = 0.,
                                        M_TTLT = 0.),)

MATE=AFFE_MATERIAU(MAILLAGE=MAIL,
                   AFFE=(_F(GROUP_MA = ('FACE'),
                            MATER    = MEMBRANE,)))

MODE=AFFE_MODELE(MAILLAGE = MAIL,
                 VERIF    = 'MAILLE',
                 AFFE=(_F(GROUP_MA     = ('FACE'),
                          PHENOMENE    = 'MECANIQUE',
                          MODELISATION = 'MEMBRANE'),
                       _F(GROUP_MA     = ('X_POS','X_NEG','Y_POS','Y_NEG',),
                          PHENOMENE    = 'MECANIQUE',
                          MODELISATION = '3D'),))

CARA=AFFE_CARA_ELEM(MODELE = MODE,
                    MEMBRANE =(_F(GROUP_MA     = 'FACE',
                                  ANGL_REP     = (90., 0.,))))

CL_TRAC=AFFE_CHAR_MECA(MODELE   = MODE,
                       DDL_IMPO =(_F(GROUP_MA = 'FACE',
                                     DZ    = 0.,),
                                  _F(GROUP_MA = 'X_NEG',
                                     DX    = 0.,),
                                  _F(GROUP_MA = 'Y_NEG',
                                     DY    = 0.,),),
                       FORCE_ARETE =(_F(GROUP_MA = 'X_POS',
                                        FX    = 1.,),),)

CL_CISA=AFFE_CHAR_MECA(MODELE   = MODE,
                       DDL_IMPO =(_F(GROUP_MA = 'FACE',
                                     DZ    = 0.,),
                                  _F(GROUP_MA = 'X_NEG',
                                     DY    = 0.,),
                                  _F(GROUP_MA = 'Y_NEG',
                                     DX    = 0.,),),
                       FORCE_ARETE =(_F(GROUP_MA = 'X_POS',
                                        FY    = 1.,),
                                     _F(GROUP_MA = 'Y_POS',
                                        FX    = 1.,),),
                       LIAISON_DDL =_F(GROUP_NO  = ('POINT','POINT'),
                                       DDL       = ('DX','DY'),
                                       COEF_MULT = (1.,-1.),
                                       COEF_IMPO = 0.,),)

#
# ----------------------------------------------
# CALCULS
# ----------------------------------------------
#

LINST=DEFI_LIST_REEL(DEBUT = 0.,
                     INTERVALLE = (_F( JUSQU_A = 1.0,  NOMBRE = 1, ),),)

R_TRAC=STAT_NON_LINE(MODELE      = MODE,
                     CHAM_MATER  = MATE,
                     CARA_ELEM   = CARA,
                     EXCIT       =_F(CHARGE = CL_TRAC,),
                     COMP_INCR   =(_F(GROUP_MA       = ('FACE'),
                                      RELATION       = 'ELAS')),
                     INCREMENT   =_F(LIST_INST = LINST),
                     NEWTON      =_F(MATRICE   = 'TANGENTE',
                                     REAC_ITER = 1,),
                     CONVERGENCE =_F(RESI_REFE_RELA = 1.E-6,
                                     EPSI_REFE      = 1.,
                                     ITER_GLOB_MAXI = 30,),)

R_CISA=STAT_NON_LINE(MODELE      = MODE,
                     CHAM_MATER  = MATE,
                     CARA_ELEM   = CARA,
                     EXCIT       =_F(CHARGE = CL_CISA,),
                     COMP_INCR   =(_F(GROUP_MA       = ('FACE'),
                                      RELATION       = 'ELAS')),
                     INCREMENT   =_F(LIST_INST = LINST),
                     NEWTON      =_F(MATRICE   = 'TANGENTE',
                                     REAC_ITER = 1,),
                     CONVERGENCE =_F(RESI_REFE_RELA = 1.E-6,
                                     EPSI_REFE      = 1.,
                                     ITER_GLOB_MAXI = 30,),)

#
# ----------------------------------------------
# POST-TRAITEMENT
# ----------------------------------------------
#

R_TRAC = CALC_CHAMP(RESULTAT    = R_TRAC,
                    reuse       = R_TRAC,
                    DEFORMATION = 'EPSI_NOEU',
                    CONTRAINTE  = 'SIEF_NOEU')

R_CISA = CALC_CHAMP(RESULTAT    = R_CISA,
                    reuse       = R_CISA,
                    DEFORMATION = 'EPSI_NOEU',
                    CONTRAINTE  = 'SIEF_NOEU')

#
# ----------------------------------------------
# TESTS SUR LES RESULTATS
# ----------------------------------------------
#

# -----------
# DEPLACEMENT
# -----------

TEST_RESU(RESU=(_F(RESULTAT = R_TRAC,
                   INST = 1.,
                   NOM_CHAM = 'DEPL',
                   NOM_CMP = 'DX',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 3./8.,
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_TRAC,
                   INST = 1.,
                   NOM_CHAM = 'DEPL',
                   NOM_CMP = 'DY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = -1./8.,
                   PRECISION = 1.E-10,),))

TEST_RESU(RESU=(_F(RESULTAT = R_CISA,
                   INST = 1.,
                   NOM_CHAM = 'DEPL',
                   NOM_CMP = 'DX',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 1./2.,
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_CISA,
                   INST = 1.,
                   NOM_CHAM = 'DEPL',
                   NOM_CMP = 'DY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 1./2.,
                   PRECISION = 1.E-10,),))

# ------------
# DEFORMATIONS
# ------------

TEST_RESU(RESU=(_F(RESULTAT = R_TRAC,
                   INST = 1.,
                   NOM_CHAM = 'EPSI_NOEU',
                   NOM_CMP = 'EXX',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = -1./8.,
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_TRAC,
                   INST = 1.,
                   NOM_CHAM = 'EPSI_NOEU',
                   NOM_CMP = 'EYY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 3./8.,
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_TRAC,
                   INST = 1.,
                   NOM_CHAM = 'EPSI_NOEU',
                   NOM_CMP = 'EXY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 0.,
                   CRITERE = 'ABSOLU',
                   PRECISION = 1.E-10,),))

TEST_RESU(RESU=(_F(RESULTAT = R_CISA,
                   INST = 1.,
                   NOM_CHAM = 'EPSI_NOEU',
                   NOM_CMP = 'EXX',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 0.,
                   CRITERE = 'ABSOLU',
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_CISA,
                   INST = 1.,
                   NOM_CHAM = 'EPSI_NOEU',
                   NOM_CMP = 'EYY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 0.,
                   CRITERE = 'ABSOLU',
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_CISA,
                   INST = 1.,
                   NOM_CHAM = 'EPSI_NOEU',
                   NOM_CMP = 'EXY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 1./2.*(2.)**0.5,
                   VALE_ABS = 'OUI',
                   PRECISION = 1.E-10,),))

# -----------
# CONTRAINTES
# -----------

TEST_RESU(RESU=(_F(RESULTAT = R_TRAC,
                   INST = 1.,
                   NOM_CHAM = 'SIEF_NOEU',
                   NOM_CMP = 'NXX',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 0.,
                   CRITERE = 'ABSOLU',
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_TRAC,
                   INST = 1.,
                   NOM_CHAM = 'SIEF_NOEU',
                   NOM_CMP = 'NYY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 1.,
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_TRAC,
                   INST = 1.,
                   NOM_CHAM = 'SIEF_NOEU',
                   NOM_CMP = 'NXY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 0.,
                   CRITERE = 'ABSOLU',
                   PRECISION = 1.E-10,),))

TEST_RESU(RESU=(_F(RESULTAT = R_CISA,
                   INST = 1.,
                   NOM_CHAM = 'SIEF_NOEU',
                   NOM_CMP = 'NXX',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 0.,
                   CRITERE = 'ABSOLU',
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_CISA,
                   INST = 1.,
                   NOM_CHAM = 'SIEF_NOEU',
                   NOM_CMP = 'NYY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 0.,
                   CRITERE = 'ABSOLU',
                   PRECISION = 1.E-10,),
                _F(RESULTAT = R_CISA,
                   INST = 1.,
                   NOM_CHAM = 'SIEF_NOEU',
                   NOM_CMP = 'NXY',
                   GROUP_NO = 'POINT',
                   REFERENCE='ANALYTIQUE',
                   VALE = 1.*(2.)**0.5,
                   VALE_ABS = 'OUI',
                   PRECISION = 1.E-10,),))
FIN()
